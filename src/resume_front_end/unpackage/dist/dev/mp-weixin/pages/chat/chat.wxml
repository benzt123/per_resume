<view class="container data-v-0a633310"><scroll-view class="chat-container data-v-0a633310" scroll-y="true" scroll-top="{{d}}" scroll-with-animation="true"><view wx:if="{{a}}" class="message-item assistant-message data-v-0a633310"><view class="avatar assistant-avatar data-v-0a633310">🤖</view><view class="message-content data-v-0a633310"><text class="message-text data-v-0a633310">你好！我是你的智能记账助手。你可以：</text><text class="message-text data-v-0a633310">💰 说"红牛20元"来快速记账</text><text class="message-text data-v-0a633310">📊 询问理财建议和账目分析</text><text class="message-text data-v-0a633310">💡 咨询任何财务相关问题</text></view></view><view wx:for="{{b}}" wx:for-item="message" wx:key="h" class="{{['message-item', 'data-v-0a633310', message.i]}}"><block wx:if="{{message.a}}"><view class="avatar assistant-avatar data-v-0a633310">🤖</view><view class="message-content data-v-0a633310"><text class="message-text data-v-0a633310">{{message.b}}</text><text class="message-time data-v-0a633310">{{message.c}}</text><view wx:if="{{message.d}}" class="records-action data-v-0a633310"><view wx:for="{{message.e}}" wx:for-item="record" wx:key="k" class="single-record-confirm data-v-0a633310"><view class="record-card data-v-0a633310"><view class="record-header data-v-0a633310"><text class="record-type-icon data-v-0a633310">{{record.a}}</text><text class="record-type-text data-v-0a633310">{{record.b}}</text><text class="record-amount data-v-0a633310">¥{{record.c}}</text></view><view class="record-details data-v-0a633310"><text class="record-category data-v-0a633310">分类: {{record.d}}</text><text wx:if="{{record.e}}" class="record-time data-v-0a633310">时间: {{record.f}}</text><text wx:if="{{record.g}}" class="record-note data-v-0a633310">备注: {{record.h}}</text></view><button wx:if="{{record.i}}" class="confirm-single-btn data-v-0a633310" bindtap="{{record.j}}"> ✅ 确认此笔记账 </button><view wx:else class="recorded-single-status data-v-0a633310"><text class="recorded-text data-v-0a633310">✅ 已记录</text></view></view></view></view></view></block><block wx:else><view class="message-content data-v-0a633310"><text class="message-text data-v-0a633310">{{message.f}}</text><text class="message-time data-v-0a633310">{{message.g}}</text></view><view class="avatar user-avatar data-v-0a633310">👤</view></block></view><view wx:if="{{c}}" class="message-item assistant-message data-v-0a633310"><view class="avatar assistant-avatar data-v-0a633310">🤖</view><view class="message-content loading-content data-v-0a633310"><view class="loading-dots data-v-0a633310"><view class="dot data-v-0a633310"></view><view class="dot data-v-0a633310"></view><view class="dot data-v-0a633310"></view></view><text class="loading-text data-v-0a633310">AI正在思考...</text></view></view></scroll-view><view class="input-container-fixed data-v-0a633310"><view class="function-buttons data-v-0a633310"><button class="clear-btn data-v-0a633310" bindtap="{{e}}"> 🗑️ 清空记录 </button></view><view wx:if="{{f}}" class="recording-overlay data-v-0a633310"><view class="recording-content data-v-0a633310"><view class="voice-animation data-v-0a633310"><view class="voice-icon data-v-0a633310">🎤</view><view class="wave-container data-v-0a633310"><view class="wave wave1 data-v-0a633310"></view><view class="wave wave2 data-v-0a633310"></view><view class="wave wave3 data-v-0a633310"></view><view class="wave wave4 data-v-0a633310"></view><view class="wave wave5 data-v-0a633310"></view></view></view><text class="recording-text data-v-0a633310">松开 结束</text><text class="recording-hint data-v-0a633310">正在录音...</text></view></view><view class="input-row data-v-0a633310"><button wx:if="{{g}}" class="voice-toggle-btn data-v-0a633310" bindtap="{{h}}"> 🎤 </button><button wx:if="{{i}}" class="keyboard-toggle-btn data-v-0a633310" bindtap="{{j}}"> ⌨️ </button><block wx:if="{{k}}"><input class="chat-input data-v-0a633310" placeholder="输入消息..." bindconfirm="{{l}}" disabled="{{m}}" confirm-type="send" value="{{n}}" bindinput="{{o}}"/><button class="send-btn data-v-0a633310" bindtap="{{q}}" disabled="{{r}}"><text class="send-text data-v-0a633310">{{p}}</text></button></block><block wx:if="{{s}}"><button bindtouchstart="{{v}}" bindtouchend="{{w}}" bindtouchcancel="{{x}}" disabled="{{y}}" class="{{['voice-btn', 'data-v-0a633310', z && 'recording']}}"><text class="voice-text data-v-0a633310">{{t}}</text></button></block></view></view></view>