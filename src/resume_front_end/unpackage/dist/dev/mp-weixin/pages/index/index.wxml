<scroll-view class="container" scroll-y="true" bindscrolltolower="{{Q}}" lower-threshold="100"><view class="summary-card"><view class="card-decoration"></view><view class="time-range-header" bindtap="{{b}}"><text class="time-range-text">{{a}}</text><view class="time-range-icon">📅</view></view><view class="main-info-section"><view class="left-info"><view class="expense-section"><text class="expense-label">支出</text><view class="expense-icon">⊖</view></view><text class="main-amount">¥{{c}}</text><view class="sub-amounts"><view class="amount-item"><text class="amount-label">收入</text><text class="amount-value">¥{{d}}</text></view><view class="amount-item"><text class="amount-label">结余</text><text class="{{['amount-value', f]}}">¥{{e}}</text></view></view></view><view class="right-info"><view class="chat-bubble"><text class="chat-text">来和我聊天记账吧~</text><view class="bubble-tail"></view></view><view class="avatar-container" bindtap="{{g}}"><view class="avatar"><text class="avatar-emoji">🤖</text></view></view></view></view><view class="budget-section"><view class="progress-container"><view class="progress-circle"><view class="progress-ring" style="{{'background:' + i}}"><view class="progress-inner"><text class="progress-text">{{h}}</text></view></view></view></view> <view class="budget-details"><view class="budget-item"><text class="budget-label">总预算</text><text class="budget-value">¥{{j}}</text><text class="budget-source">来自{{k}}个分类预算</text></view><view class="budget-item"><text class="budget-label">已使用预算</text><text class="budget-value">¥{{l}}</text></view><view class="budget-item"><text class="budget-label">剩余预算</text><text class="budget-value positive">¥{{m}}</text></view></view></view><view class="other-stats"><view class="stat-item"><text class="stat-label">今日支出</text><text class="stat-value expense">¥{{n}}</text></view><view class="stat-item"><text class="stat-label">总记录数</text><text class="stat-value">{{o}}条</text></view><view class="stat-item"><text class="stat-label">平均日支出</text><text class="stat-value expense">¥{{p}}</text></view></view></view><view class="quick-add"><button class="add-btn" bindtap="{{q}}" type="primary">记一笔</button></view><view class="record-list"><view class="record-header"><text class="record-title">账目记录</text></view><view class="filter-section"><view class="filter-row"><view class="filter-item"><text class="filter-label">时间：</text><picker mode="selector" range="{{s}}" value="{{t}}" bindchange="{{v}}"><view class="picker-text">{{r}}</view></picker></view><view class="filter-item"><text class="filter-label">类别：</text><picker mode="selector" range="{{x}}" value="{{y}}" bindchange="{{z}}"><view class="picker-text">{{w}}</view></picker></view></view><view wx:if="{{A}}" class="filter-row"><view class="filter-item"><text class="filter-label">开始：</text><picker mode="date" value="{{C}}" bindchange="{{D}}"><view class="picker-text">{{B}}</view></picker></view><view class="filter-item"><text class="filter-label">结束：</text><picker mode="date" value="{{F}}" bindchange="{{G}}"><view class="picker-text">{{E}}</view></picker></view></view><view wx:if="{{H}}" class="filter-row"><view class="filter-item full-width"><text class="filter-label">分类：</text><picker mode="selector" range="{{J}}" value="{{K}}" bindchange="{{L}}"><view class="picker-text">{{I}}</view></picker></view></view></view><view wx:if="{{M}}" class="empty-state"><text class="empty-text">还没有记录，快去记一笔吧！</text></view><view wx:for="{{N}}" wx:for-item="group" wx:key="h" class="record-group"><view class="date-group-header"><view class="date-info"><text class="date-text">{{group.a}}</text><text class="date-weekday">{{group.b}}</text></view><view class="date-summary"><text wx:if="{{group.c}}" class="date-expense">支出 ¥{{group.d}}</text><text wx:if="{{group.e}}" class="date-income">收入 ¥{{group.f}}</text></view></view><view wx:for="{{group.g}}" wx:for-item="record" wx:key="p" class="record-wrapper"><view class="record-item" bindtap="{{record.i}}" bindtouchstart="{{record.j}}" bindtouchmove="{{record.k}}" bindtouchend="{{record.l}}" style="{{'transform:' + record.m}}"><view class="record-left"><view class="record-category"><text class="category-icon">{{record.a}}</text><text class="category-name">{{record.b}}</text></view><text wx:if="{{record.c}}" class="record-note">{{record.d}}</text></view><view class="record-right"><text class="{{['record-amount', record.g]}}">{{record.e}}¥{{record.f}}</text><text class="record-time">{{record.h}}</text></view></view><view class="action-buttons"><view class="edit-btn" bindtap="{{record.n}}"><text class="edit-text">编辑</text></view><view class="delete-btn" bindtap="{{record.o}}"><text class="delete-text">删除</text></view></view></view></view><view wx:if="{{O}}" class="loading-indicator"><text class="loading-text">加载中...</text></view><view wx:if="{{P}}" class="no-more"><text class="no-more-text">已显示全部记录</text></view></view></scroll-view>