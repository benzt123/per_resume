{"version":3,"file":"index.js","sources":["pages/index/index.vue","../Edgedownload/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvaW5kZXgvaW5kZXgudnVl"],"sourcesContent":["<template>\n\t<scroll-view \n\t\tclass=\"container\" \n\t\tscroll-y=\"true\" \n\t\t@scrolltolower=\"loadMore\"\n\t\tlower-threshold=\"100\">\n\t\t<!-- é¡¶éƒ¨ç»Ÿè®¡å¡ç‰‡ -->\n\t\t<view class=\"summary-card\">\n\t\t\t<view class=\"card-decoration\"></view>\n\t\t\t\n\t\t\t<!-- æ—¶é—´èŒƒå›´æ˜¾ç¤º -->\n\t\t\t<view class=\"time-range-header\" @click=\"toggleTimeFilter\">\n\t\t\t\t<text class=\"time-range-text\">{{getCurrentTimeRangeText()}}</text>\n\t\t\t\t<view class=\"time-range-icon\">ğŸ“…</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- ä¸»è¦ä¿¡æ¯åŒºåŸŸ -->\n\t\t\t<view class=\"main-info-section\">\n\t\t\t\t<view class=\"left-info\">\n\t\t\t\t\t<view class=\"expense-section\">\n\t\t\t\t\t\t<text class=\"expense-label\">æ”¯å‡º</text>\n\t\t\t\t\t\t<view class=\"expense-icon\">âŠ–</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<text class=\"main-amount\">Â¥{{monthExpense}}</text>\n\t\t\t\t\t<view class=\"sub-amounts\">\n\t\t\t\t\t\t<view class=\"amount-item\">\n\t\t\t\t\t\t\t<text class=\"amount-label\">æ”¶å…¥</text>\n\t\t\t\t\t\t\t<text class=\"amount-value\">Â¥{{monthIncome}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"amount-item\">\n\t\t\t\t\t\t\t<text class=\"amount-label\">ç»“ä½™</text>\n\t\t\t\t\t\t\t<text class=\"amount-value\" :class=\"monthBalance >= 0 ? 'positive' : 'negative'\">Â¥{{monthBalance}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"right-info\">\n\t\t\t\t\t<view class=\"chat-bubble\">\n\t\t\t\t\t\t<text class=\"chat-text\">æ¥å’Œæˆ‘èŠå¤©è®°è´¦å§~</text>\n\t\t\t\t\t\t<view class=\"bubble-tail\"></view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"avatar-container\" @click=\"goToChat\">\n\t\t\t\t\t\t<view class=\"avatar\">\n\t\t\t\t\t\t\t<text class=\"avatar-emoji\">ğŸ¤–</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- é¢„ç®—è¿›åº¦åŒºåŸŸ -->\n\t\t\t<view class=\"budget-section\">\n\t\t\t\t\t<view class=\"progress-container\">\n\t\t\t\t\t\t<view class=\"progress-circle\">\n\t\t\t\t\t\t\t<view class=\"progress-ring\" \n\t\t\t\t\t\t\t\t:style=\"{background: `conic-gradient(#4A90E2 0deg, #4A90E2 ${calculateBudgetInfo.progress * 3.6}deg, rgba(255,255,255,0.2) ${calculateBudgetInfo.progress * 3.6}deg, rgba(255,255,255,0.2) 360deg)`}\">\n\t\t\t\t\t\t\t\t<view class=\"progress-inner\">\n\t\t\t\t\t\t\t\t\t<text class=\"progress-text\">{{ getBudgetProgressDisplayText() }}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\t\t\t\t<view class=\"budget-details\">\n\t\t\t\t\t<view class=\"budget-item\">\n\t\t\t\t\t\t<text class=\"budget-label\">æ€»é¢„ç®—</text>\n\t\t\t\t\t\t<text class=\"budget-value\">Â¥{{calculateBudgetInfo.totalBudget}}</text>\n\t\t\t\t\t\t<text class=\"budget-source\">æ¥è‡ª{{categoryBudgets.length}}ä¸ªåˆ†ç±»é¢„ç®—</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"budget-item\">\n\t\t\t\t\t\t<text class=\"budget-label\">å·²ä½¿ç”¨é¢„ç®—</text>\n\t\t\t\t\t\t<text class=\"budget-value\">Â¥{{calculateBudgetInfo.usedAmount.toFixed(2)}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"budget-item\">\n\t\t\t\t\t\t<text class=\"budget-label\">å‰©ä½™é¢„ç®—</text>\n\t\t\t\t\t\t<text class=\"budget-value positive\">Â¥{{calculateBudgetInfo.remainingAmount.toFixed(2)}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- å…¶ä»–ç»Ÿè®¡ä¿¡æ¯ -->\n\t\t\t<view class=\"other-stats\">\n\t\t\t\t<view class=\"stat-item\">\n\t\t\t\t\t<text class=\"stat-label\">ä»Šæ—¥æ”¯å‡º</text>\n\t\t\t\t\t<text class=\"stat-value expense\">Â¥{{todayExpense}}</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"stat-item\">\n\t\t\t\t\t<text class=\"stat-label\">æ€»è®°å½•æ•°</text>\n\t\t\t\t\t<text class=\"stat-value\">{{totalRecords}}æ¡</text>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"stat-item\">\n\t\t\t\t\t<text class=\"stat-label\">å¹³å‡æ—¥æ”¯å‡º</text>\n\t\t\t\t\t<text class=\"stat-value expense\">Â¥{{avgDailyExpense}}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- å¿«æ·æ·»åŠ æŒ‰é’® -->\n\t\t<view class=\"quick-add\">\n\t\t\t<button class=\"add-btn\" @click=\"goToAdd\" type=\"primary\">è®°ä¸€ç¬”</button>\n\t\t</view>\n\t\t\n\t\t<!-- è´¦å•åˆ—è¡¨ -->\n\t\t<view class=\"record-list\">\n\t\t\t<view class=\"record-header\">\n\t\t\t\t<text class=\"record-title\">è´¦ç›®è®°å½•</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- ç­›é€‰å™¨ -->\n\t\t\t<view class=\"filter-section\">\n\t\t\t\t<view class=\"filter-row\">\n\t\t\t\t\t<!-- æ—¶é—´ç­›é€‰ -->\n\t\t\t\t\t<view class=\"filter-item\">\n\t\t\t\t\t\t<text class=\"filter-label\">æ—¶é—´ï¼š</text>\n\t\t\t\t\t\t<picker mode=\"selector\" :range=\"timeOptions\" :value=\"selectedTimeIndex\" @change=\"onTimeChange\">\n\t\t\t\t\t\t\t<view class=\"picker-text\">{{timeOptions[selectedTimeIndex]}}</view>\n\t\t\t\t\t\t</picker>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<!-- ç±»åˆ«ç­›é€‰ -->\n\t\t\t\t\t<view class=\"filter-item\">\n\t\t\t\t\t\t<text class=\"filter-label\">ç±»åˆ«ï¼š</text>\n\t\t\t\t\t\t<picker mode=\"selector\" :range=\"typeOptions\" :value=\"selectedTypeIndex\" @change=\"onTypeChange\">\n\t\t\t\t\t\t\t<view class=\"picker-text\">{{typeOptions[selectedTypeIndex]}}</view>\n\t\t\t\t\t\t</picker>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- è‡ªå®šä¹‰æ—¶é—´èŒƒå›´ -->\n\t\t\t\t<view class=\"filter-row\" v-if=\"selectedTimeIndex === 5\">\n\t\t\t\t\t<view class=\"filter-item\">\n\t\t\t\t\t\t<text class=\"filter-label\">å¼€å§‹ï¼š</text>\n\t\t\t\t\t\t<picker mode=\"date\" :value=\"customStartDate\" @change=\"onStartDateChange\">\n\t\t\t\t\t\t\t<view class=\"picker-text\">{{customStartDate || 'é€‰æ‹©å¼€å§‹æ—¥æœŸ'}}</view>\n\t\t\t\t\t\t</picker>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"filter-item\">\n\t\t\t\t\t\t<text class=\"filter-label\">ç»“æŸï¼š</text>\n\t\t\t\t\t\t<picker mode=\"date\" :value=\"customEndDate\" @change=\"onEndDateChange\">\n\t\t\t\t\t\t\t<view class=\"picker-text\">{{customEndDate || 'é€‰æ‹©ç»“æŸæ—¥æœŸ'}}</view>\n\t\t\t\t\t\t</picker>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- åˆ†ç±»ç­›é€‰ -->\n\t\t\t\t<view class=\"filter-row\" v-if=\"selectedTypeIndex > 0\">\n\t\t\t\t\t<view class=\"filter-item full-width\">\n\t\t\t\t\t\t<text class=\"filter-label\">åˆ†ç±»ï¼š</text>\n\t\t\t\t\t\t<picker mode=\"selector\" :range=\"categoryOptions\" :value=\"selectedCategoryIndex\" @change=\"onCategoryChange\">\n\t\t\t\t\t\t\t<view class=\"picker-text\">{{categoryOptions[selectedCategoryIndex]}}</view>\n\t\t\t\t\t\t</picker>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<view v-if=\"groupedRecords.length === 0\" class=\"empty-state\">\n\t\t\t\t<text class=\"empty-text\">è¿˜æ²¡æœ‰è®°å½•ï¼Œå¿«å»è®°ä¸€ç¬”å§ï¼</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- æŒ‰æ—¥æœŸåˆ†ç»„æ˜¾ç¤ºè®°å½• -->\n\t\t\t<view v-for=\"(group, groupIndex) in groupedRecords\" :key=\"group.date\" class=\"record-group\">\n\t\t\t\t<!-- æ—¥æœŸåˆ†ç»„æ ‡é¢˜ -->\n\t\t\t\t<view class=\"date-group-header\">\n\t\t\t\t\t<view class=\"date-info\">\n\t\t\t\t\t\t<text class=\"date-text\">{{group.dateText}}</text>\n\t\t\t\t\t\t<text class=\"date-weekday\">{{group.weekday}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"date-summary\">\n\t\t\t\t\t\t<text class=\"date-expense\" v-if=\"group.totalExpense > 0\">æ”¯å‡º Â¥{{group.totalExpense}}</text>\n\t\t\t\t\t\t<text class=\"date-income\" v-if=\"group.totalIncome > 0\">æ”¶å…¥ Â¥{{group.totalIncome}}</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<!-- è¯¥æ—¥æœŸä¸‹çš„è®°å½• -->\n\t\t\t\t<view v-for=\"record in group.records\" :key=\"record.id\" class=\"record-wrapper\">\n\t\t\t\t\t<view class=\"record-item\" \n\t\t\t\t\t\t@click=\"showRecordDetail(record)\"\n\t\t\t\t\t\t@touchstart=\"onTouchStart($event, record.id)\"\n\t\t\t\t\t\t@touchmove=\"onTouchMove($event, record.id)\"\n\t\t\t\t\t\t@touchend=\"onTouchEnd($event, record.id)\"\n\t\t\t\t\t\t:style=\"{transform: `translateX(${getTranslateX(record.id)}px)`}\">\n\t\t\t\t\t\t<view class=\"record-left\">\n\t\t\t\t\t\t\t<view class=\"record-category\">\n\t\t\t\t\t\t\t\t<text class=\"category-icon\">{{record.categoryIcon}}</text>\n\t\t\t\t\t\t\t\t<text class=\"category-name\">{{record.categoryName}}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<text class=\"record-note\" v-if=\"record.note\">{{record.note}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"record-right\">\n\t\t\t\t\t\t\t<text class=\"record-amount\" :class=\"record.type\">\n\t\t\t\t\t\t\t\t{{record.type === 'expense' ? '-' : '+'}}Â¥{{record.amount}}\n\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t<text class=\"record-time\">{{formatTimeOnly(record.time)}}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"action-buttons\">\n\t\t\t\t\t\t<view class=\"edit-btn\" @click=\"editRecord(record)\">\n\t\t\t\t\t\t\t<text class=\"edit-text\">ç¼–è¾‘</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"delete-btn\" @click=\"deleteRecord(record)\">\n\t\t\t\t\t\t\t<text class=\"delete-text\">åˆ é™¤</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- åŠ è½½çŠ¶æ€æç¤º -->\n\t\t\t<view v-if=\"hasMore && groupedRecords.length > 0 && isLoading\" class=\"loading-indicator\">\n\t\t\t\t<text class=\"loading-text\">åŠ è½½ä¸­...</text>\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- æ²¡æœ‰æ›´å¤šæ•°æ®æç¤º -->\n\t\t\t<view v-if=\"!hasMore && groupedRecords.length > 0\" class=\"no-more\">\n\t\t\t\t<text class=\"no-more-text\">å·²æ˜¾ç¤ºå…¨éƒ¨è®°å½•</text>\n\t\t\t</view>\n\t\t</view>\n\t</scroll-view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\trecords: [],\n\t\t\t\tallRecords: [], // å­˜å‚¨æ‰€æœ‰è®°å½•\n\t\t\t\tgroupedRecords: [], // æŒ‰æ—¥æœŸåˆ†ç»„çš„è®°å½•\n\t\t\t\tmonthExpense: 0,\n\t\t\t\tmonthIncome: 0,\n\t\t\t\tmonthBalance: 0,\n\t\t\t\ttodayExpense: 0,\n\t\t\t\ttotalRecords: 0,\n\t\t\t\tavgDailyExpense: 0,\n\t\t\t\t// é¢„ç®—ç›¸å…³ - ä¸é¢„ç®—ç®¡ç†é¡µé¢ä¿æŒä¸€è‡´\n\t\t\t\tcategoryBudgets: [], // åˆ†ç±»é¢„ç®—åˆ—è¡¨\n\t\t\t\tcurrentMonthRecords: [], // å½“å‰æœˆä»½çš„è®°å½•\n\t\t\t\t// æ—¶é—´å•ä½å®šä¹‰\n\t\t\t\ttimeUnits: [\n\t\t\t\t\t{ key: 'day', name: 'æ—¥', factor: 30 }, // æ—¥é¢„ç®— Ã— 30 = æœˆé¢„ç®—\n\t\t\t\t\t{ key: 'month', name: 'æœˆ', factor: 1 }, // æœˆé¢„ç®— Ã— 1 = æœˆé¢„ç®—\n\t\t\t\t\t{ key: 'quarter', name: 'å­£', factor: 1/3 }, // å­£é¢„ç®— Ã— 1/3 = æœˆé¢„ç®—\n\t\t\t\t\t{ key: 'year', name: 'å¹´', factor: 1/12 } // å¹´é¢„ç®— Ã— 1/12 = æœˆé¢„ç®—\n\t\t\t\t],\n\t\t\t\tmonthNames: ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ', '11æœˆ', '12æœˆ'],\n\t\t\t\ttouchData: {}, // å­˜å‚¨æ¯ä¸ªitemçš„è§¦æ‘¸æ•°æ®\n\t\t\t\t// åˆ†é¡µç›¸å…³\n\t\t\t\tcurrentPage: 1,\n\t\t\t\tpageSize: 20,\n\t\t\t\thasMore: true,\n\t\t\t\tisLoading: false,\n\t\t\t\t// ç­›é€‰ç›¸å…³\n\t\t\t\ttimeOptions: ['å…¨éƒ¨æ—¶é—´', 'ä»Šå¤©', 'æœ¬å‘¨', 'æœ¬æœˆ', 'æœ¬å¹´', 'è‡ªå®šä¹‰èŒƒå›´'],\n\t\t\t\tselectedTimeIndex: 3, // é»˜è®¤é€‰æ‹©æœ¬æœˆ\n\t\t\t\tcustomStartDate: '',\n\t\t\t\tcustomEndDate: '',\n\t\t\t\ttypeOptions: ['å…¨éƒ¨ç±»å‹', 'æ”¯å‡º', 'æ”¶å…¥'],\n\t\t\t\tselectedTypeIndex: 0,\n\t\t\t\tcategoryOptions: ['å…¨éƒ¨åˆ†ç±»'],\n\t\t\t\tselectedCategoryIndex: 0,\n\t\t\t\t// æ‰€æœ‰åˆ†ç±»æ•°æ®ï¼ˆä»æœ¬åœ°å­˜å‚¨åŠ è½½ï¼‰\n\t\t\t\texpenseCategories: [],\n\t\t\t\tincomeCategories: [],\n\t\t\t\t// é‡‘é¢è®¡ç®—å·¥å…·å‡½æ•°ï¼Œè§£å†³æµ®ç‚¹æ•°ç²¾åº¦é—®é¢˜\n\t\t\t\tmoneyCalculator: {\n\t\t\t\t\t// é‡‘é¢åŠ æ³•\n\t\t\t\t\tadd(a, b) {\n\t\t\t\t\t\tconst factor = 100\n\t\t\t\t\t\treturn Math.round((parseFloat(a) * factor + parseFloat(b) * factor)) / factor\n\t\t\t\t\t},\n\t\t\t\t\t\n\t\t\t\t\t// é‡‘é¢å‡æ³•\n\t\t\t\t\tsubtract(a, b) {\n\t\t\t\t\t\tconst factor = 100\n\t\t\t\t\t\treturn Math.round((parseFloat(a) * factor - parseFloat(b) * factor)) / factor\n\t\t\t\t\t},\n\t\t\t\t\t\n\t\t\t\t\t// é‡‘é¢ä¹˜æ³•\n\t\t\t\t\tmultiply(a, b) {\n\t\t\t\t\t\tconst factor = 100\n\t\t\t\t\t\treturn Math.round(parseFloat(a) * parseFloat(b) * factor) / factor\n\t\t\t\t\t},\n\t\t\t\t\t\n\t\t\t\t\t// é‡‘é¢é™¤æ³•\n\t\t\t\t\tdivide(a, b) {\n\t\t\t\t\t\tif (parseFloat(b) === 0) return 0\n\t\t\t\t\t\tconst factor = 100\n\t\t\t\t\t\treturn Math.round((parseFloat(a) / parseFloat(b)) * factor) / factor\n\t\t\t\t\t},\n\t\t\t\t\t\n\t\t\t\t\t// æ ¼å¼åŒ–é‡‘é¢ï¼Œä¿ç•™ä¸¤ä½å°æ•°\n\t\t\t\t\tformat(amount) {\n\t\t\t\t\t\treturn parseFloat(amount).toFixed(2)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\n\t\tcomputed: {\n\t\t\t// æ€»é¢„ç®— - ç›´æ¥è®¡ç®—å„åˆ†ç±»é¢„ç®—çš„æ€»å’Œï¼ˆä¸é¢„ç®—ç®¡ç†é¡µé¢ä¿æŒä¸€è‡´ï¼‰\n\t\t\ttotalBudget() {\n\t\t\t\treturn this.categoryBudgets.reduce((sum, budget) => {\n\t\t\t\t\t// ç›´æ¥ç´¯åŠ é¢„ç®—é‡‘é¢ï¼Œä¸è¿›è¡Œæ—¶é—´å•ä½è½¬æ¢\n\t\t\t\t\treturn sum + (budget.budgetAmount || 0)\n\t\t\t\t}, 0)\n\t\t\t},\n\t\t\t\n\t\t\t// å·²ä½¿ç”¨é‡‘é¢ - ç»Ÿä¸€ä½¿ç”¨åˆ†ç±»é¢„ç®—çš„è®¡ç®—æ–¹å¼\n\t\t\tusedAmount() {\n\t\t\t\t// ç›´æ¥ä½¿ç”¨å„åˆ†ç±»é¢„ç®—çš„å·²ä½¿ç”¨é‡‘é¢æ€»å’Œ\n\t\t\t\t// è¿™æ ·ç¡®ä¿é¦–é¡µå’Œé¢„ç®—ç®¡ç†é¡µé¢çš„è®¡ç®—æ–¹å¼å®Œå…¨ä¸€è‡´\n\t\t\t\tconst total = this.categoryBudgets.reduce((sum, budget) => {\n\t\t\t\t\treturn sum + (budget.spentAmount || 0)\n\t\t\t\t}, 0)\n\t\t\t\tconsole.log('é¦–é¡µè®¡ç®—å·²ä½¿ç”¨é‡‘é¢(ç»Ÿä¸€æ–¹å¼):', total)\n\t\t\t\treturn total\n\t\t\t},\n\t\t\t\n\t\t\t// å‰©ä½™é‡‘é¢ - ä¸é¢„ç®—ç®¡ç†é¡µé¢ä¿æŒä¸€è‡´\n\t\t\tremainingAmount() {\n\t\t\t\treturn this.totalBudget - this.usedAmount\n\t\t\t},\n\t\t\t\n\t\t\t// ä½¿ç”¨è¿›åº¦ç™¾åˆ†æ¯” - ä¸é¢„ç®—ç®¡ç†é¡µé¢ä¿æŒä¸€è‡´\n\t\t\tprogressPercentage() {\n\t\t\t\tif (this.totalBudget === 0) return 0\n\t\t\t\treturn Math.min((this.usedAmount / this.totalBudget) * 100, 100)\n\t\t\t},\n\t\t\t\n\t\t\t// è®¡ç®—é¢„ç®—ä¿¡æ¯ï¼ˆå§‹ç»ˆåŸºäºæœ¬æœˆæ•°æ®ï¼Œä¸å—ç­›é€‰æ¡ä»¶å½±å“ï¼‰\n\t\t\tcalculateBudgetInfo() {\n\t\t\t\t// è®¡ç®—æœ¬æœˆå‰©ä½™å¤©æ•°\n\t\t\t\tconst now = new Date()\n\t\t\t\tconst year = now.getFullYear()\n\t\t\t\tconst month = now.getMonth()\n\t\t\t\tconst lastDay = new Date(year, month + 1, 0).getDate()\n\t\t\t\tconst currentDay = now.getDate()\n\t\t\t\tconst remainingDays = lastDay - currentDay + 1\n\t\t\t\t\n\t\t\t\t// è®¡ç®—æ—¥å‡å¯èŠ±è´¹\n\t\t\t\tconst dailyAverage = remainingDays > 0 ? this.remainingAmount / remainingDays : 0\n\t\t\t\t\n\t\t\t\treturn {\n\t\t\t\t\ttotalBudget: this.totalBudget,\n\t\t\t\t\tusedAmount: this.usedAmount,\n\t\t\t\t\tremainingAmount: this.remainingAmount,\n\t\t\t\t\tprogress: this.progressPercentage,\n\t\t\t\t\tremainingDays,\n\t\t\t\t\tdailyAverage: Math.max(dailyAverage, 0)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\n\t\tonLoad() {\n\t\t\tthis.loadData()\n\t\t},\n\t\tonShow() {\n\t\t\tthis.loadData()\n\t\t},\n\t\tmethods: {\n\t\t\t// è·å–é¢„ç®—è¿›åº¦æ˜¾ç¤ºæ–‡æœ¬\n\t\t\tgetBudgetProgressDisplayText() {\n\t\t\t\tconst progress = this.calculateBudgetInfo.progress\n\t\t\t\tif (progress >= 100) {\n\t\t\t\t\treturn 'å·²ç”¨å®Œ'\n\t\t\t\t} else {\n\t\t\t\t\treturn Math.round(progress) + '%'\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tloadData() {\n\t\t\t\t// ä»æœ¬åœ°å­˜å‚¨åŠ è½½æ•°æ®\n\t\t\t\tconst records = uni.getStorageSync('records') || []\n\t\t\t\tthis.allRecords = records.sort((a, b) => new Date(b.time) - new Date(a.time))\n\t\t\t\t\n\t\t\t\t// åŠ è½½é¢„ç®—æ•°æ® - ä¸é¢„ç®—ç®¡ç†é¡µé¢ä¿æŒä¸€è‡´\n\t\t\t\tthis.loadBudgetData()\n\t\t\t\t\n\t\t\t\t// åŠ è½½å½“å‰æœˆä»½çš„è®°å½• - ä¸é¢„ç®—ç®¡ç†é¡µé¢ä¿æŒä¸€è‡´\n\t\t\t\tthis.loadCurrentMonthRecords()\n\t\t\t\t\n\t\t\t\t// è®¡ç®—å„åˆ†ç±»çš„æ”¯å‡º - ä¸é¢„ç®—ç®¡ç†é¡µé¢ä¿æŒä¸€è‡´\n\t\t\t\tthis.calculateCategorySpending()\n\t\t\t\t\n\t\t\t\t// åŠ è½½åˆ†ç±»æ•°æ®\n\t\t\t\tthis.loadCategories()\n\t\t\t\t\n\t\t\t\t// é»˜è®¤ç­›é€‰æœ¬æœˆæ•°æ®\n\t\t\t\tthis.selectedTimeIndex = 3 // æœ¬æœˆ\n\t\t\t\t\n\t\t\t\tthis.updateCategoryOptions()\n\t\t\t\tthis.filterRecords()\n\t\t\t\tthis.calculateMonthSummary()\n\t\t\t},\n\t\t\t\n\t\t\t// åŠ è½½é¢„ç®—æ•°æ® - ä¸é¢„ç®—ç®¡ç†é¡µé¢ä¿æŒä¸€è‡´\n\t\t\tloadBudgetData() {\n\t\t\t\tconst savedCategoryBudgets = uni.getStorageSync('categoryBudgets')\n\t\t\t\t\n\t\t\t\tif (savedCategoryBudgets && Array.isArray(savedCategoryBudgets)) {\n\t\t\t\t\tthis.categoryBudgets = savedCategoryBudgets\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// åŠ è½½å½“å‰æœˆä»½çš„è®°å½• - ä¸é¢„ç®—ç®¡ç†é¡µé¢ä¿æŒä¸€è‡´\n\t\t\tloadCurrentMonthRecords() {\n\t\t\t\tconst allRecords = uni.getStorageSync('records') || []\n\t\t\t\t\n\t\t\t\tconst currentDate = new Date()\n\t\t\t\tconst currentYear = currentDate.getFullYear()\n\t\t\t\tconst currentMonth = currentDate.getMonth()\n\t\t\t\t\n\t\t\t\tthis.currentMonthRecords = allRecords.filter(record => {\n\t\t\t\t\tconst recordDate = new Date(record.time)\n\t\t\t\t\treturn recordDate.getFullYear() === currentYear && recordDate.getMonth() === currentMonth\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// åŠ è½½åˆ†ç±»æ•°æ®\n\t\t\tloadCategories() {\n\t\t\t\t// é»˜è®¤åˆ†ç±»æ•°æ®\n\t\t\t\tconst defaultExpenseCategories = [\n\t\t\t\t\t{id: 1, name: 'é¤é¥®', icon: 'ğŸ½ï¸'},\n\t\t\t\t\t{id: 2, name: 'äº¤é€š', icon: 'ğŸš—'},\n\t\t\t\t\t{id: 3, name: 'è´­ç‰©', icon: 'ğŸ›ï¸'},\n\t\t\t\t\t{id: 4, name: 'å¨±ä¹', icon: 'ğŸ¬'},\n\t\t\t\t\t{id: 5, name: 'ä½æˆ¿', icon: 'ğŸ '},\n\t\t\t\t\t{id: 6, name: 'åŒ»ç–—', icon: 'ğŸ’Š'},\n\t\t\t\t\t{id: 7, name: 'æ•™è‚²', icon: 'ğŸ“š'},\n\t\t\t\t\t{id: 8, name: 'é€šè®¯', icon: 'ğŸ“±'},\n\t\t\t\t\t{id: 9, name: 'æœè£…', icon: 'ğŸ‘•'},\n\t\t\t\t\t{id: 10, name: 'å…¶ä»–', icon: 'ğŸ“¦'}\n\t\t\t\t]\n\t\t\t\t\n\t\t\t\tconst defaultIncomeCategories = [\n\t\t\t\t\t{id: 11, name: 'å·¥èµ„', icon: 'ğŸ’°'},\n\t\t\t\t\t{id: 12, name: 'å¥–é‡‘', icon: 'ğŸ'},\n\t\t\t\t\t{id: 13, name: 'æŠ•èµ„', icon: 'ğŸ“ˆ'},\n\t\t\t\t\t{id: 14, name: 'å…¼èŒ', icon: 'ğŸ’¼'},\n\t\t\t\t\t{id: 15, name: 'çº¢åŒ…', icon: 'ğŸ§§'},\n\t\t\t\t\t{id: 16, name: 'é€€æ¬¾', icon: 'â†©ï¸'},\n\t\t\t\t\t{id: 17, name: 'å…¶ä»–', icon: 'ğŸ’'}\n\t\t\t\t]\n\t\t\t\t\n\t\t\t\t// ä»æœ¬åœ°å­˜å‚¨åŠ è½½ï¼Œå¦‚æœæ²¡æœ‰åˆ™ä½¿ç”¨é»˜è®¤æ•°æ®\n\t\t\t\tlet expenseCategories = uni.getStorageSync('expenseCategories')\n\t\t\t\tlet incomeCategories = uni.getStorageSync('incomeCategories')\n\t\t\t\t\n\t\t\t\tif (!expenseCategories || expenseCategories.length === 0) {\n\t\t\t\t\texpenseCategories = defaultExpenseCategories\n\t\t\t\t\tuni.setStorageSync('expenseCategories', expenseCategories)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (!incomeCategories || incomeCategories.length === 0) {\n\t\t\t\t\tincomeCategories = defaultIncomeCategories\n\t\t\t\t\tuni.setStorageSync('incomeCategories', incomeCategories)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.expenseCategories = expenseCategories\n\t\t\t\tthis.incomeCategories = incomeCategories\n\t\t\t},\n\t\t\t\n\t\t\t// æ›´æ–°åˆ†ç±»é€‰é¡¹\n\t\t\tupdateCategoryOptions() {\n\t\t\t\tlet categories = ['å…¨éƒ¨åˆ†ç±»']\n\t\t\t\t\n\t\t\t\tif (this.selectedTypeIndex === 1) {\n\t\t\t\t\t// æ”¯å‡ºç±»å‹ï¼Œæ˜¾ç¤ºæ”¯å‡ºåˆ†ç±»\n\t\t\t\t\tcategories = categories.concat(this.expenseCategories.map(cat => cat.name))\n\t\t\t\t} else if (this.selectedTypeIndex === 2) {\n\t\t\t\t\t// æ”¶å…¥ç±»å‹ï¼Œæ˜¾ç¤ºæ”¶å…¥åˆ†ç±»\n\t\t\t\t\tcategories = categories.concat(this.incomeCategories.map(cat => cat.name))\n\t\t\t\t} else {\n\t\t\t\t\t// å…¨éƒ¨ç±»å‹ï¼Œæ˜¾ç¤ºæ‰€æœ‰åˆ†ç±»\n\t\t\t\t\tcategories = categories.concat(this.expenseCategories.map(cat => cat.name))\n\t\t\t\t\tcategories = categories.concat(this.incomeCategories.map(cat => cat.name))\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.categoryOptions = categories\n\t\t\t\t// å¦‚æœå½“å‰é€‰æ‹©çš„åˆ†ç±»ä¸åœ¨æ–°çš„é€‰é¡¹ä¸­ï¼Œé‡ç½®ä¸º\"å…¨éƒ¨åˆ†ç±»\"\n\t\t\t\tif (this.selectedCategoryIndex >= this.categoryOptions.length) {\n\t\t\t\t\tthis.selectedCategoryIndex = 0\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// ç­›é€‰è®°å½•\n\t\t\tfilterRecords() {\n\t\t\t\tlet filteredRecords = this.allRecords\n\t\t\t\t\n\t\t\t\t// æ—¶é—´ç­›é€‰\n\t\t\t\tif (this.selectedTimeIndex > 0) {\n\t\t\t\t\tfilteredRecords = this.filterByTime(filteredRecords)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// ç±»å‹ç­›é€‰\n\t\t\t\tif (this.selectedTypeIndex > 0) {\n\t\t\t\t\tconst type = this.selectedTypeIndex === 1 ? 'expense' : 'income'\n\t\t\t\t\tfilteredRecords = filteredRecords.filter(record => record.type === type)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// åˆ†ç±»ç­›é€‰\n\t\t\t\tif (this.selectedCategoryIndex > 0) {\n\t\t\t\t\tconst categoryName = this.categoryOptions[this.selectedCategoryIndex]\n\t\t\t\t\tfilteredRecords = filteredRecords.filter(record => record.categoryName === categoryName)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.records = filteredRecords\n\t\t\t\t\n\t\t\t\t// é‡ç½®åˆ†é¡µçŠ¶æ€\n\t\t\t\tthis.currentPage = 1\n\t\t\t\tthis.hasMore = true\n\t\t\t\t\n\t\t\t\t// æŒ‰æ—¥æœŸåˆ†ç»„å¹¶åˆ†é¡µæ˜¾ç¤º\n\t\t\t\tthis.groupRecordsByDate()\n\t\t\t\t\n\t\t\t\t// é‡æ–°è®¡ç®—ç»Ÿè®¡æ•°æ®ï¼ˆåŒ…æ‹¬é¢„ç®—æ•°æ®ï¼‰\n\t\t\t\tthis.calculateMonthSummary()\n\t\t\t},\n\t\t\t\n\t\t\t// æŒ‰æ—¶é—´ç­›é€‰\n\t\t\tfilterByTime(records) {\n\t\t\t\tconst now = new Date()\n\t\t\t\tconst today = new Date(now.getFullYear(), now.getMonth(), now.getDate())\n\t\t\t\t\n\t\t\t\treturn records.filter(record => {\n\t\t\t\t\tconst recordDate = new Date(record.time)\n\t\t\t\t\tconst recordDay = new Date(recordDate.getFullYear(), recordDate.getMonth(), recordDate.getDate())\n\t\t\t\t\t\n\t\t\t\t\tswitch(this.selectedTimeIndex) {\n\t\t\t\t\t\tcase 1: // ä»Šå¤©\n\t\t\t\t\t\t\treturn recordDay.getTime() === today.getTime()\n\t\t\t\t\t\tcase 2: // æœ¬å‘¨\n\t\t\t\t\t\t\tconst weekStart = new Date(today)\n\t\t\t\t\t\t\tweekStart.setDate(today.getDate() - today.getDay())\n\t\t\t\t\t\t\treturn recordDate >= weekStart\n\t\t\t\t\t\tcase 3: // æœ¬æœˆ\n\t\t\t\t\t\t\treturn recordDate.getFullYear() === now.getFullYear() && \n\t\t\t\t\t\t\t\t   recordDate.getMonth() === now.getMonth()\n\t\t\t\t\t\tcase 4: // æœ¬å¹´\n\t\t\t\t\t\t\treturn recordDate.getFullYear() === now.getFullYear()\n\t\t\t\t\t\tcase 5: // è‡ªå®šä¹‰èŒƒå›´\n\t\t\t\t\t\t\tif (!this.customStartDate || !this.customEndDate) {\n\t\t\t\t\t\t\t\treturn true // å¦‚æœæ²¡æœ‰è®¾ç½®æ—¥æœŸèŒƒå›´ï¼Œæ˜¾ç¤ºæ‰€æœ‰è®°å½•\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst startDate = new Date(this.customStartDate)\n\t\t\t\t\t\t\tconst endDate = new Date(this.customEndDate + ' 23:59:59') // åŒ…å«ç»“æŸæ—¥æœŸçš„å…¨å¤©\n\t\t\t\t\t\t\treturn recordDate >= startDate && recordDate <= endDate\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn true\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// æ—¶é—´ç­›é€‰å˜åŒ–\n\t\t\tonTimeChange(e) {\n\t\t\t\tthis.selectedTimeIndex = e.detail.value\n\t\t\t\t// å¦‚æœåˆ‡æ¢åˆ°éè‡ªå®šä¹‰èŒƒå›´ï¼Œæ¸…ç©ºè‡ªå®šä¹‰æ—¥æœŸ\n\t\t\t\tif (this.selectedTimeIndex !== 5) {\n\t\t\t\t\tthis.customStartDate = ''\n\t\t\t\t\tthis.customEndDate = ''\n\t\t\t\t} else {\n\t\t\t\t\t// å¦‚æœé€‰æ‹©è‡ªå®šä¹‰èŒƒå›´ï¼Œå¼¹å‡ºæ—¥æœŸé€‰æ‹©å™¨\n\t\t\t\t\tthis.showCustomDatePicker()\n\t\t\t\t}\n\t\t\t\tthis.filterRecords()\n\t\t\t},\n\t\t\t\n\t\t\t// æ˜¾ç¤ºè‡ªå®šä¹‰æ—¥æœŸé€‰æ‹©å™¨\n\t\t\tshowCustomDatePicker() {\n\t\t\t\t// å…ˆé€‰æ‹©å¼€å§‹æ—¥æœŸ\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'é€‰æ‹©æ—¶é—´èŒƒå›´',\n\t\t\t\t\tcontent: 'è¯·å…ˆé€‰æ‹©å¼€å§‹æ—¥æœŸï¼Œç„¶åé€‰æ‹©ç»“æŸæ—¥æœŸ',\n\t\t\t\t\tshowCancel: false,\n\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t// å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ æ—¥æœŸé€‰æ‹©é€»è¾‘ï¼Œæˆ–è€…è®©ç”¨æˆ·åœ¨ç­›é€‰åŒºåŸŸæ‰‹åŠ¨é€‰æ‹©\n\t\t\t\t\t\t// ç”±äºuni-appçš„é™åˆ¶ï¼Œè¿™é‡Œä¸»è¦æ˜¯æç¤ºç”¨æˆ·\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// æŒ‰æ—¥æœŸåˆ†ç»„è®°å½•\n\t\t\tgroupRecordsByDate() {\n\t\t\t\tconst groupedMap = new Map()\n\t\t\t\t\n\t\t\t\t// è·å–å½“å‰é¡µåº”è¯¥æ˜¾ç¤ºçš„è®°å½•\n\t\t\t\tconst totalRecords = this.records\n\t\t\t\tconst startIndex = 0\n\t\t\t\tconst endIndex = this.currentPage * this.pageSize\n\t\t\t\tconst displayRecords = totalRecords.slice(startIndex, endIndex)\n\t\t\t\t\n\t\t\t\t// æ£€æŸ¥æ˜¯å¦è¿˜æœ‰æ›´å¤šæ•°æ®\n\t\t\t\tthis.hasMore = endIndex < totalRecords.length\n\t\t\t\t\n\t\t\t\t// æŒ‰æ—¥æœŸåˆ†ç»„\n\t\t\t\tdisplayRecords.forEach(record => {\n\t\t\t\t\tconst date = new Date(record.time)\n\t\t\t\t\tconst dateKey = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`\n\t\t\t\t\t\n\t\t\t\t\tif (!groupedMap.has(dateKey)) {\n\t\t\t\t\t\tgroupedMap.set(dateKey, {\n\t\t\t\t\t\t\tdate: dateKey,\n\t\t\t\t\t\t\tdateText: this.formatDateText(date),\n\t\t\t\t\t\t\tweekday: this.getWeekday(date),\n\t\t\t\t\t\t\trecords: [],\n\t\t\t\t\t\t\ttotalExpense: 0,\n\t\t\t\t\t\t\ttotalIncome: 0\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tconst group = groupedMap.get(dateKey)\n\t\t\t\t\tgroup.records.push(record)\n\t\t\t\t\t\n\t\t\t\t\tif (record.type === 'expense') {\n\t\t\t\t\t\tgroup.totalExpense = this.moneyCalculator.add(group.totalExpense, parseFloat(record.amount))\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgroup.totalIncome = this.moneyCalculator.add(group.totalIncome, parseFloat(record.amount))\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\t// è½¬æ¢ä¸ºæ•°ç»„å¹¶æŒ‰æ—¥æœŸå€’åºæ’åˆ—\n\t\t\t\tthis.groupedRecords = Array.from(groupedMap.values()).map(group => ({\n\t\t\t\t\t...group,\n\t\t\t\t\ttotalExpense: this.moneyCalculator.format(group.totalExpense),\n\t\t\t\t\ttotalIncome: this.moneyCalculator.format(group.totalIncome)\n\t\t\t\t})).sort((a, b) => new Date(b.date) - new Date(a.date))\n\t\t\t},\n\t\t\t\n\t\t\t// æ ¼å¼åŒ–æ—¥æœŸæ˜¾ç¤ºæ–‡æœ¬\n\t\t\tformatDateText(date) {\n\t\t\t\tconst now = new Date()\n\t\t\t\tconst today = new Date(now.getFullYear(), now.getMonth(), now.getDate())\n\t\t\t\tconst yesterday = new Date(today.getTime() - 24 * 60 * 60 * 1000)\n\t\t\t\tconst recordDate = new Date(date.getFullYear(), date.getMonth(), date.getDate())\n\t\t\t\t\n\t\t\t\tif (recordDate.getTime() === today.getTime()) {\n\t\t\t\t\treturn 'ä»Šå¤©'\n\t\t\t\t} else if (recordDate.getTime() === yesterday.getTime()) {\n\t\t\t\t\treturn 'æ˜¨å¤©'\n\t\t\t\t} else if (now.getFullYear() === date.getFullYear()) {\n\t\t\t\t\treturn `${date.getMonth() + 1}æœˆ${date.getDate()}æ—¥`\n\t\t\t\t} else {\n\t\t\t\t\treturn `${date.getFullYear()}å¹´${date.getMonth() + 1}æœˆ${date.getDate()}æ—¥`\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// è·å–æ˜ŸæœŸå‡ \n\t\t\tgetWeekday(date) {\n\t\t\t\tconst weekdays = ['å‘¨æ—¥', 'å‘¨ä¸€', 'å‘¨äºŒ', 'å‘¨ä¸‰', 'å‘¨å››', 'å‘¨äº”', 'å‘¨å…­']\n\t\t\t\treturn weekdays[date.getDay()]\n\t\t\t},\n\t\t\t\n\t\t\t// åŠ è½½æ›´å¤šæ•°æ®ï¼ˆæ»šåŠ¨åˆ°åº•éƒ¨è‡ªåŠ¨è§¦å‘ï¼‰\n\t\t\tloadMore() {\n\t\t\t\tif (this.isLoading || !this.hasMore) return\n\t\t\t\t\n\t\t\t\tthis.isLoading = true\n\t\t\t\t\n\t\t\t\t// æ¨¡æ‹Ÿç½‘ç»œå»¶è¿Ÿï¼Œå®é™…é¡¹ç›®ä¸­è¿™é‡Œæ˜¯ç½‘ç»œè¯·æ±‚\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.currentPage++\n\t\t\t\t\tthis.groupRecordsByDate()\n\t\t\t\t\tthis.isLoading = false\n\t\t\t\t}, 800) // å¢åŠ ä¸€ç‚¹å»¶è¿Ÿï¼Œè®©ç”¨æˆ·çœ‹åˆ°åŠ è½½çŠ¶æ€\n\t\t\t},\n\t\t\t\n\t\t\t// åªæ ¼å¼åŒ–æ—¶é—´éƒ¨åˆ†ï¼ˆä¸åŒ…æ‹¬æ—¥æœŸï¼‰\n\t\t\tformatTimeOnly(timeStr) {\n\t\t\t\tconst date = new Date(timeStr)\n\t\t\t\treturn `${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}`\n\t\t\t},\n\t\t\t\n\t\t\t// å¼€å§‹æ—¥æœŸé€‰æ‹©\n\t\t\tonStartDateChange(e) {\n\t\t\t\tthis.customStartDate = e.detail.value\n\t\t\t\t// å¦‚æœç»“æŸæ—¥æœŸæ—©äºå¼€å§‹æ—¥æœŸï¼Œè‡ªåŠ¨è°ƒæ•´ç»“æŸæ—¥æœŸ\n\t\t\t\tif (this.customEndDate && this.customEndDate < this.customStartDate) {\n\t\t\t\t\tthis.customEndDate = this.customStartDate\n\t\t\t\t}\n\t\t\t\tthis.filterRecords()\n\t\t\t},\n\t\t\t\n\t\t\t// ç»“æŸæ—¥æœŸé€‰æ‹©\n\t\t\tonEndDateChange(e) {\n\t\t\t\tthis.customEndDate = e.detail.value\n\t\t\t\t// å¦‚æœç»“æŸæ—¥æœŸæ—©äºå¼€å§‹æ—¥æœŸï¼Œè‡ªåŠ¨è°ƒæ•´å¼€å§‹æ—¥æœŸ\n\t\t\t\tif (this.customStartDate && this.customEndDate < this.customStartDate) {\n\t\t\t\t\tthis.customStartDate = this.customEndDate\n\t\t\t\t}\n\t\t\t\tthis.filterRecords()\n\t\t\t},\n\t\t\t\n\t\t\t// ç±»å‹ç­›é€‰å˜åŒ–\n\t\t\tonTypeChange(e) {\n\t\t\t\tthis.selectedTypeIndex = e.detail.value\n\t\t\t\tthis.selectedCategoryIndex = 0 // é‡ç½®åˆ†ç±»é€‰æ‹©\n\t\t\t\tthis.updateCategoryOptions()\n\t\t\t\tthis.filterRecords()\n\t\t\t},\n\t\t\t\n\t\t\t// åˆ†ç±»ç­›é€‰å˜åŒ–\n\t\t\tonCategoryChange(e) {\n\t\t\t\tthis.selectedCategoryIndex = e.detail.value\n\t\t\t\tthis.filterRecords()\n\t\t\t},\n\t\t\t\n\t\t\tcalculateMonthSummary() {\n\t\t\t\t// æ ¹æ®ç­›é€‰æ¡ä»¶è·å–è®°å½•\n\t\t\t\tlet filteredRecords = this.allRecords\n\t\t\t\t\n\t\t\t\t// åº”ç”¨æ—¶é—´ç­›é€‰\n\t\t\t\tif (this.selectedTimeIndex > 0) {\n\t\t\t\t\tfilteredRecords = this.filterByTime(filteredRecords)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// åº”ç”¨ç±»å‹ç­›é€‰\n\t\t\t\tif (this.selectedTypeIndex > 0) {\n\t\t\t\t\tconst type = this.selectedTypeIndex === 1 ? 'expense' : 'income'\n\t\t\t\t\tfilteredRecords = filteredRecords.filter(record => record.type === type)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// åº”ç”¨åˆ†ç±»ç­›é€‰\n\t\t\t\tif (this.selectedCategoryIndex > 0) {\n\t\t\t\t\tconst categoryName = this.categoryOptions[this.selectedCategoryIndex]\n\t\t\t\t\tfilteredRecords = filteredRecords.filter(record => record.categoryName === categoryName)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tlet filteredExpense = 0\n\t\t\t\tlet filteredIncome = 0\n\t\t\t\tlet todayExpense = 0\n\t\t\t\tlet expenseDays = new Set() // è®°å½•æœ‰æ”¯å‡ºçš„å¤©æ•°\n\t\t\t\t\n\t\t\t\t// è®¡ç®—ç­›é€‰åçš„ç»Ÿè®¡æ•°æ®\n\t\t\t\tfilteredRecords.forEach(record => {\n\t\t\t\t\tconst recordDate = new Date(record.time)\n\t\t\t\t\tconst recordDay = new Date(recordDate.getFullYear(), recordDate.getMonth(), recordDate.getDate())\n\t\t\t\t\t\n\t\t\t\t\tif (record.type === 'expense') {\n\t\t\t\t\t\tfilteredExpense = this.moneyCalculator.add(filteredExpense, parseFloat(record.amount))\n\t\t\t\t\t\texpenseDays.add(recordDay.getTime()) // ä½¿ç”¨æ—¶é—´æˆ³ç¡®ä¿å”¯ä¸€æ€§\n\t\t\t\t\t} else {\n\t\t\t\t\t\tfilteredIncome = this.moneyCalculator.add(filteredIncome, parseFloat(record.amount))\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\t// è®¡ç®—ä»Šæ—¥æ”¯å‡ºï¼ˆåŸºäºåŸå§‹æ•°æ®ï¼Œä¸å—ç­›é€‰å½±å“ï¼‰\n\t\t\t\tconst now = new Date()\n\t\t\t\tconst today = new Date(now.getFullYear(), now.getMonth(), now.getDate())\n\t\t\t\tthis.allRecords.forEach(record => {\n\t\t\t\t\tconst recordDate = new Date(record.time)\n\t\t\t\t\tconst recordDay = new Date(recordDate.getFullYear(), recordDate.getMonth(), recordDate.getDate())\n\t\t\t\t\tif (recordDay.getTime() === today.getTime() && record.type === 'expense') {\n\t\t\t\t\t\ttodayExpense = this.moneyCalculator.add(todayExpense, parseFloat(record.amount))\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\tthis.monthExpense = this.moneyCalculator.format(filteredExpense)\n\t\t\t\tthis.monthIncome = this.moneyCalculator.format(filteredIncome)\n\t\t\t\tthis.monthBalance = this.moneyCalculator.format(this.moneyCalculator.subtract(filteredIncome, filteredExpense))\n\t\t\t\tthis.todayExpense = this.moneyCalculator.format(todayExpense)\n\t\t\t\tthis.totalRecords = filteredRecords.length\n\t\t\t\t\n\t\t\t\t// è®¡ç®—å¹³å‡æ—¥æ”¯å‡ºï¼ˆåŸºäºç­›é€‰åçš„æ•°æ®ï¼‰\n\t\t\t\tconst expenseDaysCount = expenseDays.size\n\t\t\t\tthis.avgDailyExpense = expenseDaysCount > 0 ? \n\t\t\t\t\tthis.moneyCalculator.format(this.moneyCalculator.divide(filteredExpense, expenseDaysCount)) : '0.00'\n\t\t\t\t\n\t\t\t\t// é¢„ç®—è¿›åº¦åŒºåŸŸä¸å—ç­›é€‰æ¡ä»¶å½±å“ï¼Œå§‹ç»ˆä½¿ç”¨æœ¬æœˆæ•°æ®\n\t\t\t\t// é‡æ–°åŠ è½½æœ¬æœˆè®°å½•å¹¶è®¡ç®—é¢„ç®—æ•°æ®\n\t\t\t\tthis.loadCurrentMonthRecords()\n\t\t\t\tthis.calculateCategorySpending()\n\t\t},\n\t\t\n\t\t\t\n\t\t\t// è·å–å½“å‰æ—¶é—´èŒƒå›´æ–‡æœ¬ï¼ˆæ ¹æ®ç­›é€‰æ¡ä»¶ï¼‰\n\t\t\tgetCurrentTimeRangeText() {\n\t\t\t\tswitch(this.selectedTimeIndex) {\n\t\t\t\t\tcase 0: // å…¨éƒ¨æ—¶é—´\n\t\t\t\t\t\treturn this.getCurrentMonthRange()\n\t\t\t\t\tcase 1: // ä»Šå¤©\n\t\t\t\t\t\tconst today = new Date()\n\t\t\t\t\t\treturn this.formatSingleDate(today)\n\t\t\t\t\tcase 2: // æœ¬å‘¨\n\t\t\t\t\t\treturn this.getCurrentWeekRange()\n\t\t\t\t\tcase 3: // æœ¬æœˆ\n\t\t\t\t\t\treturn this.getCurrentMonthRange()\n\t\t\t\t\tcase 4: // æœ¬å¹´\n\t\t\t\t\t\treturn this.getCurrentYearRange()\n\t\t\t\t\tcase 5: // è‡ªå®šä¹‰èŒƒå›´\n\t\t\t\t\t\tif (this.customStartDate && this.customEndDate) {\n\t\t\t\t\t\t\treturn this.formatCustomRange()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn 'è¯·é€‰æ‹©æ—¶é—´èŒƒå›´'\n\t\t\t\t\t\t}\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn this.getCurrentMonthRange()\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// è·å–å½“å‰æœˆä»½èŒƒå›´\n\t\t\tgetCurrentMonthRange() {\n\t\t\t\tconst now = new Date()\n\t\t\t\tconst year = now.getFullYear()\n\t\t\t\tconst month = now.getMonth()\n\t\t\t\t\n\t\t\t\tconst firstDay = new Date(year, month, 1)\n\t\t\t\tconst lastDay = new Date(year, month + 1, 0)\n\t\t\t\t\n\t\t\t\tconst formatDate = (date) => {\n\t\t\t\t\tconst y = date.getFullYear()\n\t\t\t\t\tconst m = String(date.getMonth() + 1).padStart(2, '0')\n\t\t\t\t\tconst d = String(date.getDate()).padStart(2, '0')\n\t\t\t\t\treturn `${y}å¹´${m}æœˆ${d}æ—¥`\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn `${formatDate(firstDay)}-${formatDate(lastDay)}`\n\t\t\t},\n\t\t\t\n\t\t\t// è·å–æœ¬å‘¨èŒƒå›´\n\t\t\tgetCurrentWeekRange() {\n\t\t\t\tconst now = new Date()\n\t\t\t\tconst today = new Date(now.getFullYear(), now.getMonth(), now.getDate())\n\t\t\t\tconst weekStart = new Date(today)\n\t\t\t\tweekStart.setDate(today.getDate() - today.getDay())\n\t\t\t\tconst weekEnd = new Date(weekStart)\n\t\t\t\tweekEnd.setDate(weekStart.getDate() + 6)\n\t\t\t\t\n\t\t\t\tconst formatDate = (date) => {\n\t\t\t\t\tconst y = date.getFullYear()\n\t\t\t\t\tconst m = String(date.getMonth() + 1).padStart(2, '0')\n\t\t\t\t\tconst d = String(date.getDate()).padStart(2, '0')\n\t\t\t\t\treturn `${y}å¹´${m}æœˆ${d}æ—¥`\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn `${formatDate(weekStart)}-${formatDate(weekEnd)}`\n\t\t\t},\n\t\t\t\n\t\t\t// è·å–æœ¬å¹´èŒƒå›´\n\t\t\tgetCurrentYearRange() {\n\t\t\t\tconst now = new Date()\n\t\t\t\tconst year = now.getFullYear()\n\t\t\t\treturn `${year}å¹´å…¨å¹´`\n\t\t\t},\n\t\t\t\n\t\t\t// æ ¼å¼åŒ–å•ä¸ªæ—¥æœŸ\n\t\t\tformatSingleDate(date) {\n\t\t\t\tconst y = date.getFullYear()\n\t\t\t\tconst m = String(date.getMonth() + 1).padStart(2, '0')\n\t\t\t\tconst d = String(date.getDate()).padStart(2, '0')\n\t\t\t\treturn `${y}å¹´${m}æœˆ${d}æ—¥ (ä»Šå¤©)`\n\t\t\t},\n\t\t\t\n\t\t\t// æ ¼å¼åŒ–è‡ªå®šä¹‰èŒƒå›´\n\t\t\tformatCustomRange() {\n\t\t\t\tconst startDate = new Date(this.customStartDate)\n\t\t\t\tconst endDate = new Date(this.customEndDate)\n\t\t\t\t\n\t\t\t\tconst formatDate = (date) => {\n\t\t\t\t\tconst y = date.getFullYear()\n\t\t\t\t\tconst m = String(date.getMonth() + 1).padStart(2, '0')\n\t\t\t\t\tconst d = String(date.getDate()).padStart(2, '0')\n\t\t\t\t\treturn `${y}å¹´${m}æœˆ${d}æ—¥`\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (this.customStartDate === this.customEndDate) {\n\t\t\t\t\treturn formatDate(startDate)\n\t\t\t\t} else {\n\t\t\t\t\treturn `${formatDate(startDate)}-${formatDate(endDate)}`\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// åˆ‡æ¢æ—¶é—´ç­›é€‰å™¨\n\t\t\ttoggleTimeFilter() {\n\t\t\t\t// åˆ›å»ºä¸€ä¸ªåŠ¨ä½œè¡¨ï¼Œè®©ç”¨æˆ·é€‰æ‹©æ—¶é—´èŒƒå›´\n\t\t\t\tuni.showActionSheet({\n\t\t\t\t\titemList: this.timeOptions,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.tapIndex !== this.selectedTimeIndex) {\n\t\t\t\t\t\t\tthis.selectedTimeIndex = res.tapIndex\n\t\t\t\t\t\t\tthis.onTimeChange({ detail: { value: res.tapIndex } })\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tgoToAdd() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/add/add'\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tgoToChat() {\n\t\t\t\tuni.switchTab({\n\t\t\t\t\turl: '/pages/chat/chat'\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tshowRecordDetail(record) {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'è®°å½•è¯¦æƒ…',\n\t\t\t\t\tcontent: `åˆ†ç±»ï¼š${record.categoryName}\\né‡‘é¢ï¼š${record.type === 'expense' ? '-' : '+'}Â¥${record.amount}\\nå¤‡æ³¨ï¼š${record.note || 'æ— '}\\næ—¶é—´ï¼š${this.formatTime(record.time)}`,\n\t\t\t\t\tshowCancel: false\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tformatTime(timeStr) {\n\t\t\t\tconst date = new Date(timeStr)\n\t\t\t\tconst now = new Date()\n\t\t\t\tconst today = new Date(now.getFullYear(), now.getMonth(), now.getDate())\n\t\t\t\tconst yesterday = new Date(today.getTime() - 24 * 60 * 60 * 1000)\n\t\t\t\tconst recordDate = new Date(date.getFullYear(), date.getMonth(), date.getDate())\n\t\t\t\t\n\t\t\t\tif (recordDate.getTime() === today.getTime()) {\n\t\t\t\t\treturn `ä»Šå¤© ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}`\n\t\t\t\t} else if (recordDate.getTime() === yesterday.getTime()) {\n\t\t\t\t\treturn `æ˜¨å¤© ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}`\n\t\t\t\t} else {\n\t\t\t\t\treturn `${date.getMonth() + 1}-${date.getDate()} ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}`\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// è§¦æ‘¸å¼€å§‹\n\t\t\tonTouchStart(e, id) {\n\t\t\t\tthis.touchData[id] = {\n\t\t\t\t\tstartX: e.touches[0].clientX,\n\t\t\t\t\tstartY: e.touches[0].clientY,\n\t\t\t\t\ttranslateX: this.touchData[id] ? this.touchData[id].translateX || 0 : 0\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// è§¦æ‘¸ç§»åŠ¨\n\t\t\tonTouchMove(e, id) {\n\t\t\t\tif (!this.touchData[id]) return\n\t\t\t\t\n\t\t\t\tconst touch = e.touches[0]\n\t\t\t\tconst deltaX = touch.clientX - this.touchData[id].startX\n\t\t\t\tconst deltaY = touch.clientY - this.touchData[id].startY\n\t\t\t\t\n\t\t\t\t// å¦‚æœå‚ç›´æ»‘åŠ¨è·ç¦»å¤§äºæ°´å¹³æ»‘åŠ¨è·ç¦»ï¼Œåˆ™ä¸å¤„ç†ï¼ˆè®©é¡µé¢æ­£å¸¸æ»šåŠ¨ï¼‰\n\t\t\t\tif (Math.abs(deltaY) > Math.abs(deltaX)) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// é˜»æ­¢é»˜è®¤æ»šåŠ¨\n\t\t\t\te.preventDefault()\n\t\t\t\t\n\t\t\t\tlet newTranslateX = this.touchData[id].translateX + deltaX\n\t\t\t\t\n\t\t\t\t// é™åˆ¶æ»‘åŠ¨èŒƒå›´ï¼šå‘å·¦æ»‘åŠ¨æœ€å¤šéœ²å‡ºç¼–è¾‘å’Œåˆ é™¤æŒ‰é’®ï¼ˆ-160pxï¼‰ï¼Œå‘å³æ»‘åŠ¨ä¸èƒ½è¶…è¿‡åŸä½ç½®ï¼ˆ0pxï¼‰\n\t\t\t\tif (newTranslateX > 0) {\n\t\t\t\t\tnewTranslateX = 0\n\t\t\t\t} else if (newTranslateX < -160) {\n\t\t\t\t\tnewTranslateX = -160\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.$set(this.touchData, id, {\n\t\t\t\t\t...this.touchData[id],\n\t\t\t\t\ttranslateX: newTranslateX\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// è§¦æ‘¸ç»“æŸ\n\t\t\tonTouchEnd(e, id) {\n\t\t\t\tif (!this.touchData[id]) return\n\t\t\t\t\n\t\t\t\tconst translateX = this.touchData[id].translateX\n\t\t\t\t\n\t\t\t\t// æ ¹æ®æ»‘åŠ¨è·ç¦»å†³å®šæœ€ç»ˆä½ç½®\n\t\t\t\tif (translateX < -80) {\n\t\t\t\t\t// æ»‘åŠ¨è·ç¦»è¶…è¿‡ä¸€åŠï¼Œæ˜¾ç¤ºç¼–è¾‘å’Œåˆ é™¤æŒ‰é’®\n\t\t\t\t\tthis.$set(this.touchData, id, {\n\t\t\t\t\t\t...this.touchData[id],\n\t\t\t\t\t\ttranslateX: -160\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\t// æ»‘åŠ¨è·ç¦»ä¸å¤Ÿï¼Œå›åˆ°åŸä½ç½®\n\t\t\t\t\tthis.$set(this.touchData, id, {\n\t\t\t\t\t\t...this.touchData[id],\n\t\t\t\t\t\ttranslateX: 0\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// è·å–translateXå€¼\n\t\t\tgetTranslateX(id) {\n\t\t\t\treturn this.touchData[id] ? this.touchData[id].translateX || 0 : 0\n\t\t\t},\n\t\t\t\n\t\t\t// ç¼–è¾‘è®°å½•\n\t\t\teditRecord(record) {\n\t\t\t\t// æ”¶å›æ»‘åŠ¨çŠ¶æ€\n\t\t\t\tthis.$set(this.touchData, record.id, { translateX: 0 })\n\t\t\t\t\n\t\t\t\t// è·³è½¬åˆ°æ·»åŠ é¡µé¢ï¼Œä¼ é€’è®°å½•IDè¿›è¡Œç¼–è¾‘\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/pages/add/add?editId=${record.id}`\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// åˆ é™¤è®°å½•\n\t\t\tdeleteRecord(record) {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'ç¡®è®¤åˆ é™¤',\n\t\t\t\t\tcontent: `ç¡®å®šè¦åˆ é™¤è¿™æ¡è®°å½•å—ï¼Ÿ\\n${record.categoryName} ${record.type === 'expense' ? '-' : '+'}Â¥${record.amount}`,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t// ä»å­˜å‚¨ä¸­åˆ é™¤\n\t\t\t\t\t\t\tlet records = uni.getStorageSync('records') || []\n\t\t\t\t\t\t\trecords = records.filter(item => item.id !== record.id)\n\t\t\t\t\t\t\tuni.setStorageSync('records', records)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// é‡ç½®è¯¥é¡¹çš„æ»‘åŠ¨çŠ¶æ€\n\t\t\t\t\t\t\tthis.$set(this.touchData, record.id, { translateX: 0 })\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// é‡æ–°åŠ è½½æ•°æ®\n\t\t\t\t\t\t\tthis.loadData()\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: 'åˆ é™¤æˆåŠŸ',\n\t\t\t\t\t\t\t\ticon: 'success',\n\t\t\t\t\t\t\t\tduration: 1500\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// å–æ¶ˆåˆ é™¤ï¼Œæ”¶å›åˆ é™¤æŒ‰é’®\n\t\t\t\t\t\t\tthis.$set(this.touchData, record.id, { translateX: 0 })\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// ============= é¢„ç®—ç›¸å…³æ–¹æ³• (ä¸budget-manage.vueä¿æŒä¸€è‡´) =============\n\t\t\t\n\t\t\t// å°†ä¸åŒæ—¶é—´å•ä½çš„é¢„ç®—è½¬æ¢ä¸ºæœˆé¢„ç®—\n\t\t\tconvertToMonthlyBudget(amount, timeUnit) {\n\t\t\t\tconst unit = this.timeUnits.find(u => u.key === timeUnit) || this.timeUnits.find(u => u.key === 'month')\n\t\t\t\treturn amount * unit.factor\n\t\t\t},\n\t\t\t\n\t\t\t// è·å–ç”¨äºæ¯”è¾ƒå½“æœŸæ”¯å‡ºçš„é¢„ç®—åŸºå‡†\n\t\t\tgetBudgetBaseline(amount, timeUnit) {\n\t\t\t\tswitch(timeUnit) {\n\t\t\t\t\tcase 'day':\n\t\t\t\t\t\t// æ—¥é¢„ç®—ï¼šå½“æœˆå¤©æ•° Ã— æ—¥é¢„ç®—\n\t\t\t\t\t\tconst currentDate = new Date()\n\t\t\t\t\t\tconst daysInMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0).getDate()\n\t\t\t\t\t\treturn amount * daysInMonth\n\t\t\t\t\tcase 'month':\n\t\t\t\t\t\t// æœˆé¢„ç®—ï¼šç›´æ¥ä½¿ç”¨\n\t\t\t\t\t\treturn amount\n\t\t\t\t\tcase 'quarter':\n\t\t\t\t\t\t// å­£é¢„ç®—ï¼šç›´æ¥ä½¿ç”¨åŸå§‹é‡‘é¢\n\t\t\t\t\t\treturn amount\n\t\t\t\t\tcase 'year':\n\t\t\t\t\t\t// å¹´é¢„ç®—ï¼šç›´æ¥ä½¿ç”¨åŸå§‹é‡‘é¢\n\t\t\t\t\t\treturn amount\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn amount\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// è®¡ç®—å„åˆ†ç±»çš„æ”¯å‡º - ä¸é¢„ç®—ç®¡ç†é¡µé¢ä¿æŒä¸€è‡´\n\t\t\tcalculateCategorySpending() {\n\t\t\t\tconsole.log('é¦–é¡µå¼€å§‹è®¡ç®—åˆ†ç±»æ”¯å‡ºï¼Œé¢„ç®—åˆ†ç±»æ•°é‡:', this.categoryBudgets.length)\n\t\t\t\t\n\t\t\t\t// ä¸ºæ¯ä¸ªé¢„ç®—åˆ†ç±»è®¡ç®—ç›¸åº”æ—¶é—´èŒƒå›´çš„æ”¯å‡º\n\t\t\t\tthis.categoryBudgets.forEach(budget => {\n\t\t\t\t\t// ç¡®ä¿æœ‰æ—¶é—´å•ä½ï¼Œé»˜è®¤ä¸ºæœˆ\n\t\t\t\t\tif (!budget.timeUnit) {\n\t\t\t\t\t\tbudget.timeUnit = 'month'\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tlet categorySpending = 0\n\t\t\t\t\t\n\t\t\t\t\t// æ ¹æ®æ–°çš„è®¡ç®—è§„åˆ™è®¡ç®—å·²ä½¿ç”¨é‡‘é¢\n\t\t\t\t\tif (budget.timeUnit === 'month') {\n\t\t\t\t\t\t// æœˆåº¦åˆ†ç±»ï¼šå•æœˆæ”¯å‡º\n\t\t\t\t\t\tconst timeRangeRecords = this.getRecordsByTimeUnit(budget.timeUnit)\n\t\t\t\t\t\tcategorySpending = this.calculateCategorySpendingFromRecords(timeRangeRecords, budget)\n\t\t\t\t\t} else if (budget.timeUnit === 'quarter') {\n\t\t\t\t\t\t// å­£åº¦åˆ†ç±»ï¼šä»å¼€å§‹æœˆä»½ç®—èµ·è¿™ä¸ªå­£åº¦çš„æ•´ä¸ªæ”¯å‡º\n\t\t\t\t\t\tconst timeRangeRecords = this.getRecordsByTimeUnit(budget.timeUnit, budget.quarterStartMonth)\n\t\t\t\t\t\tcategorySpending = this.calculateCategorySpendingFromRecords(timeRangeRecords, budget)\n\t\t\t\t\t} else if (budget.timeUnit === 'year') {\n\t\t\t\t\t\t// å¹´åº¦åˆ†ç±»ï¼šè¿™ä¸€å¹´çš„å¹´åº¦æ”¯å‡º(1æœˆ1æ—¥å¼€å§‹)\n\t\t\t\t\t\tconst timeRangeRecords = this.getRecordsByTimeUnit(budget.timeUnit)\n\t\t\t\t\t\tcategorySpending = this.calculateCategorySpendingFromRecords(timeRangeRecords, budget)\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// å…¶ä»–ç±»å‹ï¼ˆå¦‚æ—¥ï¼‰\n\t\t\t\t\t\tconst timeRangeRecords = this.getRecordsByTimeUnit(budget.timeUnit)\n\t\t\t\t\t\tcategorySpending = this.calculateCategorySpendingFromRecords(timeRangeRecords, budget)\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tconst timeUnitName = this.getTimeUnitName(budget.timeUnit)\n\t\t\t\t\tconst timeRangeDesc = this.getTimeRangeDesc(budget.timeUnit, budget.quarterStartMonth)\n\t\t\t\t\tconsole.log(`é¦–é¡µåˆ†ç±» ${budget.categoryName} ${timeRangeDesc} ${timeUnitName}æ”¯å‡º:`, categorySpending)\n\t\t\t\t\tbudget.spentAmount = categorySpending\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\t// ä¿å­˜æ›´æ–°åçš„æ•°æ® - ä¸é¢„ç®—ç®¡ç†é¡µé¢ä¿æŒä¸€è‡´\n\t\t\t\tthis.saveCategoryBudgets()\n\t\t\t},\n\t\t\t\n\t\t\t// æ ¹æ®æ—¶é—´å•ä½è·å–ç›¸åº”æ—¶é—´èŒƒå›´çš„è®°å½• - ä¸é¢„ç®—ç®¡ç†é¡µé¢ä¿æŒä¸€è‡´\n\t\t\tgetRecordsByTimeUnit(timeUnit, quarterStartMonth = null) {\n\t\t\t\tconst allRecords = uni.getStorageSync('records') || []\n\t\t\t\tconst currentDate = new Date()\n\t\t\t\tconst currentYear = currentDate.getFullYear()\n\t\t\t\tconst currentMonth = currentDate.getMonth() + 1 // 1-12\n\t\t\t\t\n\t\t\t\tswitch(timeUnit) {\n\t\t\t\t\tcase 'day':\n\t\t\t\t\t\t// æ—¥é¢„ç®—ï¼šæœ¬æœˆæ‰€æœ‰è®°å½•ï¼ˆæ—¥ç´¯è®¡ï¼‰\n\t\t\t\t\t\treturn this.currentMonthRecords\n\t\t\t\t\t\n\t\t\t\t\tcase 'month':\n\t\t\t\t\t\t// æœˆåˆ†ç±»ï¼šä»æ¯ä¸ªæœˆ1å·å¼€å§‹è®¡ç®—æ”¯å‡º\n\t\t\t\t\t\treturn allRecords.filter(record => {\n\t\t\t\t\t\t\tconst recordDate = new Date(record.time)\n\t\t\t\t\t\t\tconst recordYear = recordDate.getFullYear()\n\t\t\t\t\t\t\tconst recordMonth = recordDate.getMonth() + 1\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// åªç»Ÿè®¡å½“å‰å¹´æœˆçš„è®°å½•\n\t\t\t\t\t\t\treturn recordYear === currentYear && recordMonth === currentMonth\n\t\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\tcase 'quarter':\n\t\t\t\t\t\t// å­£åˆ†ç±»ï¼šè¿ç»­å­£åº¦è®¡ç®—ï¼Œä»å¼€å§‹æœˆä»½å¼€å§‹æ¯3ä¸ªæœˆä¸ºä¸€ä¸ªå­£åº¦\n\t\t\t\t\t\tif (!quarterStartMonth) {\n\t\t\t\t\t\t\t// å¦‚æœæ²¡æœ‰æŒ‡å®šå¼€å§‹æœˆä»½ï¼Œä½¿ç”¨å½“å‰æœˆä»½ä½œä¸ºå¼€å§‹æœˆä»½\n\t\t\t\t\t\t\tquarterStartMonth = currentMonth\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// è®¡ç®—å½“å‰æœˆä»½å±äºç¬¬å‡ ä¸ªå­£åº¦ï¼ˆä»å¼€å§‹æœˆä»½ç®—èµ·ï¼‰\n\t\t\t\t\t\tlet quarterNumber = 0\n\t\t\t\t\t\tif (currentMonth >= quarterStartMonth) {\n\t\t\t\t\t\t\t// åŒä¸€å¹´å†…\n\t\t\t\t\t\t\tquarterNumber = Math.floor((currentMonth - quarterStartMonth) / 3)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// è·¨å¹´æƒ…å†µ\n\t\t\t\t\t\t\tquarterNumber = Math.floor((12 - quarterStartMonth + currentMonth) / 3)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// è®¡ç®—å½“å‰å­£åº¦å¯¹åº”çš„3ä¸ªæœˆ\n\t\t\t\t\t\tconst currentQuarterStartMonth = (quarterStartMonth + quarterNumber * 3 - 1) % 12 + 1\n\t\t\t\t\t\tconst month1 = currentQuarterStartMonth\n\t\t\t\t\t\tconst month2 = currentQuarterStartMonth + 1 > 12 ? currentQuarterStartMonth + 1 - 12 : currentQuarterStartMonth + 1\n\t\t\t\t\t\tconst month3 = currentQuarterStartMonth + 2 > 12 ? currentQuarterStartMonth + 2 - 12 : currentQuarterStartMonth + 2\n\t\t\t\t\t\t\n\t\t\t\t\t\tconsole.log(`é¦–é¡µå­£åº¦è®¡ç®—: å¼€å§‹æœˆä»½${quarterStartMonth}, å½“å‰æœˆä»½${currentMonth}, ç¬¬${quarterNumber + 1}å­£åº¦(${month1}-${month2}-${month3})`)\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn allRecords.filter(record => {\n\t\t\t\t\t\t\tconst recordDate = new Date(record.time)\n\t\t\t\t\t\t\tconst recordYear = recordDate.getFullYear()\n\t\t\t\t\t\t\tconst recordMonth = recordDate.getMonth() + 1\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// è®¡ç®—è®°å½•å±äºç¬¬å‡ ä¸ªå­£åº¦\n\t\t\t\t\t\t\tlet recordQuarterNumber = 0\n\t\t\t\t\t\t\tif (recordMonth >= quarterStartMonth) {\n\t\t\t\t\t\t\t\t// åŒä¸€å¹´å†…\n\t\t\t\t\t\t\t\trecordQuarterNumber = Math.floor((recordMonth - quarterStartMonth) / 3)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// è·¨å¹´æƒ…å†µ\n\t\t\t\t\t\t\t\trecordQuarterNumber = Math.floor((12 - quarterStartMonth + recordMonth) / 3)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// åªç»Ÿè®¡å½“å‰å­£åº¦çš„è®°å½•\n\t\t\t\t\t\t\tconst isCurrentQuarter = recordQuarterNumber === quarterNumber\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// å¤„ç†è·¨å¹´çš„æƒ…å†µ\n\t\t\t\t\t\t\tlet isInQuarterRange = false\n\t\t\t\t\t\t\tif (currentQuarterStartMonth <= 10) {\n\t\t\t\t\t\t\t\t// ä¸è·¨å¹´çš„å­£åº¦ (å¦‚1-3æœˆ, 4-6æœˆç­‰)\n\t\t\t\t\t\t\t\tisInQuarterRange = recordYear === currentYear && \n\t\t\t\t\t\t\t\t\t\t\t\t   (recordMonth === month1 || recordMonth === month2 || recordMonth === month3)\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// è·¨å¹´çš„å­£åº¦ (å¦‚11-1æœˆ, 12-2æœˆ)\n\t\t\t\t\t\t\t\tisInQuarterRange = ((recordYear === currentYear && recordMonth >= currentQuarterStartMonth) ||\n\t\t\t\t\t\t\t\t\t\t\t\t    (recordYear === currentYear + 1 && recordMonth <= month3))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn isCurrentQuarter && isInQuarterRange\n\t\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\tcase 'year':\n\t\t\t\t\t\t// å¹´åˆ†ç±»ï¼šä»1æœˆ1æ—¥å¼€å§‹è®¡ç®—\n\t\t\t\t\t\treturn allRecords.filter(record => {\n\t\t\t\t\t\t\tconst recordDate = new Date(record.time)\n\t\t\t\t\t\t\tconst recordYear = recordDate.getFullYear()\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// åªç»Ÿè®¡å½“å‰å¹´åº¦çš„è®°å½•\n\t\t\t\t\t\t\treturn recordYear === currentYear\n\t\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn this.currentMonthRecords\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// ä»è®°å½•ä¸­è®¡ç®—ç‰¹å®šåˆ†ç±»çš„æ”¯å‡º - ä¸é¢„ç®—ç®¡ç†é¡µé¢ä¿æŒä¸€è‡´\n\t\t\tcalculateCategorySpendingFromRecords(records, budget) {\n\t\t\t\treturn records\n\t\t\t\t\t.filter(record => {\n\t\t\t\t\t\tconst isExpense = record.type === 'expense'\n\t\t\t\t\t\tconst isSameCategory = record.categoryId == budget.categoryId || record.categoryName === budget.categoryName\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (isExpense && isSameCategory) {\n\t\t\t\t\t\t\tconsole.log(`é¦–é¡µåŒ¹é…åˆ°${this.getTimeUnitName(budget.timeUnit)}æ”¯å‡ºè®°å½•:`, {\n\t\t\t\t\t\t\t\tamount: record.amount,\n\t\t\t\t\t\t\t\tcategory: record.categoryName,\n\t\t\t\t\t\t\t\tdate: record.time,\n\t\t\t\t\t\t\t\ttimeUnit: budget.timeUnit\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn isExpense && isSameCategory\n\t\t\t\t\t})\n\t\t\t\t\t.reduce((sum, record) => {\n\t\t\t\t\t\tconst amount = parseFloat(record.amount) || 0\n\t\t\t\t\t\treturn sum + amount\n\t\t\t\t\t}, 0)\n\t\t\t},\n\t\t\t\n\t\t\t// è·å–æ—¶é—´èŒƒå›´æè¿°ï¼ˆç”¨äºè°ƒè¯•ï¼‰- ä¸é¢„ç®—ç®¡ç†é¡µé¢ä¿æŒä¸€è‡´\n\t\t\tgetTimeRangeDesc(timeUnit, quarterStartMonth = null) {\n\t\t\t\tconst currentDate = new Date()\n\t\t\t\tconst currentYear = currentDate.getFullYear()\n\t\t\t\tconst currentMonth = currentDate.getMonth() + 1\n\t\t\t\t\n\t\t\t\tswitch(timeUnit) {\n\t\t\t\t\tcase 'day':\n\t\t\t\t\tcase 'month':\n\t\t\t\t\t\treturn `${currentYear}å¹´${currentMonth}æœˆ`\n\t\t\t\t\tcase 'quarter':\n\t\t\t\t\t   if (quarterStartMonth) {\n\t\t\t\t\t\t   const m1 = this.monthNames[quarterStartMonth-1]\n\t\t\t\t\t\t   const m2 = this.monthNames[(quarterStartMonth) % 12]\n\t\t\t\t\t\t   const m3 = this.monthNames[(quarterStartMonth + 1) % 12]\n\t\t\t\t\t\t   return `${currentYear}å¹´è‡ªå®šä¹‰å­£åº¦(${m1}-${m2}-${m3})`\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst quarter = Math.floor((currentMonth - 1) / 3) + 1\n\t\t\t\t\t\tconst quarterStart = (quarter - 1) * 3 + 1\n\t\t\t\t\t\tconst quarterEnd = quarter * 3\n\t\t\t\t\t\treturn `${currentYear}å¹´ç¬¬${quarter}å­£åº¦(${quarterStart}-${quarterEnd}æœˆ)`\n\t\t\t\t\t}\n\t\t\t\t\tcase 'year':\n\t\t\t\t\t\treturn `${currentYear}å¹´`\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn `${currentYear}å¹´${currentMonth}æœˆ`\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// è·å–æ—¶é—´å•ä½åç§°\n\t\t\tgetTimeUnitName(timeUnit) {\n\t\t\t\tconst unit = this.timeUnits.find(u => u.key === timeUnit)\n\t\t\t\treturn unit ? unit.name : 'æœˆ'\n\t\t\t},\n\t\t\t\n\t\t\t// ä¿å­˜åˆ†ç±»é¢„ç®—æ•°æ® - ä¸é¢„ç®—ç®¡ç†é¡µé¢ä¿æŒä¸€è‡´\n\t\t\tsaveCategoryBudgets() {\n\t\t\t\tuni.setStorageSync('categoryBudgets', this.categoryBudgets)\n\t\t\t},\n\t\t\t\n\t\t\t\n\t\t\t// è·å–é¢„ç®—è¿›åº¦æ–‡æœ¬\n\t\t\tgetBudgetProgressText(spent, budget, timeUnit = 'month') {\n\t\t\t\tconst budgetBaseline = this.getBudgetBaseline(budget, timeUnit)\n\t\t\t\tif (budgetBaseline === 0) return '0%'\n\t\t\t\t\n\t\t\t\tconst percentage = (spent / budgetBaseline) * 100\n\t\t\t\t\n\t\t\t\tif (percentage >= 100) {\n\t\t\t\t\treturn 'å·²ç”¨å®Œ'\n\t\t\t\t} else {\n\t\t\t\t\treturn percentage.toFixed(1) + '%'\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t/* å…¨å±€é˜²æ­¢æ°´å¹³æº¢å‡º */\n\t* {\n\t\tmax-width: 100%;\n\t\tbox-sizing: border-box;\n\t}\n\t\n\t.container {\n\t\tpadding: 20rpx;\n\t\tbackground-color: #F5F5F5;\n\t\theight: 100vh;\n\t\tmax-width: 100vw;\n\t\toverflow-x: hidden;\n\t}\n\t\n\t.summary-card {\n\t\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\t\tborder-radius: 20rpx;\n\t\tpadding: 30rpx;\n\t\tmargin-bottom: 30rpx;\n\t\tposition: relative;\n\t\toverflow: hidden;\n\t\tbox-shadow: 0 10rpx 30rpx rgba(102, 126, 234, 0.3);\n\t\twidth: 100%;\n\t\tmax-width: 100%;\n\t}\n\t\n\t/* æ—¶é—´èŒƒå›´å¤´éƒ¨ */\n\t.time-range-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 25rpx;\n\t\tbackground: rgba(255, 255, 255, 0.15);\n\t\tpadding: 15rpx 20rpx;\n\t\tborder-radius: 25rpx;\n\t\tbackdrop-filter: blur(10rpx);\n\t\ttransition: all 0.3s ease;\n\t\tcursor: pointer;\n\t}\n\t\n\t.time-range-header:active {\n\t\ttransform: scale(0.98);\n\t\tbackground: rgba(255, 255, 255, 0.2);\n\t}\n\t\n\t.time-range-text {\n\t\tcolor: white;\n\t\tfont-size: 24rpx;\n\t\tfont-weight: 500;\n\t\ttext-shadow: 0 1rpx 2rpx rgba(0,0,0,0.1);\n\t}\n\t\n\t.time-range-icon {\n\t\twidth: 30rpx;\n\t\theight: 30rpx;\n\t\tborder-radius: 50%;\n\t\tbackground: rgba(255, 255, 255, 0.2);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tcolor: white;\n\t\tfont-size: 16rpx;\n\t\ttransition: all 0.3s ease;\n\t}\n\t\n\t.time-range-header:active .time-range-icon {\n\t\tbackground: rgba(255, 255, 255, 0.3);\n\t\ttransform: scale(1.1);\n\t}\n\t\n\t/* ä¸»è¦ä¿¡æ¯åŒºåŸŸ */\n\t.main-info-section {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: flex-start;\n\t\tmargin-bottom: 30rpx;\n\t}\n\t\n\t.left-info {\n\t\tflex: 1;\n\t\tmargin-right: 20rpx;\n\t}\n\t\n\t.expense-section {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-bottom: 10rpx;\n\t}\n\t\n\t.expense-label {\n\t\tcolor: #FFB3B3;\n\t\tfont-size: 28rpx;\n\t\tmargin-right: 10rpx;\n\t}\n\t\n\t.expense-icon {\n\t\twidth: 35rpx;\n\t\theight: 35rpx;\n\t\tbackground: #FF6B6B;\n\t\tborder-radius: 50%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tcolor: white;\n\t\tfont-size: 20rpx;\n\t\tfont-weight: bold;\n\t}\n\t\n\t.main-amount {\n\t\tcolor: white;\n\t\tfont-size: 48rpx;\n\t\tfont-weight: bold;\n\t\tmargin-bottom: 20rpx;\n\t\ttext-shadow: 0 2rpx 4rpx rgba(0,0,0,0.2);\n\t}\n\t\n\t.sub-amounts {\n\t\tdisplay: flex;\n\t\tgap: 30rpx;\n\t}\n\t\n\t.amount-item {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\t\n\t.amount-label {\n\t\tcolor: rgba(255, 255, 255, 0.7);\n\t\tfont-size: 22rpx;\n\t\tmargin-bottom: 5rpx;\n\t}\n\t\n\t.amount-value {\n\t\tcolor: white;\n\t\tfont-size: 26rpx;\n\t\tfont-weight: 500;\n\t}\n\t\n\t.amount-value.positive {\n\t\tcolor: #B3FFD9;\n\t}\n\t\n\t.amount-value.negative {\n\t\tcolor: #FFB3B3;\n\t}\n\t\n\t/* å³ä¾§èŠå¤©åŒºåŸŸ */\n\t.right-info {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tposition: relative;\n\t}\n\t\n\t.chat-bubble {\n\t\tbackground: rgba(255, 255, 255, 0.9);\n\t\tpadding: 15rpx 20rpx;\n\t\tborder-radius: 20rpx;\n\t\tmargin-bottom: 15rpx;\n\t\tposition: relative;\n\t\tbox-shadow: 0 4rpx 15rpx rgba(0,0,0,0.1);\n\t\tmax-width: 200rpx;\n\t}\n\t\n\t.chat-text {\n\t\tcolor: #333;\n\t\tfont-size: 22rpx;\n\t\tline-height: 1.4;\n\t}\n\t\n\t.bubble-tail {\n\t\tposition: absolute;\n\t\tbottom: -8rpx;\n\t\tleft: 50%;\n\t\ttransform: translateX(-50%);\n\t\twidth: 0;\n\t\theight: 0;\n\t\tborder-left: 10rpx solid transparent;\n\t\tborder-right: 10rpx solid transparent;\n\t\tborder-top: 10rpx solid rgba(255, 255, 255, 0.9);\n\t}\n\t\n\t.avatar-container {\n\t\tposition: relative;\n\t}\n\t\n\t.avatar {\n\t\twidth: 80rpx;\n\t\theight: 80rpx;\n\t\tborder-radius: 50%;\n\t\tbackground: linear-gradient(45deg, #FFD93D, #FF6B6B);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tbox-shadow: 0 6rpx 20rpx rgba(255, 107, 107, 0.3);\n\t\tborder: 4rpx solid rgba(255, 255, 255, 0.3);\n\t\ttransition: all 0.3s ease;\n\t}\n\t\n\t.avatar:active {\n\t\ttransform: scale(0.95);\n\t}\n\t\n\t.avatar-emoji {\n\t\tfont-size: 35rpx;\n\t}\n\t\n\t/* é¢„ç®—è¿›åº¦åŒºåŸŸ */\n\t.budget-section {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-bottom: 25rpx;\n\t\tbackground: rgba(255, 255, 255, 0.1);\n\t\tpadding: 25rpx;\n\t\tborder-radius: 20rpx;\n\t\tbackdrop-filter: blur(10rpx);\n\t}\n\t\n\t.progress-container {\n\t\tmargin-right: 30rpx;\n\t}\n\t\n\t.progress-circle {\n\t\twidth: 120rpx;\n\t\theight: 120rpx;\n\t\tposition: relative;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t\n\t.progress-ring {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tborder-radius: 50%;\n\t\tpadding: 8rpx;\n\t\tbox-sizing: border-box;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t\n\t.progress-inner {\n\t\twidth: 80rpx;\n\t\theight: 80rpx;\n\t\tborder-radius: 50%;\n\t\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0,0,0,0.2);\n\t}\n\t\n\t.progress-text {\n\t\tcolor: white;\n\t\tfont-size: 22rpx;\n\t\tfont-weight: bold;\n\t\ttext-shadow: 0 1rpx 2rpx rgba(0,0,0,0.3);\n\t}\n\t\n\t.budget-details {\n\t\tflex: 1;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: 12rpx;\n\t}\n\t\n\t.budget-item {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t}\n\t\n\t.budget-label {\n\t\tcolor: rgba(255, 255, 255, 0.8);\n\t\tfont-size: 24rpx;\n\t}\n\t\n\t.budget-value {\n\t\tcolor: white;\n\t\tfont-size: 26rpx;\n\t\tfont-weight: 500;\n\t}\n\t\n\t.budget-value.positive {\n\t\tcolor: #B3FFD9;\n\t}\n\t\n\t.budget-source {\n\t\tfont-size: 18rpx;\n\t\tcolor: rgba(255, 255, 255, 0.6);\n\t\tmargin-top: 3rpx;\n\t\tdisplay: block;\n\t}\n\t\n\t/* å…¶ä»–ç»Ÿè®¡ä¿¡æ¯ */\n\t.other-stats {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tbackground: rgba(255, 255, 255, 0.08);\n\t\tpadding: 20rpx;\n\t\tborder-radius: 15rpx;\n\t\tbackdrop-filter: blur(10rpx);\n\t}\n\t\n\t.stat-item {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tflex: 1;\n\t}\n\t\n\t.stat-label {\n\t\tcolor: rgba(255, 255, 255, 0.7);\n\t\tfont-size: 22rpx;\n\t\tmargin-bottom: 8rpx;\n\t}\n\t\n\t.stat-value {\n\t\tcolor: white;\n\t\tfont-size: 26rpx;\n\t\tfont-weight: 500;\n\t}\n\t\n\t.stat-value.expense {\n\t\tcolor: #FFB3B3;\n\t}\n\t\n\t.card-decoration {\n\t\tposition: absolute;\n\t\ttop: -100rpx;\n\t\tright: -100rpx;\n\t\twidth: 200rpx;\n\t\theight: 200rpx;\n\t\tbackground: rgba(255, 255, 255, 0.1);\n\t\tborder-radius: 50%;\n\t\tz-index: 0;\n\t}\n\t\n\t.card-decoration::before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: 50rpx;\n\t\tleft: 50rpx;\n\t\twidth: 80rpx;\n\t\theight: 80rpx;\n\t\tbackground: rgba(255, 255, 255, 0.05);\n\t\tborder-radius: 50%;\n\t}\n\t\n\t.quick-add {\n\t\tmargin-bottom: 30rpx;\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t}\n\t\n\t.add-btn {\n\t\tborder-radius: 50rpx;\n\t\tfont-size: 32rpx;\n\t\tbackground: linear-gradient(45deg, #FF6B6B, #FF8E53);\n\t\tborder: none;\n\t\tbox-shadow: 0 8rpx 25rpx rgba(255, 107, 107, 0.3);\n\t\ttransition: all 0.3s ease;\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t}\n\t\n\t.add-btn:active {\n\t\ttransform: translateY(2rpx);\n\t\tbox-shadow: 0 4rpx 15rpx rgba(255, 107, 107, 0.4);\n\t}\n\t\n\t.record-list {\n\t\tbackground-color: white;\n\t\tborder-radius: 20rpx;\n\t\toverflow: hidden;\n\t\tbox-shadow: 0 4rpx 20rpx rgba(0,0,0,0.05);\n\t\twidth: 100%;\n\t\tmax-width: 100%;\n\t\tbox-sizing: border-box;\n\t}\n\t\n\t.record-header {\n\t\tpadding: 30rpx;\n\t\tborder-bottom: 1px solid #F0F0F0;\n\t}\n\t\n\t.record-title {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t}\n\t\n\t/* ç­›é€‰å™¨æ ·å¼ */\n\t.filter-section {\n\t\tpadding: 20rpx 30rpx;\n\t\tbackground-color: #F8F9FA;\n\t\tborder-bottom: 1px solid #F0F0F0;\n\t\tbox-sizing: border-box;\n\t\twidth: 100%;\n\t}\n\t\n\t.filter-row {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-bottom: 20rpx;\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t\tflex-wrap: wrap;\n\t\tgap: 10rpx;\n\t}\n\t\n\t.filter-row:last-child {\n\t\tmargin-bottom: 0;\n\t}\n\t\n\t.filter-item {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tflex: 1;\n\t\tmin-width: 140rpx;\n\t\tmargin-right: 20rpx;\n\t\tbox-sizing: border-box;\n\t}\n\t\n\t.filter-item:last-child {\n\t\tmargin-right: 0;\n\t}\n\t\n\t.filter-item.full-width {\n\t\tflex: none;\n\t\twidth: 100%;\n\t\tmargin-right: 0;\n\t\tmin-width: auto;\n\t}\n\t\n\t.filter-label {\n\t\tfont-size: 26rpx;\n\t\tcolor: #666;\n\t\tmargin-right: 10rpx;\n\t\twhite-space: nowrap;\n\t}\n\t\n\t.picker-text {\n\t\tflex: 1;\n\t\tmin-width: 0;\n\t\tpadding: 12rpx 20rpx;\n\t\tbackground-color: white;\n\t\tborder: 1px solid #E5E5E5;\n\t\tborder-radius: 8rpx;\n\t\tfont-size: 26rpx;\n\t\tcolor: #333;\n\t\ttext-align: center;\n\t\tmin-width: 100rpx;\n\t\ttransition: all 0.2s ease;\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0,0,0,0.05);\n\t\tbox-sizing: border-box;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\t\n\t.picker-text:active {\n\t\tborder-color: #667eea;\n\t\tbackground-color: #F8F9FF;\n\t\ttransform: scale(0.98);\n\t}\n\t\n\t.empty-state {\n\t\tpadding: 100rpx 30rpx;\n\t\ttext-align: center;\n\t}\n\t\n\t.empty-text {\n\t\tcolor: #999;\n\t\tfont-size: 28rpx;\n\t}\n\t\n\t/* æ—¥æœŸåˆ†ç»„æ ·å¼ */\n\t.record-group {\n\t\tmargin-bottom: 20rpx;\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t}\n\t\n\t.date-group-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 20rpx 30rpx 15rpx;\n\t\tbackground: linear-gradient(135deg, #F8F9FA 0%, #E9ECEF 100%);\n\t\tborder-top: 1px solid #E5E5E5;\n\t\tposition: sticky;\n\t\ttop: 0;\n\t\tz-index: 10;\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t}\n\t\n\t.date-info {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tflex: 1;\n\t\tmin-width: 0;\n\t}\n\t\n\t.date-text {\n\t\tfont-size: 28rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t\tmargin-right: 15rpx;\n\t}\n\t\n\t.date-weekday {\n\t\tfont-size: 24rpx;\n\t\tcolor: #666;\n\t\tbackground: rgba(102, 126, 234, 0.1);\n\t\tpadding: 4rpx 12rpx;\n\t\tborder-radius: 12rpx;\n\t\tborder: 1px solid rgba(102, 126, 234, 0.2);\n\t}\n\t\n\t.date-summary {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: 15rpx;\n\t\tflex-wrap: wrap;\n\t\tjustify-content: flex-end;\n\t}\n\t\n\t.date-expense {\n\t\tfont-size: 24rpx;\n\t\tcolor: #FF6B6B;\n\t\tbackground: rgba(255, 107, 107, 0.1);\n\t\tpadding: 6rpx 12rpx;\n\t\tborder-radius: 12rpx;\n\t\tfont-weight: 500;\n\t}\n\t\n\t.date-income {\n\t\tfont-size: 24rpx;\n\t\tcolor: #4ECDC4;\n\t\tbackground: rgba(78, 205, 196, 0.1);\n\t\tpadding: 6rpx 12rpx;\n\t\tborder-radius: 12rpx;\n\t\tfont-weight: 500;\n\t}\n\t\n\t/* åŠ è½½æŒ‡ç¤ºå™¨æ ·å¼ */\n\t.loading-indicator {\n\t\tpadding: 40rpx;\n\t\ttext-align: center;\n\t\tbackground-color: white;\n\t\tborder-top: 1px solid #F0F0F0;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tgap: 20rpx;\n\t}\n\t\n\t.loading-text {\n\t\tcolor: #667eea;\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 500;\n\t}\n\t\n\t.loading-indicator::before {\n\t\tcontent: '';\n\t\twidth: 20rpx;\n\t\theight: 20rpx;\n\t\tborder: 2rpx solid #E5E5E5;\n\t\tborder-top-color: #667eea;\n\t\tborder-radius: 50%;\n\t\tanimation: spin 1s linear infinite;\n\t}\n\t\n\t@keyframes spin {\n\t\tto {\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n\t\n\t.no-more {\n\t\tpadding: 30rpx;\n\t\ttext-align: center;\n\t\tbackground-color: white;\n\t\tborder-top: 1px solid #F0F0F0;\n\t}\n\t\n\t.no-more-text {\n\t\tcolor: #999;\n\t\tfont-size: 24rpx;\n\t}\n\t\n\t.record-left {\n\t\tflex: 1;\n\t\tmin-width: 0;\n\t\toverflow: hidden;\n\t}\n\t\n\t.record-category {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-bottom: 10rpx;\n\t}\n\t\n\t.category-icon {\n\t\tfont-size: 36rpx;\n\t\tmargin-right: 15rpx;\n\t\tfilter: drop-shadow(0 2rpx 4rpx rgba(0,0,0,0.1));\n\t\tdisplay: inline-block;\n\t\ttransform: translateZ(0);\n\t\ttransition: transform 0.2s ease;\n\t}\n\t\n\t.category-name {\n\t\tfont-size: 30rpx;\n\t\tcolor: #333;\n\t\tfont-weight: 600;\n\t\tletter-spacing: 0.5rpx;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tmax-width: 100%;\n\t}\n\t\n\t.record-note {\n\t\tfont-size: 24rpx;\n\t\tcolor: #999;\n\t\tmargin-top: 4rpx;\n\t\topacity: 0.8;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tmax-width: 100%;\n\t}\n\t\n\t.record-right {\n\t\ttext-align: right;\n\t\tflex-shrink: 0;\n\t\tmargin-left: 15rpx;\n\t}\n\t\n\t.record-amount {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tdisplay: block;\n\t\tmargin-bottom: 5rpx;\n\t\tletter-spacing: 0.5rpx;\n\t}\n\t\n\t.record-amount.expense {\n\t\tcolor: #FF6B6B;\n\t\ttext-shadow: 0 1rpx 2rpx rgba(255, 107, 107, 0.2);\n\t}\n\t\n\t.record-amount.income {\n\t\tcolor: #4ECDC4;\n\t\ttext-shadow: 0 1rpx 2rpx rgba(78, 205, 196, 0.2);\n\t}\n\t\n\t.record-time {\n\t\tfont-size: 24rpx;\n\t\tcolor: #999;\n\t\topacity: 0.8;\n\t}\n\t\n\t/* å³æ»‘åˆ é™¤ç›¸å…³æ ·å¼ */\n\t.record-wrapper {\n\t\tposition: relative;\n\t\toverflow: hidden;\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t}\n\t\n\t.record-item {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 25rpx 30rpx;\n\t\tborder-bottom: 1px solid #F8F8F8;\n\t\tbackground-color: white;\n\t\ttransition: all 0.3s ease;\n\t\tposition: relative;\n\t\tz-index: 1;\n\t\twidth: 100%;\n\t\tbox-sizing: border-box;\n\t\tmin-width: 0;\n\t}\n\t\n\t.record-group .record-item:first-child {\n\t\tborder-top: none;\n\t}\n\t\n\t.record-group .record-item:last-child {\n\t\tborder-bottom: 1px solid #F0F0F0;\n\t\tborder-bottom-left-radius: 0;\n\t\tborder-bottom-right-radius: 0;\n\t}\n\t\n\t.record-item:hover {\n\t\tbackground-color: #FAFAFA;\n\t}\n\t\n\t.record-item:active {\n\t\tbackground-color: #F5F5F5;\n\t\ttransform: scale(0.995);\n\t}\n\t\n\t.record-item:active .category-icon {\n\t\ttransform: scale(1.1);\n\t}\n\t\n\t.record-item:last-child {\n\t\tborder-bottom: none;\n\t}\n\t\n\t.action-buttons {\n\t\tposition: absolute;\n\t\tright: 0;\n\t\ttop: 0;\n\t\tbottom: 0;\n\t\tdisplay: flex;\n\t\tz-index: 0;\n\t}\n\t\n\t.edit-btn {\n\t\twidth: 80px;\n\t\tbackground: linear-gradient(135deg, #4ECDC4, #44A08D);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\ttransition: all 0.2s ease;\n\t\tposition: relative;\n\t\toverflow: hidden;\n\t}\n\t\n\t.edit-btn::before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: -100%;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);\n\t\ttransition: left 0.5s ease;\n\t}\n\t\n\t.edit-btn:active::before {\n\t\tleft: 100%;\n\t}\n\t\n\t.edit-text {\n\t\tcolor: white;\n\t\tfont-size: 28rpx;\n\t\tfont-weight: bold;\n\t\ttext-shadow: 0 1rpx 2rpx rgba(0,0,0,0.1);\n\t}\n\t\n\t.delete-btn {\n\t\twidth: 80px;\n\t\tbackground: linear-gradient(135deg, #FF4757, #FF3742);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\ttransition: all 0.2s ease;\n\t\tposition: relative;\n\t\toverflow: hidden;\n\t}\n\t\n\t.delete-btn::before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: -100%;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tbackground: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);\n\t\ttransition: left 0.5s ease;\n\t}\n\t\n\t.delete-btn:active::before {\n\t\tleft: 100%;\n\t}\n\t\n\t.delete-text {\n\t\tcolor: white;\n\t\tfont-size: 28rpx;\n\t\tfont-weight: bold;\n\t\ttext-shadow: 0 1rpx 2rpx rgba(0,0,0,0.1);\n\t}\n</style>\n","import MiniProgramPage from 'D:/simple-account-v1.0.4/pages/index/index.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}