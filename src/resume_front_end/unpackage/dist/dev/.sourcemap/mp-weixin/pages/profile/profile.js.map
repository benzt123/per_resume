{"version":3,"file":"profile.js","sources":["pages/profile/profile.vue","../Edgedownload/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcHJvZmlsZS9wcm9maWxlLnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<!-- ç”¨æˆ·ä¿¡æ¯åŒºåŸŸ -->\n\t\t<view class=\"user-info\">\n\t\t\t<view class=\"avatar-section\">\n\t\t\t\t<image class=\"avatar\" src=\"/static/logo.png\" mode=\"aspectFit\"></image>\n\t\t\t\t<text class=\"username\">æˆ‘çš„è´¦æœ¬</text>\n\t\t\t\t<text class=\"user-desc\">è®°å½•æ¯ä¸€ç¬”æ”¶æ”¯ï¼Œç®¡ç†ç¾å¥½ç”Ÿæ´»</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- AIåŠŸèƒ½ -->\n\t\t<view class=\"data-management\">\n\t\t\t<text class=\"management-title\">AIæ™ºèƒ½åŠŸèƒ½</text>\n\t\t\t<view class=\"management-item ai-config-item\" @click=\"goToAIConfig\">\n\t\t\t\t<view class=\"management-left\">\n\t\t\t\t\t<text class=\"management-icon\">ğŸ¤–</text>\n\t\t\t\t\t<text class=\"management-text\">æ™ºèƒ½ä½“é…ç½®</text>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"management-arrow\">></text>\n\t\t\t</view>\n\t\t\t<view class=\"management-item voice-config-item\" @click=\"goToVoiceConfig\">\n\t\t\t\t<view class=\"management-left\">\n\t\t\t\t\t<text class=\"management-icon\">ğŸ¤</text>\n\t\t\t\t\t<text class=\"management-text\">è¯­éŸ³è¯†åˆ«é…ç½®</text>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"management-arrow\">></text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- æ•°æ®ç®¡ç† -->\n\t\t<view class=\"data-management\">\n\t\t\t<text class=\"management-title\">æ•°æ®ç®¡ç†</text>\n\t\t\t<view class=\"management-item budget-manage-item\" @click=\"goToBudgetManage\">\n\t\t\t\t<view class=\"management-left\">\n\t\t\t\t\t<text class=\"management-icon\">ğŸ’°</text>\n\t\t\t\t\t<text class=\"management-text\">é¢„ç®—ç®¡ç†</text>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"management-arrow\">></text>\n\t\t\t</view>\n\t\t\t<view class=\"management-item icon-manage-item\" @click=\"goToIconManage\">\n\t\t\t\t<view class=\"management-left\">\n\t\t\t\t\t<text class=\"management-icon\">ğŸ¨</text>\n\t\t\t\t\t<text class=\"management-text\">åˆ†ç±»ç®¡ç†</text>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"management-arrow\">></text>\n\t\t\t</view>\n\t\t\t<view class=\"management-item refresh-item\" @click=\"refreshCategories\">\n\t\t\t\t<view class=\"management-left\">\n\t\t\t\t\t<text class=\"management-icon\">ğŸ”„</text>\n\t\t\t\t\t<text class=\"management-text\">åˆ·æ–°åˆ†ç±»</text>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"management-arrow\">></text>\n\t\t\t</view>\n\t\t\t<view class=\"management-item import-item\" @click=\"importData\">\n\t\t\t\t<view class=\"management-left\">\n\t\t\t\t\t<text class=\"management-icon\">ğŸ“¥</text>\n\t\t\t\t\t<text class=\"management-text\">å¯¼å…¥æ•°æ®</text>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"management-arrow\">></text>\n\t\t\t</view>\n\t\t\t<view class=\"management-item export-item\" @click=\"exportData\">\n\t\t\t\t<view class=\"management-left\">\n\t\t\t\t\t<text class=\"management-icon\">ğŸ“¤</text>\n\t\t\t\t\t<text class=\"management-text\">å¯¼å‡ºæ•°æ®</text>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"management-arrow\">></text>\n\t\t\t</view>\n\t\t\t<view class=\"management-item danger-item\" @click=\"clearAllData\">\n\t\t\t\t<view class=\"management-left\">\n\t\t\t\t\t<text class=\"management-icon\">ğŸ—‘ï¸</text>\n\t\t\t\t\t<text class=\"management-text\">æ¸…ç©ºæ‰€æœ‰è®°å½•</text>\n\t\t\t\t</view>\n\t\t\t\t<text class=\"management-arrow\">></text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- åº”ç”¨ä¿¡æ¯ -->\n\t\t<view class=\"app-info\">\n\t\t\t<text class=\"info-title\">å…³äºåº”ç”¨</text>\n\t\t\t<view class=\"info-item\">\n\t\t\t\t<text class=\"info-label\">ç‰ˆæœ¬å·ï¼š</text>\n\t\t\t\t<text class=\"info-value\">1.0.3</text>\n\t\t\t</view>\n\t\t\t<view class=\"info-item\">\n\t\t\t\t<text class=\"info-label\">æ›´æ–°æ—¶é—´ï¼š</text>\n\t\t\t\t<text class=\"info-value\">2025-09-10</text>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t// ä»category.vueç§»è¿‡æ¥çš„é»˜è®¤åˆ†ç±»æ•°æ®\n\t\t\t\tdefaultExpenseCategories: [\n\t\t\t\t\t{id: 1, name: 'é¤é¥®', icon: 'ğŸ½ï¸'},\n\t\t\t\t\t{id: 2, name: 'äº¤é€š', icon: 'ğŸš—'},\n\t\t\t\t\t{id: 3, name: 'è´­ç‰©', icon: 'ğŸ›ï¸'},\n\t\t\t\t\t{id: 4, name: 'å¨±ä¹', icon: 'ğŸ¬'},\n\t\t\t\t\t{id: 5, name: 'ä½æˆ¿', icon: 'ğŸ '},\n\t\t\t\t\t{id: 6, name: 'åŒ»ç–—', icon: 'ğŸ’Š'},\n\t\t\t\t\t{id: 7, name: 'æ•™è‚²', icon: 'ğŸ“š'},\n\t\t\t\t\t{id: 8, name: 'é€šè®¯', icon: 'ğŸ“±'},\n\t\t\t\t\t{id: 9, name: 'æœè£…', icon: 'ğŸ‘•'},\n\t\t\t\t\t{id: 10, name: 'å…¶ä»–', icon: 'ğŸ“¦'}\n\t\t\t\t],\n\t\t\t\tdefaultIncomeCategories: [\n\t\t\t\t\t{id: 11, name: 'å·¥èµ„', icon: 'ğŸ’°'},\n\t\t\t\t\t{id: 12, name: 'å¥–é‡‘', icon: 'ğŸ'},\n\t\t\t\t\t{id: 13, name: 'æŠ•èµ„', icon: 'ğŸ“ˆ'},\n\t\t\t\t\t{id: 14, name: 'å…¼èŒ', icon: 'ğŸ’¼'},\n\t\t\t\t\t{id: 15, name: 'çº¢åŒ…', icon: 'ğŸ§§'},\n\t\t\t\t\t{id: 16, name: 'é€€æ¬¾', icon: 'â†©ï¸'},\n\t\t\t\t\t{id: 17, name: 'å…¶ä»–', icon: 'ğŸ’'}\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t\t\n\t\tmethods: {\n\t\t\t// è·³è½¬åˆ°æ™ºèƒ½è®°è´¦èŠå¤©\n\t\t\tgoToChat() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/chat/chat'\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// è·³è½¬åˆ°AIé…ç½®é¡µé¢\n\t\t\tgoToAIConfig() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/ai-config/ai-config'\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// è·³è½¬åˆ°è¯­éŸ³è¯†åˆ«é…ç½®é¡µé¢\n\t\t\tgoToVoiceConfig() {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/voice-config/voice-config'\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tgoToBudgetManage() {\n\t\t\t\t// è·³è½¬åˆ°é¢„ç®—ç®¡ç†é¡µé¢\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/budget-manage/budget-manage'\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tgoToIconManage() {\n\t\t\t\t// è·³è½¬åˆ°å›¾æ ‡ç®¡ç†é¡µé¢\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '/pages/icon-manage/icon-manage'\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æ–¹æ³•\n\t\t\tshowErrorDialog(title, message) {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: title || 'æ“ä½œå¤±è´¥',\n\t\t\t\t\tcontent: message || 'è¯·é‡è¯•æˆ–è”ç³»æŠ€æœ¯æ”¯æŒ',\n\t\t\t\t\tshowCancel: false,\n\t\t\t\t\tconfirmText: 'æˆ‘çŸ¥é“äº†'\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// ç»Ÿä¸€çš„æˆåŠŸæç¤ºæ–¹æ³•\n\t\t\tshowSuccessToast(message, duration = 1500) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: message || 'æ“ä½œæˆåŠŸ',\n\t\t\t\t\ticon: 'success',\n\t\t\t\t\tduration: duration\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\trefreshCategories() {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'åˆ·æ–°åˆ†ç±»',\n\t\t\t\t\tcontent: 'å°†åŒæ­¥è´¦å•è®°å½•ä¸­çš„åˆ†ç±»åç§°å’Œå›¾æ ‡ï¼Œç¡®å®šè¦ç»§ç»­å—ï¼Ÿ',\n\t\t\t\t\tconfirmText: 'ç¡®è®¤åˆ·æ–°',\n\t\t\t\t\tcancelText: 'å–æ¶ˆ',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tthis.performCategoryRefresh()\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tperformCategoryRefresh() {\n\t\t\t\ttry {\n\t\t\t\t\t// æ˜¾ç¤ºåŠ è½½æç¤º\n\t\t\t\t\tuni.showLoading({\n\t\t\t\t\t\ttitle: 'æ­£åœ¨åˆ·æ–°åˆ†ç±»...'\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\t// 1. è·å–æ‰€æœ‰è´¦å•è®°å½•\n\t\t\t\t\tconst records = uni.getStorageSync('records') || []\n\t\t\t\t\tif (records.length === 0) {\n\t\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'æš‚æ— è´¦å•è®°å½•',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 2. è·å–å½“å‰çš„åˆ†ç±»æ•°æ®\n\t\t\t\t\tconst expenseCategories = uni.getStorageSync('expenseCategories') || []\n\t\t\t\t\tconst incomeCategories = uni.getStorageSync('incomeCategories') || []\n\t\t\t\t\t\n\t\t\t\t\t// åˆ›å»ºåˆ†ç±»æ˜ å°„è¡¨ï¼Œæ–¹ä¾¿æŸ¥æ‰¾\n\t\t\t\t\tconst expenseCategoryMap = new Map()\n\t\t\t\t\tconst incomeCategoryMap = new Map()\n\t\t\t\t\t\n\t\t\t\t\texpenseCategories.forEach(cat => {\n\t\t\t\t\t\texpenseCategoryMap.set(cat.id, cat)\n\t\t\t\t\t})\n\t\t\t\t\tincomeCategories.forEach(cat => {\n\t\t\t\t\t\tincomeCategoryMap.set(cat.id, cat)\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\t// 3. å¤„ç†è´¦å•è®°å½•å’Œåˆ†ç±»åŒæ­¥\n\t\t\t\t\tlet updatedRecordsCount = 0\n\t\t\t\t\tlet createdCategoriesCount = 0\n\t\t\t\t\tconst updatedRecords = []\n\t\t\t\t\tconst newExpenseCategories = [...expenseCategories]\n\t\t\t\t\tconst newIncomeCategories = [...incomeCategories]\n\t\t\t\t\t\n\t\t\t\t\t// ç”¨äºè·Ÿè¸ªéœ€è¦åˆ›å»ºçš„æ–°åˆ†ç±»\n\t\t\t\t\tconst missingExpenseCategories = new Map()\n\t\t\t\t\tconst missingIncomeCategories = new Map()\n\t\t\t\t\t\n\t\t\t\t\t// 4. éå†æ‰€æœ‰è´¦å•è®°å½•ï¼Œæ£€æŸ¥å’Œæ›´æ–°åˆ†ç±»ä¿¡æ¯\n\t\t\t\t\trecords.forEach(record => {\n\t\t\t\t\t\tconst categoryMap = record.type === 'expense' ? expenseCategoryMap : incomeCategoryMap\n\t\t\t\t\t\tconst currentCategory = categoryMap.get(record.categoryId)\n\t\t\t\t\t\t\n\t\t\t\t\t\tlet updatedRecord = { ...record }\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (currentCategory) {\n\t\t\t\t\t\t\t// åˆ†ç±»å­˜åœ¨ï¼Œæ£€æŸ¥æ˜¯å¦éœ€è¦æ›´æ–°è®°å½•ä¸­çš„åˆ†ç±»ä¿¡æ¯\n\t\t\t\t\t\t\tif (record.categoryName !== currentCategory.name || \n\t\t\t\t\t\t\t\trecord.categoryIcon !== currentCategory.icon) {\n\t\t\t\t\t\t\t\tupdatedRecord.categoryName = currentCategory.name\n\t\t\t\t\t\t\t\tupdatedRecord.categoryIcon = currentCategory.icon\n\t\t\t\t\t\t\t\tupdatedRecordsCount++\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// åˆ†ç±»ä¸å­˜åœ¨ï¼Œè®°å½•éœ€è¦åˆ›å»ºçš„åˆ†ç±»\n\t\t\t\t\t\t\tconst missingMap = record.type === 'expense' ? missingExpenseCategories : missingIncomeCategories\n\t\t\t\t\t\t\tconst categoryKey = `${record.categoryId}_${record.categoryName}_${record.categoryIcon}`\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (!missingMap.has(categoryKey)) {\n\t\t\t\t\t\t\t\tmissingMap.set(categoryKey, {\n\t\t\t\t\t\t\t\t\tid: record.categoryId,\n\t\t\t\t\t\t\t\t\tname: record.categoryName,\n\t\t\t\t\t\t\t\t\ticon: record.categoryIcon,\n\t\t\t\t\t\t\t\t\toriginalId: record.categoryId // ä¿å­˜åŸå§‹IDç”¨äºåç»­æ›´æ–°\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tupdatedRecords.push(updatedRecord)\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\t// 5. åˆ›å»ºç¼ºå¤±çš„åˆ†ç±»å¹¶å¤„ç†IDå†²çª\n\t\t\t\t\tconst categoryIdMapping = new Map() // ç”¨äºè®°å½•IDå˜æ›´\n\t\t\t\t\t\n\t\t\t\t\tmissingExpenseCategories.forEach(category => {\n\t\t\t\t\t\tconst originalId = category.originalId\n\t\t\t\t\t\t// æ£€æŸ¥IDæ˜¯å¦å†²çªï¼Œå¦‚æœå†²çªåˆ™ç”Ÿæˆæ–°ID\n\t\t\t\t\t\tif (expenseCategoryMap.has(category.id)) {\n\t\t\t\t\t\t\tconst newId = this.generateNewCategoryId([...newExpenseCategories, ...newIncomeCategories])\n\t\t\t\t\t\t\tcategoryIdMapping.set(`expense_${originalId}`, newId)\n\t\t\t\t\t\t\tcategory.id = newId\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdelete category.originalId // åˆ é™¤ä¸´æ—¶å±æ€§\n\t\t\t\t\t\tnewExpenseCategories.push(category)\n\t\t\t\t\t\tcreatedCategoriesCount++\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\tmissingIncomeCategories.forEach(category => {\n\t\t\t\t\t\tconst originalId = category.originalId\n\t\t\t\t\t\t// æ£€æŸ¥IDæ˜¯å¦å†²çªï¼Œå¦‚æœå†²çªåˆ™ç”Ÿæˆæ–°ID\n\t\t\t\t\t\tif (incomeCategoryMap.has(category.id)) {\n\t\t\t\t\t\t\tconst newId = this.generateNewCategoryId([...newExpenseCategories, ...newIncomeCategories])\n\t\t\t\t\t\t\tcategoryIdMapping.set(`income_${originalId}`, newId)\n\t\t\t\t\t\t\tcategory.id = newId\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdelete category.originalId // åˆ é™¤ä¸´æ—¶å±æ€§\n\t\t\t\t\t\tnewIncomeCategories.push(category)\n\t\t\t\t\t\tcreatedCategoriesCount++\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\t// 6. æ›´æ–°è®°å½•ä¸­å‘ç”ŸIDå˜æ›´çš„åˆ†ç±»ID\n\t\t\t\t\tif (categoryIdMapping.size > 0) {\n\t\t\t\t\t\tupdatedRecords.forEach(record => {\n\t\t\t\t\t\t\tconst mappingKey = `${record.type}_${record.categoryId}`\n\t\t\t\t\t\t\tconst newId = categoryIdMapping.get(mappingKey)\n\t\t\t\t\t\t\tif (newId) {\n\t\t\t\t\t\t\t\trecord.categoryId = newId\n\t\t\t\t\t\t\t\tupdatedRecordsCount++\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// 7. ä¿å­˜æ›´æ–°åçš„æ•°æ®\n\t\t\t\t\tuni.setStorageSync('records', updatedRecords)\n\t\t\t\t\tuni.setStorageSync('expenseCategories', newExpenseCategories)\n\t\t\t\t\tuni.setStorageSync('incomeCategories', newIncomeCategories)\n\t\t\t\t\t\n\t\t\t\t\t// éšè—åŠ è½½æç¤º\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\t\n\t\t\t\t\t// 8. æ˜¾ç¤ºç»“æœæç¤º\n\t\t\t\t\tlet message = 'åˆ†ç±»åˆ·æ–°å®Œæˆï¼'\n\t\t\t\t\tif (updatedRecordsCount > 0 || createdCategoriesCount > 0) {\n\t\t\t\t\t\tconst details = []\n\t\t\t\t\t\tif (updatedRecordsCount > 0) {\n\t\t\t\t\t\t\tdetails.push(`æ›´æ–°äº†${updatedRecordsCount}æ¡è®°å½•`)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (createdCategoriesCount > 0) {\n\t\t\t\t\t\t\tdetails.push(`åˆ›å»ºäº†${createdCategoriesCount}ä¸ªåˆ†ç±»`)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tmessage += '\\n' + details.join('ï¼Œ')\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmessage += '\\næ‰€æœ‰æ•°æ®å·²æ˜¯æœ€æ–°çŠ¶æ€'\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: 'åˆ·æ–°å®Œæˆ',\n\t\t\t\t\t\tcontent: message,\n\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\tconfirmText: 'ç¡®å®š'\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t} catch (error) {\n\t\t\t\t\tuni.hideLoading()\n\t\t\t\t\tconsole.error('åˆ·æ–°åˆ†ç±»æ—¶å‡ºé”™:', error)\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'åˆ·æ–°å¤±è´¥ï¼Œè¯·é‡è¯•',\n\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// ç”Ÿæˆæ–°çš„åˆ†ç±»IDï¼Œé¿å…å†²çª\n\t\t\tgenerateNewCategoryId(allCategories) {\n\t\t\t\tlet maxId = 0\n\t\t\t\tallCategories.forEach(cat => {\n\t\t\t\t\tif (typeof cat.id === 'number' && cat.id > maxId) {\n\t\t\t\t\t\tmaxId = cat.id\n\t\t\t\t\t} else if (typeof cat.id === 'string') {\n\t\t\t\t\t\tconst numId = parseInt(cat.id)\n\t\t\t\t\t\tif (!isNaN(numId) && numId > maxId) {\n\t\t\t\t\t\t\tmaxId = numId\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\treturn maxId + 1\n\t\t\t},\n\t\t\t\n\t\t\tclearAllData() {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'æ¸…ç©ºæ‰€æœ‰æ•°æ®',\n\t\t\t\t\tcontent: 'æ­¤æ“ä½œå°†æ°¸ä¹…åˆ é™¤æ‰€æœ‰è®°è´¦è®°å½•ï¼Œæ— æ³•æ¢å¤ã€‚ç¡®å®šè¦ç»§ç»­å—ï¼Ÿ',\n\t\t\t\t\tconfirmColor: '#FF6B6B',\n\t\t\t\t\tconfirmText: 'ç¡®è®¤æ¸…ç©º',\n\t\t\t\t\tcancelText: 'å–æ¶ˆ',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tuni.removeStorageSync('records')\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: 'æ‰€æœ‰æ•°æ®å·²æ¸…ç©º',\n\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\timportData() {\n\t\t\t\t// æ£€æŸ¥å¹³å°æ”¯æŒ\n\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\tif (typeof plus === 'undefined') {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'å½“å‰ç¯å¢ƒä¸æ”¯æŒæ–‡ä»¶ç³»ç»Ÿè®¿é—®',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tuni.showActionSheet({\n\t\t\t\t\titemList: ['ä»æ–‡ä»¶å¯¼å…¥', 'ä»å‰ªè´´æ¿å¯¼å…¥', 'æ‰‹åŠ¨è¾“å…¥æ•°æ®'],\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.tapIndex === 0) {\n\t\t\t\t\t\t\tthis.importFromFile()\n\t\t\t\t\t\t} else if (res.tapIndex === 1) {\n\t\t\t\t\t\t\tthis.importFromClipboard()\n\t\t\t\t\t\t} else if (res.tapIndex === 2) {\n\t\t\t\t\t\t\tthis.showCsvImportDialog()\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t// #endif\n\t\t\t\t\n\t\t\t\t// #ifndef APP-PLUS\n\t\t\t\tuni.showActionSheet({\n\t\t\t\t\titemList: ['ä»å‰ªè´´æ¿å¯¼å…¥', 'æ‰‹åŠ¨è¾“å…¥æ•°æ®'],\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.tapIndex === 0) {\n\t\t\t\t\t\t\tthis.importFromClipboard()\n\t\t\t\t\t\t} else if (res.tapIndex === 1) {\n\t\t\t\t\t\t\tthis.showCsvImportDialog()\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t// #endif\n\t\t\t},\n\t\t\t\n\t\t\t// ç»Ÿä¸€çš„æ–‡ä»¶å¯¼å…¥å…¥å£\n\t\t\timportFromFile() {\n\t\t\t\t// #ifdef H5\n\t\t\t\tthis.importFromFileH5()\n\t\t\t\t// #endif\n\t\t\t\t\n\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\tuni.showActionSheet({\n\t\t\t\t\titemList: ['ä»å…¬å…±å­˜å‚¨é€‰æ‹©', 'ä»ä¸‹è½½ç›®å½•é€‰æ‹©', 'ä»åº”ç”¨æ–‡æ¡£é€‰æ‹©', 'æ‰‹åŠ¨è¾“å…¥è·¯å¾„'],\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.tapIndex === 0) {\n\t\t\t\t\t\t\tthis.selectFromPublicStorage()\n\t\t\t\t\t\t} else if (res.tapIndex === 1) {\n\t\t\t\t\t\t\tthis.selectFromDownloads()\n\t\t\t\t\t\t} else if (res.tapIndex === 2) {\n\t\t\t\t\t\t\tthis.selectFromAppDocuments()\n\t\t\t\t\t\t} else if (res.tapIndex === 3) {\n\t\t\t\t\t\t\tthis.manualInputPath()\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t// #endif\n\t\t\t\t\n\t\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\tthis.importFromFileWx()\n\t\t\t\t// #endif\n\t\t\t\t\n\t\t\t\t// #ifdef MP && !MP-WEIXIN\n\t\t\t\tthis.fallbackImport()\n\t\t\t\t// #endif\n\t\t\t\t\n\t\t\t\t// #ifndef H5 || APP-PLUS || MP\n\t\t\t\tthis.fallbackImport()\n\t\t\t\t// #endif\n\t\t\t},\n\t\t\t\n\t\t\tshowCsvImportDialog() {\n\t\t\t\tconsole.log('=== æ˜¾ç¤ºCSVæ•°æ®è¾“å…¥å¯¹è¯æ¡† ===')\n\t\t\t\t// ä½¿ç”¨ prompt æ¥è·å–ç”¨æˆ·è¾“å…¥çš„CSVæ•°æ®\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'å¯¼å…¥æ•°æ®',\n\t\t\t\t\tcontent: 'è¯·å°†CSVæ ¼å¼çš„æ•°æ®ç²˜è´´åˆ°ä¸‹æ–¹è¾“å…¥æ¡†ï¼š\\n\\næ–°æ ¼å¼ï¼šæ—¶é—´,ç±»å‹,åˆ†ç±»å,åˆ†ç±»å›¾æ ‡,é‡‘é¢,å¤‡æ³¨\\næ—§æ ¼å¼ï¼šæ—¶é—´,ç±»å‹,åˆ†ç±»å,é‡‘é¢,å¤‡æ³¨\\n\\nç¤ºä¾‹ï¼š\\n\"2024-01-01 12:00\",\"æ”¯å‡º\",\"é¤é¥®\",\"ğŸ½ï¸\",\"25.50\",\"åˆé¤\"',\n\t\t\t\t\teditable: true,\n\t\t\t\t\tplaceholderText: 'è¯·ç²˜è´´CSVæ•°æ®...',\n\t\t\t\t\tconfirmText: 'å¼€å§‹å¯¼å…¥',\n\t\t\t\t\tcancelText: 'å–æ¶ˆ',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconsole.log('CSVè¾“å…¥å¯¹è¯æ¡†ç»“æœ:', res)\n\t\t\t\t\t\tif (res.confirm && res.content && res.content.trim()) {\n\t\t\t\t\t\t\tconsole.log('ç”¨æˆ·è¾“å…¥CSVæ•°æ®é•¿åº¦:', res.content.trim().length)\n\t\t\t\t\t\t\tconsole.log('CSVæ•°æ®å†…å®¹é¢„è§ˆ:', res.content.trim().substring(0, 200) + (res.content.trim().length > 200 ? '...' : ''))\n\t\t\t\t\t\t\tthis.parseCsvData(res.content.trim())\n\t\t\t\t\t\t} else if (res.confirm) {\n\t\t\t\t\t\t\tconsole.log('ç”¨æˆ·ç¡®è®¤ä½†æœªè¾“å…¥æ•°æ®')\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: 'è¯·è¾“å…¥æœ‰æ•ˆæ•°æ®',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log('ç”¨æˆ·å–æ¶ˆCSVæ•°æ®è¾“å…¥')\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\timportFromClipboard() {\n\t\t\t\tconsole.log('=== å¼€å§‹ä»å‰ªåˆ‡æ¿å¯¼å…¥ ===')\n\t\t\t\t\n\t\t\t\t// #ifdef H5\n\t\t\t\t// æµè§ˆå™¨ç¯å¢ƒä½¿ç”¨ç°ä»£Clipboard API\n\t\t\t\tif (navigator.clipboard && window.isSecureContext) {\n\t\t\t\t\tconsole.log('ä½¿ç”¨ç°ä»£Clipboard APIè¯»å–')\n\t\t\t\t\tnavigator.clipboard.readText().then(clipboardData => {\n\t\t\t\t\t\tconsole.log('ç°ä»£Clipboard APIè¯»å–æˆåŠŸ')\n\t\t\t\t\t\tthis.processClipboardData(clipboardData)\n\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\tconsole.error('ç°ä»£Clipboard APIè¯»å–å¤±è´¥:', err)\n\t\t\t\t\t\tthis.showManualPasteDialog()\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('ç°ä»£Clipboard APIä¸å¯ç”¨ï¼Œæ˜¾ç¤ºæ‰‹åŠ¨ç²˜è´´å¯¹è¯æ¡†')\n\t\t\t\t\tthis.showManualPasteDialog()\n\t\t\t\t}\n\t\t\t\t// #endif\n\t\t\t\t\n\t\t\t\t// #ifndef H5\n\t\t\t\t// éæµè§ˆå™¨ç¯å¢ƒä½¿ç”¨uni-app API\n\t\t\t\tuni.getClipboardData({\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconsole.log('uni-appå‰ªåˆ‡æ¿è¯»å–æˆåŠŸ:', res)\n\t\t\t\t\t\tthis.processClipboardData(res.data)\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.error('uni-appè¯»å–å‰ªåˆ‡æ¿å¤±è´¥:', err)\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: 'è¯»å–å¤±è´¥',\n\t\t\t\t\t\t\tcontent: 'æ— æ³•è¯»å–å‰ªåˆ‡æ¿å†…å®¹ï¼Œè¯·æ£€æŸ¥æƒé™è®¾ç½®æˆ–æ‰‹åŠ¨ç²˜è´´æ•°æ®ã€‚',\n\t\t\t\t\t\t\tshowCancel: true,\n\t\t\t\t\t\t\tconfirmText: 'æ‰‹åŠ¨è¾“å…¥',\n\t\t\t\t\t\t\tcancelText: 'å–æ¶ˆ',\n\t\t\t\t\t\t\tsuccess: (modalRes) => {\n\t\t\t\t\t\t\t\tif (modalRes.confirm) {\n\t\t\t\t\t\t\t\t\tthis.showCsvImportDialog()\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t// #endif\n\t\t\t},\n\t\t\t\n\t\t\tprocessClipboardData(clipboardData) {\n\t\t\t\tconsole.log('=== å¤„ç†å‰ªåˆ‡æ¿æ•°æ® ===')\n\t\t\t\tconsole.log('å‰ªåˆ‡æ¿æ•°æ®ç±»å‹:', typeof clipboardData)\n\t\t\t\tconsole.log('å‰ªåˆ‡æ¿æ•°æ®é•¿åº¦:', clipboardData ? clipboardData.length : 0)\n\t\t\t\tconsole.log('å‰ªåˆ‡æ¿æ•°æ®é¢„è§ˆ:', clipboardData ? clipboardData.substring(0, 200) + (clipboardData.length > 200 ? '...' : '') : 'æ— å†…å®¹')\n\t\t\t\t\n\t\t\t\tif (!clipboardData || !clipboardData.trim()) {\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: 'å‰ªè´´æ¿ä¸ºç©º',\n\t\t\t\t\t\tcontent: 'å‰ªè´´æ¿ä¸­æ²¡æœ‰æ‰¾åˆ°æ•°æ®ï¼Œè¯·å…ˆå¤åˆ¶CSVæ ¼å¼çš„æ•°æ®ã€‚\\n\\næ”¯æŒæ ¼å¼ï¼š\\næ–°æ ¼å¼ï¼šæ—¶é—´,ç±»å‹,åˆ†ç±»å,åˆ†ç±»å›¾æ ‡,é‡‘é¢,å¤‡æ³¨\\næ—§æ ¼å¼ï¼šæ—¶é—´,ç±»å‹,åˆ†ç±»å,é‡‘é¢,å¤‡æ³¨',\n\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\tconfirmText: 'æˆ‘çŸ¥é“äº†'\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// æ£€æŸ¥æ•°æ®æ ¼å¼\n\t\t\t\tconst trimmedData = clipboardData.trim()\n\t\t\t\tif (!trimmedData.includes(',')) {\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: 'æ•°æ®æ ¼å¼é”™è¯¯',\n\t\t\t\t\t\tcontent: 'æ£€æµ‹åˆ°çš„æ•°æ®ä¸æ˜¯æœ‰æ•ˆçš„CSVæ ¼å¼ï¼Œè¯·ç¡®ä¿æ•°æ®åŒ…å«é€—å·åˆ†éš”çš„å­—æ®µã€‚\\n\\næ”¯æŒæ ¼å¼ï¼š\\næ–°æ ¼å¼ï¼šæ—¶é—´,ç±»å‹,åˆ†ç±»å,åˆ†ç±»å›¾æ ‡,é‡‘é¢,å¤‡æ³¨\\næ—§æ ¼å¼ï¼šæ—¶é—´,ç±»å‹,åˆ†ç±»å,é‡‘é¢,å¤‡æ³¨',\n\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\tconfirmText: 'æˆ‘çŸ¥é“äº†'\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// æ˜¾ç¤ºç¡®è®¤å¯¹è¯æ¡†\n\t\t\t\tconst lines = trimmedData.split('\\n').filter(line => line.trim())\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'ç¡®è®¤å¯¼å…¥æ•°æ®',\n\t\t\t\t\tcontent: `æ£€æµ‹åˆ° ${lines.length} è¡Œæ•°æ®ï¼Œç¡®å®šè¦å¯¼å…¥å—ï¼Ÿ\\n\\næ•°æ®é¢„è§ˆï¼š\\n${trimmedData.substring(0, 100)}${trimmedData.length > 100 ? '...' : ''}`,\n\t\t\t\t\tconfirmText: 'ç¡®è®¤å¯¼å…¥',\n\t\t\t\t\tcancelText: 'å–æ¶ˆ',\n\t\t\t\t\tsuccess: (modalRes) => {\n\t\t\t\t\t\tif (modalRes.confirm) {\n\t\t\t\t\t\t\tconsole.log('ç”¨æˆ·ç¡®è®¤å¯¼å…¥å‰ªåˆ‡æ¿æ•°æ®')\n\t\t\t\t\t\t\tthis.parseCsvData(trimmedData)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log('ç”¨æˆ·å–æ¶ˆå¯¼å…¥å‰ªåˆ‡æ¿æ•°æ®')\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tshowManualPasteDialog() {\n\t\t\t\tconsole.log('=== æ˜¾ç¤ºæ‰‹åŠ¨ç²˜è´´å¯¹è¯æ¡† ===')\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'æ‰‹åŠ¨è¾“å…¥æ•°æ®',\n\t\t\t\t\tcontent: 'æ— æ³•è‡ªåŠ¨è¯»å–å‰ªè´´æ¿å†…å®¹ï¼Œè¯·ç‚¹å‡»ç¡®å®šåæ‰‹åŠ¨è¾“å…¥CSVæ•°æ®ã€‚\\n\\næ”¯æŒæ ¼å¼ï¼š\\næ–°æ ¼å¼ï¼šæ—¶é—´,ç±»å‹,åˆ†ç±»å,åˆ†ç±»å›¾æ ‡,é‡‘é¢,å¤‡æ³¨\\næ—§æ ¼å¼ï¼šæ—¶é—´,ç±»å‹,åˆ†ç±»å,é‡‘é¢,å¤‡æ³¨',\n\t\t\t\t\tshowCancel: true,\n\t\t\t\t\tconfirmText: 'æ‰‹åŠ¨è¾“å…¥',\n\t\t\t\t\tcancelText: 'å–æ¶ˆ',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tthis.showCsvImportDialog()\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\texportToClipboard(csvContent, recordCount) {\n\t\t\t\tconsole.log('=== å¼€å§‹å¯¼å‡ºåˆ°å‰ªåˆ‡æ¿ ===')\n\t\t\t\tconsole.log('è®°å½•æ•°é‡:', recordCount)\n\t\t\t\tconsole.log('CSVå†…å®¹é•¿åº¦:', csvContent.length)\n\t\t\t\tconsole.log('CSVå†…å®¹é¢„è§ˆ:', csvContent.substring(0, 200))\n\t\t\t\t\n\t\t\t\t// #ifdef H5\n\t\t\t\t// æµè§ˆå™¨ç¯å¢ƒä½¿ç”¨ç°ä»£Clipboard API\n\t\t\t\tif (navigator.clipboard && window.isSecureContext) {\n\t\t\t\t\tconsole.log('ä½¿ç”¨ç°ä»£Clipboard API')\n\t\t\t\t\tnavigator.clipboard.writeText(csvContent).then(() => {\n\t\t\t\t\t\tconsole.log('ç°ä»£Clipboard APIå†™å…¥æˆåŠŸ')\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: 'å¯¼å‡ºæˆåŠŸ',\n\t\t\t\t\t\t\tcontent: `å·²å°† ${recordCount} æ¡è®°å½•å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼\\n\\næ‚¨å¯ä»¥å°†æ•°æ®ç²˜è´´åˆ°ä»»æ„æ–‡æœ¬ç¼–è¾‘å™¨ä¸­ä¿å­˜ä¸ºCSVæ–‡ä»¶ï¼Œæˆ–ç›´æ¥åœ¨å…¶ä»–åº”ç”¨ä¸­ä½¿ç”¨ã€‚`,\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tconfirmText: 'æˆ‘çŸ¥é“äº†'\n\t\t\t\t\t\t})\n\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\tconsole.error('ç°ä»£Clipboard APIå¤±è´¥:', err)\n\t\t\t\t\t\tthis.fallbackCopyToClipboard(csvContent, recordCount)\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('ç°ä»£Clipboard APIä¸å¯ç”¨ï¼Œä½¿ç”¨åå¤‡æ–¹æ¡ˆ')\n\t\t\t\t\tthis.fallbackCopyToClipboard(csvContent, recordCount)\n\t\t\t\t}\n\t\t\t\t// #endif\n\t\t\t\t\n\t\t\t\t// #ifndef H5\n\t\t\t\t// éæµè§ˆå™¨ç¯å¢ƒä½¿ç”¨uni-app API\n\t\t\t\tuni.setClipboardData({\n\t\t\t\t\tdata: csvContent,\n\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\tconsole.log('uni-appå‰ªåˆ‡æ¿å†™å…¥æˆåŠŸ')\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: 'å¯¼å‡ºæˆåŠŸ',\n\t\t\t\t\t\t\tcontent: `å·²å°† ${recordCount} æ¡è®°å½•å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼\\n\\næ‚¨å¯ä»¥å°†æ•°æ®ç²˜è´´åˆ°ä»»æ„æ–‡æœ¬ç¼–è¾‘å™¨ä¸­ä¿å­˜ä¸ºCSVæ–‡ä»¶ï¼Œæˆ–ç›´æ¥åœ¨å…¶ä»–åº”ç”¨ä¸­ä½¿ç”¨ã€‚`,\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tconfirmText: 'æˆ‘çŸ¥é“äº†'\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.error('uni-appå‰ªåˆ‡æ¿å†™å…¥å¤±è´¥:', err)\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: 'å¯¼å‡ºå¤±è´¥',\n\t\t\t\t\t\t\tcontent: 'æ— æ³•å¤åˆ¶æ•°æ®åˆ°å‰ªè´´æ¿ï¼Œè¯·æ£€æŸ¥åº”ç”¨æƒé™è®¾ç½®ã€‚\\n\\næ‚¨å¯ä»¥å°è¯•å…¶ä»–å¯¼å‡ºæ–¹å¼ã€‚',\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tconfirmText: 'æˆ‘çŸ¥é“äº†'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t// #endif\n\t\t\t},\n\t\t\t\n\t\t\tfallbackCopyToClipboard(csvContent, recordCount) {\n\t\t\t\tconsole.log('=== ä½¿ç”¨åå¤‡å‰ªåˆ‡æ¿æ–¹æ¡ˆ ===')\n\t\t\t\ttry {\n\t\t\t\t\t// åˆ›å»ºä¸´æ—¶textareaå…ƒç´ \n\t\t\t\t\tconst textArea = document.createElement('textarea')\n\t\t\t\t\ttextArea.value = csvContent\n\t\t\t\t\ttextArea.style.position = 'fixed'\n\t\t\t\t\ttextArea.style.left = '-999999px'\n\t\t\t\t\ttextArea.style.top = '-999999px'\n\t\t\t\t\tdocument.body.appendChild(textArea)\n\t\t\t\t\ttextArea.focus()\n\t\t\t\t\ttextArea.select()\n\t\t\t\t\t\n\t\t\t\t\t// å°è¯•å¤åˆ¶\n\t\t\t\t\tconst successful = document.execCommand('copy')\n\t\t\t\t\tdocument.body.removeChild(textArea)\n\t\t\t\t\t\n\t\t\t\t\tif (successful) {\n\t\t\t\t\t\tconsole.log('åå¤‡æ–¹æ¡ˆå¤åˆ¶æˆåŠŸ')\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: 'å¯¼å‡ºæˆåŠŸ',\n\t\t\t\t\t\t\tcontent: `å·²å°†${recordCount}æ¡è®°å½•å¤åˆ¶åˆ°å‰ªåˆ‡æ¿\\n\\næ‚¨å¯ä»¥ç²˜è´´åˆ°ä»»æ„æ–‡æœ¬ç¼–è¾‘å™¨ä¸­ä¿å­˜ä¸ºCSVæ–‡ä»¶ï¼Œæˆ–ç›´æ¥åœ¨å…¶ä»–åº”ç”¨ä¸­ä½¿ç”¨ã€‚`,\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tconfirmText: 'çŸ¥é“äº†'\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new Error('execCommand copy failed')\n\t\t\t\t\t}\n\t\t\t\t} catch (err) {\n\t\t\t\t\tconsole.error('åå¤‡æ–¹æ¡ˆä¹Ÿå¤±è´¥äº†:', err)\n\t\t\t\t\t// æœ€ç»ˆåå¤‡æ–¹æ¡ˆï¼šæ˜¾ç¤ºæ–‡æœ¬è®©ç”¨æˆ·æ‰‹åŠ¨å¤åˆ¶\n\t\t\t\t\tthis.showManualCopyDialog(csvContent, recordCount)\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tshowManualCopyDialog(csvContent, recordCount) {\n\t\t\t\tconsole.log('=== æ˜¾ç¤ºæ‰‹åŠ¨å¤åˆ¶å¯¹è¯æ¡† ===')\n\t\t\t\tconst previewContent = csvContent.length > 500 ? \n\t\t\t\t\tcsvContent.substring(0, 500) + '\\n...(æ•°æ®å·²æˆªæ–­ï¼Œè¯·å¤åˆ¶å®Œæ•´å†…å®¹)' : \n\t\t\t\t\tcsvContent\n\t\t\t\t\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'è¯·æ‰‹åŠ¨å¤åˆ¶',\n\t\t\t\t\tcontent: `è‡ªåŠ¨å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶ä»¥ä¸‹å†…å®¹ï¼š\\n\\n${previewContent}`,\n\t\t\t\t\tshowCancel: true,\n\t\t\t\t\tconfirmText: 'å·²å¤åˆ¶',\n\t\t\t\t\tcancelText: 'å–æ¶ˆ',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: 'æ“ä½œå®Œæˆ',\n\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tparseCsvData(csvText) {\n\t\t\t\tconsole.log('=== å¼€å§‹è§£æCSVæ•°æ® ===')\n\t\t\t\tconsole.log('è¾“å…¥æ•°æ®ç±»å‹:', typeof csvText)\n\t\t\t\tconsole.log('è¾“å…¥æ•°æ®é•¿åº¦:', csvText ? csvText.length : 'undefined')\n\t\t\t\t\n\t\t\t\ttry {\n\t\t\t\t// æ£€æŸ¥è¾“å…¥æ•°æ®\n\t\t\t\tif (!csvText || typeof csvText !== 'string') {\n\t\t\t\t\tconsole.error('æ•°æ®æ£€æŸ¥å¤±è´¥: æ•°æ®ä¸ºç©ºæˆ–ä¸æ˜¯å­—ç¬¦ä¸²ç±»å‹')\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'æ•°æ®ä¸ºç©ºæˆ–æ ¼å¼é”™è¯¯',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconsole.log('å¼€å§‹åˆ†å‰²æ•°æ®è¡Œ...')\n\t\t\t\tconst lines = csvText.split('\\n').filter(line => line.trim())\n\t\t\t\tconsole.log('æ€»è¡Œæ•°:', lines.length, 'æœ‰æ•ˆè¡Œæ•°:', lines.filter(line => line.trim()).length)\n\t\t\t\t\n\t\t\t\tif (lines.length === 0) {\n\t\t\t\t\tconsole.error('æ•°æ®æ£€æŸ¥å¤±è´¥: æ–‡ä»¶å†…å®¹ä¸ºç©º')\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'æ–‡ä»¶å†…å®¹ä¸ºç©º',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconst records = []\n\t\t\t\tconst existingRecords = uni.getStorageSync('records') || []\n\t\t\t\tconst newCategories = [] // è®°å½•æ–°åˆ›å»ºçš„åˆ†ç±»\n\t\t\t\tconsole.log('ç°æœ‰è®°å½•æ•°é‡:', existingRecords.length)\n\t\t\t\t\n\t\t\t\t// è·³è¿‡æ ‡é¢˜è¡Œï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰\n\t\t\t\tlet startIndex = 0\n\t\t\t\tlet hasIconColumn = false // æ£€æµ‹æ˜¯å¦åŒ…å«åˆ†ç±»å›¾æ ‡åˆ—\n\t\t\t\tif (lines.length > 0 && lines[0]) {\n\t\t\t\t\tconst firstLine = lines[0].toLowerCase()\n\t\t\t\t\tconsole.log('ç¬¬ä¸€è¡Œå†…å®¹:', lines[0])\n\t\t\t\t\tconsole.log('ç¬¬ä¸€è¡Œå°å†™:', firstLine)\n\t\t\t\t\tif (firstLine.includes('æ—¶é—´') && firstLine.includes('ç±»å‹')) {\n\t\t\t\t\t\tstartIndex = 1\n\t\t\t\t\t\thasIconColumn = firstLine.includes('å›¾æ ‡') // æ£€æµ‹æ˜¯å¦æœ‰å›¾æ ‡åˆ—\n\t\t\t\t\t\tconsole.log('æ£€æµ‹åˆ°æ ‡é¢˜è¡Œï¼Œä»ç¬¬äºŒè¡Œå¼€å§‹è§£æï¼ŒåŒ…å«å›¾æ ‡åˆ—:', hasIconColumn)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('æœªæ£€æµ‹åˆ°æ ‡é¢˜è¡Œï¼Œä»ç¬¬ä¸€è¡Œå¼€å§‹è§£æ')\n\t\t\t\t\t\t// å°è¯•æ£€æµ‹ç¬¬ä¸€è¡Œæ•°æ®æ˜¯å¦åŒ…å«å›¾æ ‡\n\t\t\t\t\t\tconst firstLineFields = this.parseCSVLine(lines[0])\n\t\t\t\t\t\thasIconColumn = firstLineFields.length >= 6 // æ—¶é—´,ç±»å‹,åˆ†ç±»å,åˆ†ç±»å›¾æ ‡,é‡‘é¢,å¤‡æ³¨\n\t\t\t\t\t}\n\t\t\t\t}\t\t\t\t\tconsole.log('å¼€å§‹é€è¡Œè§£ææ•°æ®ï¼Œèµ·å§‹è¡Œ:', startIndex)\n\t\t\t\t\tfor (let i = startIndex; i < lines.length; i++) {\n\t\t\t\t\t\tconst line = lines[i].trim()\n\t\t\t\t\t\tconsole.log(`å¤„ç†ç¬¬${i+1}è¡Œ:`, line.substring(0, 100) + (line.length > 100 ? '...' : ''))\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (!line) {\n\t\t\t\t\t\t\tconsole.log(`ç¬¬${i+1}è¡Œä¸ºç©ºï¼Œè·³è¿‡`)\n\t\t\t\t\t\t\tcontinue\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t// è§£æCSVè¡Œï¼ˆå¤„ç†å¸¦å¼•å·çš„å­—æ®µï¼‰\n\t\t\t\t\tconsole.log(`å¼€å§‹è§£æç¬¬${i+1}è¡Œçš„CSVå­—æ®µ...`)\n\t\t\t\t\tconst fields = this.parseCSVLine(line)\n\t\t\t\t\tconsole.log(`ç¬¬${i+1}è¡Œè§£æå¾—åˆ°${fields.length}ä¸ªå­—æ®µ:`, fields)\n\t\t\t\t\t\n\t\t\t\t\t// æ ¹æ®æ˜¯å¦æœ‰å›¾æ ‡åˆ—å†³å®šå­—æ®µè§£ææ–¹å¼\n\t\t\t\t\tconst minFields = hasIconColumn ? 5 : 4 // æ–°æ ¼å¼éœ€è¦è‡³å°‘5ä¸ªå­—æ®µï¼Œæ—§æ ¼å¼éœ€è¦4ä¸ª\n\t\t\t\t\tif (fields.length >= minFields) {\n\t\t\t\t\t\tlet timeStr, typeStr, categoryStr, categoryIcon, amountStr, noteStr\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (hasIconColumn) {\n\t\t\t\t\t\t\t// æ–°æ ¼å¼ï¼šæ—¶é—´,ç±»å‹,åˆ†ç±»å,åˆ†ç±»å›¾æ ‡,é‡‘é¢,å¤‡æ³¨\n\t\t\t\t\t\t\ttimeStr = fields[0]\n\t\t\t\t\t\t\ttypeStr = fields[1]\n\t\t\t\t\t\t\tcategoryStr = fields[2]\n\t\t\t\t\t\t\tcategoryIcon = fields[3]\n\t\t\t\t\t\t\tamountStr = fields[4]\n\t\t\t\t\t\t\tnoteStr = fields[5] || ''\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// æ—§æ ¼å¼ï¼šæ—¶é—´,ç±»å‹,åˆ†ç±»å,é‡‘é¢,å¤‡æ³¨\n\t\t\t\t\t\t\ttimeStr = fields[0]\n\t\t\t\t\t\t\ttypeStr = fields[1]\n\t\t\t\t\t\t\tcategoryStr = fields[2]\n\t\t\t\t\t\t\tcategoryIcon = '' // æ—§æ ¼å¼æ²¡æœ‰å›¾æ ‡ï¼Œåç»­ä¼šä½¿ç”¨é»˜è®¤å€¼\n\t\t\t\t\t\t\tamountStr = fields[3]\n\t\t\t\t\t\t\tnoteStr = fields[4] || ''\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tconsole.log(`ç¬¬${i+1}è¡Œå­—æ®µè¯¦æƒ…:`, {\n\t\t\t\t\t\t\ttime: timeStr,\n\t\t\t\t\t\t\ttype: typeStr,\n\t\t\t\t\t\t\tcategory: categoryStr,\n\t\t\t\t\t\t\ticon: categoryIcon,\n\t\t\t\t\t\t\tamount: amountStr,\n\t\t\t\t\t\t\tnote: noteStr\n\t\t\t\t\t\t})\t\t\t\t\t\t\t// éªŒè¯å’Œè½¬æ¢æ•°æ®\n\t\t\t\t\t\t\tconsole.log(`éªŒè¯ç¬¬${i+1}è¡Œæ•°æ®ç±»å‹...`)\n\t\t\t\t\t\t\tconst type = typeStr === 'æ”¯å‡º' ? 'expense' : typeStr === 'æ”¶å…¥' ? 'income' : null\n\t\t\t\t\t\t\tif (!type) {\n\t\t\t\t\t\t\t\tconsole.log(`ç¬¬${i+1}è¡Œç±»å‹æ— æ•ˆ:`, typeStr, 'è·³è¿‡æ­¤è¡Œ')\n\t\t\t\t\t\t\t\tcontinue\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconsole.log(`ç¬¬${i+1}è¡Œç±»å‹éªŒè¯é€šè¿‡:`, type)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tconsole.log(`è§£æç¬¬${i+1}è¡Œé‡‘é¢:`, amountStr)\n\t\t\t\t\t\t\tconst amount = parseFloat(amountStr.replace(/[^\\d.]/g, ''))\n\t\t\t\t\t\t\tif (isNaN(amount) || amount <= 0) {\n\t\t\t\t\t\t\t\tconsole.log(`ç¬¬${i+1}è¡Œé‡‘é¢æ— æ•ˆ:`, amountStr, '=>', amount, 'è·³è¿‡æ­¤è¡Œ')\n\t\t\t\t\t\t\t\tcontinue\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconsole.log(`ç¬¬${i+1}è¡Œé‡‘é¢éªŒè¯é€šè¿‡:`, amount)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t// æŸ¥æ‰¾æˆ–åˆ›å»ºå¯¹åº”çš„åˆ†ç±»\n\t\t\t\t\t\tconsole.log(`æŸ¥æ‰¾ç¬¬${i+1}è¡Œåˆ†ç±»:`, categoryStr, type, 'å›¾æ ‡:', categoryIcon)\n\t\t\t\t\t\tlet category = this.findOrCreateCategory(categoryStr, type, categoryIcon)\n\t\t\t\t\t\tif (!category) {\n\t\t\t\t\t\t\tconsole.log(`ç¬¬${i+1}è¡Œæ— æ³•åˆ›å»ºåˆ†ç±»:`, categoryStr, 'è·³è¿‡æ­¤è¡Œ')\n\t\t\t\t\t\t\tcontinue\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// æ£€æŸ¥æ˜¯å¦æ˜¯æ–°åˆ›å»ºçš„åˆ†ç±»\n\t\t\t\t\t\tif (category.isNewCategory) {\n\t\t\t\t\t\t\tconst existingNew = newCategories.find(cat => cat.name === category.name && cat.type === type)\n\t\t\t\t\t\t\tif (!existingNew) {\n\t\t\t\t\t\t\t\tnewCategories.push({\n\t\t\t\t\t\t\t\t\tname: category.name,\n\t\t\t\t\t\t\t\t\ticon: category.icon,\n\t\t\t\t\t\t\t\t\ttype: type === 'expense' ? 'æ”¯å‡º' : 'æ”¶å…¥'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tdelete category.isNewCategory // ç§»é™¤ä¸´æ—¶æ ‡è®°\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tconsole.log(`ç¬¬${i+1}è¡Œåˆ†ç±»å¤„ç†æˆåŠŸ:`, category)\t\t\t\t\t\t\t// è§£ææ—¶é—´\n\t\t\t\t\t\t\tconsole.log(`è§£æç¬¬${i+1}è¡Œæ—¶é—´:`, timeStr)\n\t\t\t\t\t\t\tlet time\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\ttime = new Date(timeStr).toISOString()\n\t\t\t\t\t\t\t\tconsole.log(`ç¬¬${i+1}è¡Œæ—¶é—´è§£ææˆåŠŸ:`, time)\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\tconsole.log(`ç¬¬${i+1}è¡Œæ—¶é—´è§£æå¤±è´¥ï¼Œä½¿ç”¨å½“å‰æ—¶é—´:`, e.message)\n\t\t\t\t\t\t\t\ttime = new Date().toISOString()\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tconst record = {\n\t\t\t\t\t\t\t\tid: Date.now().toString() + '_import_' + i,\n\t\t\t\t\t\t\t\ttype: type,\n\t\t\t\t\t\t\t\tamount: amount.toFixed(2),\n\t\t\t\t\t\t\t\tcategoryId: category.id,\n\t\t\t\t\t\t\t\tcategoryName: category.name,\n\t\t\t\t\t\t\t\tcategoryIcon: category.icon,\n\t\t\t\t\t\t\t\tnote: noteStr,\n\t\t\t\t\t\t\t\ttime: time\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tconsole.log(`ç¬¬${i+1}è¡Œè®°å½•åˆ›å»ºæˆåŠŸ:`, record)\n\t\t\t\t\t\t\trecords.push(record)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log(`ç¬¬${i+1}è¡Œå­—æ®µæ•°é‡ä¸è¶³(${fields.length}/${minFields})ï¼Œè·³è¿‡æ­¤è¡Œ`)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('æ•°æ®è§£æå®Œæˆï¼Œæœ‰æ•ˆè®°å½•æ•°:', records.length)\n\t\t\t\t\t\n\t\t\t\t\tif (records.length > 0) {\n\t\t\t\t\t\t// åˆå¹¶åˆ°ç°æœ‰æ•°æ®\n\t\t\t\t\t\tconsole.log('å¼€å§‹åˆå¹¶æ•°æ®åˆ°æœ¬åœ°å­˜å‚¨...')\n\t\t\t\t\t\tconst allRecords = [...existingRecords, ...records]\n\t\t\t\t\t\tconsole.log('åˆå¹¶åæ€»è®°å½•æ•°:', allRecords.length)\n\t\t\t\t\t\t\n\t\t\t\t\t\tuni.setStorageSync('records', allRecords)\n\t\t\t\t\t\tconsole.log('æ•°æ®ä¿å­˜æˆåŠŸ')\n\t\t\t\t\t\t\n\t\t\t\t\t\t// æ„å»ºæˆåŠŸæ¶ˆæ¯\n\t\t\t\t\t\tlet successMessage = `æˆåŠŸå¯¼å…¥ ${records.length} æ¡è®°å½•ï¼`\n\t\t\t\t\t\tif (newCategories.length > 0) {\n\t\t\t\t\t\t\tsuccessMessage += `\\n\\næ–°åˆ›å»ºåˆ†ç±» ${newCategories.length} ä¸ªï¼š\\n`\n\t\t\t\t\t\t\tnewCategories.forEach(cat => {\n\t\t\t\t\t\t\t\tsuccessMessage += `${cat.icon} ${cat.name} (${cat.type})\\n`\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: 'å¯¼å…¥å®Œæˆ',\n\t\t\t\t\t\t\tcontent: successMessage,\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tconfirmText: 'æˆ‘çŸ¥é“äº†'\n\t\t\t\t\t\t})\n\t\t\t\t\t\tconsole.log('=== CSVå¯¼å…¥æµç¨‹å®Œæˆ ===')\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('æ²¡æœ‰å¯å¯¼å…¥çš„æœ‰æ•ˆæ•°æ®')\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'æ²¡æœ‰å¯å¯¼å…¥çš„æœ‰æ•ˆæ•°æ®',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('=== CSVè§£æå‡ºç°å¼‚å¸¸ ===')\n\t\t\t\t\tconsole.error('é”™è¯¯ç±»å‹:', error.name)\n\t\t\t\t\tconsole.error('é”™è¯¯ä¿¡æ¯:', error.message)\n\t\t\t\t\tconsole.error('é”™è¯¯å †æ ˆ:', error.stack)\n\t\t\t\t\tconsole.error('è¾“å…¥æ•°æ®:', csvText)\n\t\t\t\t\t\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: 'æ•°æ®æ ¼å¼é”™è¯¯',\n\t\t\t\t\t\tcontent: 'è¯·æ£€æŸ¥æ•°æ®æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼\\n\\næ”¯æŒæ ¼å¼ï¼š\\næ–°æ ¼å¼ï¼šæ—¶é—´,ç±»å‹,åˆ†ç±»å,åˆ†ç±»å›¾æ ‡,é‡‘é¢,å¤‡æ³¨\\næ—§æ ¼å¼ï¼šæ—¶é—´,ç±»å‹,åˆ†ç±»å,é‡‘é¢,å¤‡æ³¨\\n\\nç¤ºä¾‹ï¼š\\n\"2024-01-01 12:00\",\"æ”¯å‡º\",\"é¤é¥®\",\"ğŸ½ï¸\",\"25.50\",\"åˆé¤\"',\n\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\tconfirmText: 'æˆ‘çŸ¥é“äº†'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// H5å¹³å°æ–‡ä»¶å¯¼å…¥\n\t\t\timportFromFileH5() {\n\t\t\t\tconsole.log('=== H5å¹³å°æ–‡ä»¶é€‰æ‹©æµç¨‹ ===')\n\t\t\t\t// H5å¹³å°çš„æ–‡ä»¶é€‰æ‹©å®ç°\n\t\t\t\tconst input = document.createElement('input')\n\t\t\t\tinput.type = 'file'\n\t\t\t\tinput.accept = '.csv,.txt'\n\t\t\t\tinput.style.display = 'none'\n\t\t\t\tconsole.log('åˆ›å»ºæ–‡ä»¶é€‰æ‹©å…ƒç´ :', input)\n\t\t\t\t\n\t\t\t\tinput.onchange = (event) => {\n\t\t\t\t\tconsole.log('=== H5æ–‡ä»¶é€‰æ‹©changeäº‹ä»¶è§¦å‘ ===')\n\t\t\t\t\tconst file = event.target.files[0]\n\t\t\t\t\tconsole.log('é€‰æ‹©çš„æ–‡ä»¶å¯¹è±¡:', file)\n\t\t\t\t\t\n\t\t\t\t\tif (!file) {\n\t\t\t\t\t\tconsole.log('æœªé€‰æ‹©æ–‡ä»¶æˆ–æ–‡ä»¶ä¸ºç©º')\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'æœªé€‰æ‹©æ–‡ä»¶',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// æ£€æŸ¥æ–‡ä»¶å¤§å°\n\t\t\t\t\tif (file.size === 0) {\n\t\t\t\t\t\tconsole.error('æ–‡ä»¶å¤§å°ä¸º0')\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'æ–‡ä»¶ä¸ºç©º',\n\t\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t\t})\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (file.size > 5 * 1024 * 1024) { // 5MBé™åˆ¶\n\t\t\t\t\t\tconsole.error('æ–‡ä»¶è¿‡å¤§:', file.size)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'æ–‡ä»¶ä¸èƒ½è¶…è¿‡5MB',\n\t\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t\t})\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('æ–‡ä»¶å¤§å°æ£€æŸ¥é€šè¿‡ï¼Œå¼€å§‹è¯»å–æ–‡ä»¶å†…å®¹...')\n\t\t\t\t\tconst reader = new FileReader()\n\t\t\t\t\t\n\t\t\t\t\treader.onload = (e) => {\n\t\t\t\t\t\tconsole.log('=== FileReaderè¯»å–å®Œæˆ ===')\n\t\t\t\t\t\tconst content = e.target.result\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (!content || typeof content !== 'string') {\n\t\t\t\t\t\t\tconsole.error('è¯»å–åˆ°çš„å†…å®¹æ— æ•ˆ')\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: 'æ–‡ä»¶å†…å®¹æ— æ•ˆ',\n\t\t\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tconsole.log('æ–‡ä»¶è¯»å–æˆåŠŸï¼Œå¼€å§‹è§£æCSVæ•°æ®...')\n\t\t\t\t\t\tthis.parseCsvData(content)\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treader.onerror = (e) => {\n\t\t\t\t\t\tconsole.error('=== FileReaderè¯»å–å¤±è´¥ ===', e)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'è¯»å–æ–‡ä»¶å¤±è´¥',\n\t\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('å¼€å§‹FileReader.readAsTextæ“ä½œ...')\n\t\t\t\t\treader.readAsText(file, 'UTF-8')\n\t\t\t\t\t\n\t\t\t\t\t// æ¸…ç†DOMå…ƒç´ \n\t\t\t\t\tconsole.log('æ¸…ç†æ–‡ä»¶é€‰æ‹©å…ƒç´ ')\n\t\t\t\t\tdocument.body.removeChild(input)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// ç”¨æˆ·å–æ¶ˆé€‰æ‹©æ–‡ä»¶æ—¶çš„å¤„ç†\n\t\t\t\tinput.oncancel = () => {\n\t\t\t\t\tconsole.log('æ–‡ä»¶é€‰æ‹©canceläº‹ä»¶è§¦å‘')\n\t\t\t\t\tdocument.body.removeChild(input)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconsole.log('æ·»åŠ æ–‡ä»¶é€‰æ‹©å…ƒç´ åˆ°DOMå¹¶è§¦å‘ç‚¹å‡»')\n\t\t\t\tdocument.body.appendChild(input)\n\t\t\t\tinput.click()\n\t\t\t},\n\t\t\t\n\t\t\timportFromFileWx() {\n\t\t\t\tconsole.log('=== å¾®ä¿¡å°ç¨‹åºæ–‡ä»¶é€‰æ‹©æµç¨‹ ===')\n\t\t\t\t// å¾®ä¿¡å°ç¨‹åºé€‰æ‹©æ–‡ä»¶\n\t\t\t\twx.chooseMessageFile({\n\t\t\t\t\tcount: 1,\n\t\t\t\t\ttype: 'file',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconsole.log('æ–‡ä»¶é€‰æ‹©æˆåŠŸ:', res)\n\t\t\t\t\t\tconst file = res.tempFiles[0]\n\t\t\t\t\t\tconsole.log('é€‰æ‹©çš„æ–‡ä»¶:', file)\n\t\t\t\t\t\tconsole.log('æ–‡ä»¶å:', file.name)\n\t\t\t\t\t\tconsole.log('æ–‡ä»¶å¤§å°:', file.size)\n\t\t\t\t\t\tconsole.log('æ–‡ä»¶è·¯å¾„:', file.path)\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (!file.name.toLowerCase().endsWith('.csv') && !file.name.toLowerCase().endsWith('.txt')) {\n\t\t\t\t\t\t\tconsole.log('æ–‡ä»¶ç±»å‹æ£€æŸ¥å¤±è´¥:', file.name)\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: 'è¯·é€‰æ‹©CSVæˆ–TXTæ–‡ä»¶',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconsole.log('æ–‡ä»¶ç±»å‹æ£€æŸ¥é€šè¿‡')\n\t\t\t\t\t\t\n\t\t\t\t\t\tconsole.log('å¼€å§‹è¯»å–æ–‡ä»¶å†…å®¹...')\n\t\t\t\t\t\tconst fs = wx.getFileSystemManager()\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (!fs) {\n\t\t\t\t\t\t\tconsole.error('æ— æ³•è·å–æ–‡ä»¶ç³»ç»Ÿç®¡ç†å™¨')\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: 'æ–‡ä»¶ç³»ç»Ÿä¸å¯ç”¨',\n\t\t\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tconsole.log('æ–‡ä»¶ç³»ç»Ÿç®¡ç†å™¨è·å–æˆåŠŸï¼Œå¼€å§‹è¯»å–æ–‡ä»¶:', file.path)\n\t\t\t\t\t\t\n\t\t\t\t\t\tfs.readFile({\n\t\t\t\t\t\t\tfilePath: file.path,\n\t\t\t\t\t\t\tencoding: 'utf8',\n\t\t\t\t\t\t\tsuccess: (fileRes) => {\n\t\t\t\t\t\t\t\tconsole.log('æ–‡ä»¶è¯»å–æˆåŠŸï¼')\n\t\t\t\t\t\t\t\tconsole.log('è¯»å–ç»“æœ:', fileRes)\n\t\t\t\t\t\t\t\tconsole.log('æ•°æ®ç±»å‹:', typeof fileRes.data)\n\t\t\t\t\t\t\t\tconsole.log('æ•°æ®é•¿åº¦:', fileRes.data ? fileRes.data.length : 'undefined')\n\t\t\t\t\t\t\t\tconsole.log('æ–‡ä»¶å†…å®¹é¢„è§ˆ:', fileRes.data ? fileRes.data.substring(0, 200) + (fileRes.data.length > 200 ? '...' : '') : 'æ— å†…å®¹')\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif (!fileRes.data) {\n\t\t\t\t\t\t\t\t\tconsole.error('è¯»å–åˆ°çš„æ–‡ä»¶å†…å®¹ä¸ºç©º')\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: 'æ–‡ä»¶å†…å®¹ä¸ºç©º',\n\t\t\t\t\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif (typeof fileRes.data !== 'string') {\n\t\t\t\t\t\t\t\t\tconsole.error('è¯»å–åˆ°çš„å†…å®¹ä¸æ˜¯å­—ç¬¦ä¸²ç±»å‹:', typeof fileRes.data)\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: 'æ–‡ä»¶æ ¼å¼é”™è¯¯',\n\t\t\t\t\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tconsole.log('æ–‡ä»¶å†…å®¹æœ‰æ•ˆï¼Œå¼€å§‹è§£æCSV...')\n\t\t\t\t\t\t\t\tthis.parseCsvData(fileRes.data)\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\t\tconsole.error('è¯»å–æ–‡ä»¶å¤±è´¥:', err)\n\t\t\t\t\t\t\t\tconsole.error('é”™è¯¯å¯¹è±¡å®Œæ•´ä¿¡æ¯:', JSON.stringify(err, null, 2))\n\t\t\t\t\t\t\t\tconsole.error('é”™è¯¯æ¶ˆæ¯:', err.errMsg || err.message || 'æœªçŸ¥é”™è¯¯')\n\t\t\t\t\t\t\t\tconsole.error('é”™è¯¯ä»£ç :', err.errCode || err.code || 'æ— ä»£ç ')\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: 'è¯»å–æ–‡ä»¶å¤±è´¥: ' + (err.errMsg || err.message || 'æœªçŸ¥é”™è¯¯'),\n\t\t\t\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.log('æ–‡ä»¶é€‰æ‹©å¤±è´¥:', err)\n\t\t\t\t\t\t// æ£€æŸ¥æ˜¯å¦æ˜¯ç”¨æˆ·å–æ¶ˆæ“ä½œ\n\t\t\t\t\t\tif (err.errMsg && err.errMsg.includes('cancel')) {\n\t\t\t\t\t\t\tconsole.log('ç”¨æˆ·å–æ¶ˆæ–‡ä»¶é€‰æ‹©(é€šè¿‡errMsgæ£€æµ‹)')\n\t\t\t\t\t\t\t// ç”¨æˆ·å–æ¶ˆé€‰æ‹©ï¼Œä¸æ˜¾ç¤ºé”™è¯¯æç¤º\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (err.code === 12 || (err.message && err.message.includes('cancelled'))) {\n\t\t\t\t\t\t\tconsole.log('ç”¨æˆ·å–æ¶ˆæ–‡ä»¶é€‰æ‹©(é€šè¿‡code/messageæ£€æµ‹)')\n\t\t\t\t\t\t\t// ç”¨æˆ·å–æ¶ˆé€‰æ‹©ï¼Œä¸æ˜¾ç¤ºé”™è¯¯æç¤º\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// å…¶ä»–é”™è¯¯æ‰æç¤ºé™çº§\n\t\t\t\t\t\tconsole.log('æ–‡ä»¶é€‰æ‹©å‡ºç°å…¶ä»–é”™è¯¯ï¼Œå¯åŠ¨é™çº§æ–¹æ¡ˆ')\n\t\t\t\t\t\tthis.fallbackImport()\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tselectFromDownloads() {\n\t\t\t\tconsole.log('=== ä»ä¸‹è½½ç›®å½•é€‰æ‹©æ–‡ä»¶ ===')\n\t\t\t\tplus.io.requestFileSystem(plus.io.PUBLIC_DOWNLOADS, (fs) => {\n\t\t\t\t\tconsole.log('è·å–ä¸‹è½½ç›®å½•æ–‡ä»¶ç³»ç»ŸæˆåŠŸ')\n\t\t\t\t\t\n\t\t\t\t\t// é¦–å…ˆæ£€æŸ¥ä¸‹è½½ç›®å½•æ ¹ç›®å½•ä¸­çš„CSVæ–‡ä»¶\n\t\t\t\t\tfs.root.createReader().readEntries((rootEntries) => {\n\t\t\t\t\t\tconst rootCsvFiles = rootEntries.filter(entry => \n\t\t\t\t\t\t\tentry.isFile && (\n\t\t\t\t\t\t\t\tentry.name.toLowerCase().endsWith('.csv') || \n\t\t\t\t\t\t\t\tentry.name.toLowerCase().endsWith('.txt')\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\n\t\t\t\t\t\t// ç„¶åæ£€æŸ¥AccountDataå­ç›®å½•\n\t\t\t\t\t\tfs.root.getDirectory('AccountData', {create: false}, (accountDataEntry) => {\n\t\t\t\t\t\t\tconsole.log('æ‰¾åˆ°AccountDataç›®å½•')\n\t\t\t\t\t\t\taccountDataEntry.createReader().readEntries((subEntries) => {\n\t\t\t\t\t\t\t\tconst subCsvFiles = subEntries.filter(entry => \n\t\t\t\t\t\t\t\t\tentry.isFile && (\n\t\t\t\t\t\t\t\t\t\tentry.name.toLowerCase().endsWith('.csv') || \n\t\t\t\t\t\t\t\t\t\tentry.name.toLowerCase().endsWith('.txt')\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t).map(entry => ({\n\t\t\t\t\t\t\t\t\t...entry,\n\t\t\t\t\t\t\t\t\tdisplayName: `AccountData/${entry.name}`,\n\t\t\t\t\t\t\t\t\tisFromSubDir: true\n\t\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// åˆå¹¶æ‰€æœ‰æ–‡ä»¶\n\t\t\t\t\t\t\t\tconst allFiles = [\n\t\t\t\t\t\t\t\t\t...rootCsvFiles.map(entry => ({\n\t\t\t\t\t\t\t\t\t\t...entry,\n\t\t\t\t\t\t\t\t\t\tdisplayName: entry.name,\n\t\t\t\t\t\t\t\t\t\tisFromSubDir: false\n\t\t\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t\t\t\t...subCsvFiles\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tthis.showFileSelectionDialog(allFiles, 'ä¸‹è½½ç›®å½•')\n\t\t\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\t\t\tconsole.log('AccountDataç›®å½•ä¸ºç©ºæˆ–è¯»å–å¤±è´¥:', err)\n\t\t\t\t\t\t\t\tthis.showFileSelectionDialog(\n\t\t\t\t\t\t\t\t\trootCsvFiles.map(entry => ({\n\t\t\t\t\t\t\t\t\t\t...entry,\n\t\t\t\t\t\t\t\t\t\tdisplayName: entry.name,\n\t\t\t\t\t\t\t\t\t\tisFromSubDir: false\n\t\t\t\t\t\t\t\t\t})), \n\t\t\t\t\t\t\t\t\t'ä¸‹è½½ç›®å½•'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\t\tconsole.log('AccountDataç›®å½•ä¸å­˜åœ¨:', err)\n\t\t\t\t\t\t\tthis.showFileSelectionDialog(\n\t\t\t\t\t\t\t\trootCsvFiles.map(entry => ({\n\t\t\t\t\t\t\t\t\t...entry,\n\t\t\t\t\t\t\t\t\tdisplayName: entry.name,\n\t\t\t\t\t\t\t\t\tisFromSubDir: false\n\t\t\t\t\t\t\t\t})), \n\t\t\t\t\t\t\t\t'ä¸‹è½½ç›®å½•'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t})\n\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\tconsole.error('è¯»å–ä¸‹è½½ç›®å½•å¤±è´¥:', err)\n\t\t\t\t\t\tthis.fallbackImport()\n\t\t\t\t\t})\n\t\t\t\t}, (err) => {\n\t\t\t\t\tconsole.error('è®¿é—®ä¸‹è½½ç›®å½•å¤±è´¥:', err)\n\t\t\t\t\tthis.fallbackImport()\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tselectFromDocuments() {\n\t\t\t\tplus.io.requestFileSystem(plus.io.PRIVATE_DOC, (fs) => {\n\t\t\t\t\tfs.root.createReader().readEntries((entries) => {\n\t\t\t\t\t\tconst csvFiles = entries.filter(entry => \n\t\t\t\t\t\t\tentry.name.toLowerCase().endsWith('.csv') || \n\t\t\t\t\t\t\tentry.name.toLowerCase().endsWith('.txt')\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (csvFiles.length === 0) {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: 'æ–‡æ¡£ç›®å½•ä¸­æ²¡æœ‰æ‰¾åˆ°CSVæ–‡ä»¶',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\treturn\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// æ˜¾ç¤ºæ–‡ä»¶é€‰æ‹©åˆ—è¡¨\n\t\t\t\t\t\tconst fileNames = csvFiles.map(file => file.name)\n\t\t\t\t\t\tuni.showActionSheet({\n\t\t\t\t\t\t\titemList: fileNames,\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tconst selectedFile = csvFiles[res.tapIndex]\n\t\t\t\t\t\t\t\tthis.readFileContent(selectedFile)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t}, (err) => {\n\t\t\t\t\tconsole.error('è®¿é—®æ–‡æ¡£ç›®å½•å¤±è´¥:', err)\n\t\t\t\t\tthis.fallbackImport()\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// ä»å…¬å…±å­˜å‚¨ï¼ˆä¸‹è½½ç›®å½•çš„AccountDataå­ç›®å½•ï¼‰å¯¼å…¥\n\t\t\tselectFromPublicStorage() {\n\t\t\t\tconsole.log('=== ä»å…¬å…±å­˜å‚¨é€‰æ‹©æ–‡ä»¶ ===')\n\t\t\t\t\n\t\t\t\t// é¦–å…ˆå°è¯•ä½¿ç”¨åŸç”Ÿ API è®¿é—®çœŸæ­£çš„å…¬å…±ç›®å½•\n\t\t\t\ttry {\n\t\t\t\t\tconst Environment = plus.android.importClass('android.os.Environment')\n\t\t\t\t\tconst File = plus.android.importClass('java.io.File')\n\t\t\t\t\t\n\t\t\t\t\t// è·å–å…¬å…±ä¸‹è½½ç›®å½•\n\t\t\t\t\tlet publicDownloadsDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)\n\t\t\t\t\t\n\t\t\t\t\t// æ£€æŸ¥æ˜¯å¦æˆåŠŸè·å–ä¸‹è½½ç›®å½•\n\t\t\t\t\tif (publicDownloadsDir === null || publicDownloadsDir === undefined) {\n\t\t\t\t\t\t// å°è¯•å¤‡ç”¨æ–¹æ¡ˆï¼šæ‰‹åŠ¨æ„å»ºä¸‹è½½ç›®å½•è·¯å¾„\n\t\t\t\t\t\tconst externalStorageDir = Environment.getExternalStorageDirectory()\n\t\t\t\t\t\tif (externalStorageDir !== null) {\n\t\t\t\t\t\t\tpublicDownloadsDir = new File(externalStorageDir, 'Download')\n\t\t\t\t\t\t\tconsole.log('ä½¿ç”¨å¤‡ç”¨ä¸‹è½½ç›®å½•è·¯å¾„:', publicDownloadsDir.getAbsolutePath())\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthrow new Error('æ— æ³•è·å–ä»»ä½•å¤–éƒ¨å­˜å‚¨ç›®å½•')\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tconst accountDataDir = new File(publicDownloadsDir, 'AccountData')\n\t\t\t\t\t\n\t\t\t\t\tif (!accountDataDir.exists()) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'æœªæ‰¾åˆ°AccountDataç›®å½•ï¼Œè¯·å…ˆå¯¼å‡ºæ•°æ®',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// è·å–ç›®å½•ä¸­çš„æ–‡ä»¶åˆ—è¡¨\n\t\t\t\t\tconst files = accountDataDir.listFiles()\n\t\t\t\t\tif (!files || files.length === 0) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'AccountDataç›®å½•ä¸ºç©º',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// è¿‡æ»¤CSVå’ŒTXTæ–‡ä»¶\n\t\t\t\t\tconst csvFiles = []\n\t\t\t\t\tfor (let i = 0; i < files.length; i++) {\n\t\t\t\t\t\tconst file = files[i]\n\t\t\t\t\t\tconst fileName = file.getName()\n\t\t\t\t\t\tif (fileName.toLowerCase().endsWith('.csv') || fileName.toLowerCase().endsWith('.txt')) {\n\t\t\t\t\t\t\tcsvFiles.push({\n\t\t\t\t\t\t\t\tname: fileName,\n\t\t\t\t\t\t\t\tfullPath: file.getAbsolutePath(),\n\t\t\t\t\t\t\t\tdisplayName: fileName,\n\t\t\t\t\t\t\t\tisFromPublicDir: true,\n\t\t\t\t\t\t\t\tnativeFile: file\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (csvFiles.length === 0) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'æœªæ‰¾åˆ°CSVæˆ–TXTæ–‡ä»¶',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t\treturn\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.showFileSelectionDialog(csvFiles, 'çœŸæ­£çš„å…¬å…±å­˜å‚¨(AccountDataç›®å½•)')\n\t\t\t\t\t\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('è®¿é—®å…¬å…±ç›®å½•å¤±è´¥:', error)\n\t\t\t\t\t// é™çº§ä½¿ç”¨ plus.io API\n\t\t\t\t\tthis.fallbackSelectFromPublicStorage()\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// é™çº§çš„å…¬å…±å­˜å‚¨é€‰æ‹©æ–¹æ³•\n\t\t\tfallbackSelectFromPublicStorage() {\n\t\t\t\tconsole.log('é™çº§ä½¿ç”¨ plus.io API é€‰æ‹©æ–‡ä»¶')\n\t\t\t\tplus.io.requestFileSystem(plus.io.PUBLIC_DOWNLOADS, (fs) => {\n\t\t\t\t\tconsole.log('è·å–ä¸‹è½½ç›®å½•æ–‡ä»¶ç³»ç»ŸæˆåŠŸ')\n\t\t\t\t\t\n\t\t\t\t\t// ç›´æ¥è®¿é—®AccountDataå­ç›®å½•\n\t\t\t\t\tfs.root.getDirectory('AccountData', {create: false}, (accountDataEntry) => {\n\t\t\t\t\t\tconsole.log('æ‰¾åˆ°AccountDataç›®å½•')\n\t\t\t\t\t\taccountDataEntry.createReader().readEntries((entries) => {\n\t\t\t\t\t\t\tconst csvFiles = entries.filter(entry => \n\t\t\t\t\t\t\t\tentry.isFile && (\n\t\t\t\t\t\t\t\t\tentry.name.toLowerCase().endsWith('.csv') || \n\t\t\t\t\t\t\t\t\tentry.name.toLowerCase().endsWith('.txt')\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t).map(entry => ({\n\t\t\t\t\t\t\t\t...entry,\n\t\t\t\t\t\t\t\tdisplayName: entry.name,\n\t\t\t\t\t\t\t\tisFromSubDir: true,\n\t\t\t\t\t\t\t\tparentDir: accountDataEntry\n\t\t\t\t\t\t\t}))\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tthis.showFileSelectionDialog(csvFiles, 'å…¬å…±å­˜å‚¨(AccountDataç›®å½•)')\n\t\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\t\tconsole.error('è¯»å–AccountDataç›®å½•å¤±è´¥:', err)\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: 'AccountDataç›®å½•ä¸ºç©ºæˆ–æ— æ³•è®¿é—®',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\tconsole.error('AccountDataç›®å½•ä¸å­˜åœ¨:', err)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'æœªæ‰¾åˆ°AccountDataç›®å½•ï¼Œè¯·å…ˆå¯¼å‡ºæ•°æ®',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t}, (err) => {\n\t\t\t\t\tconsole.error('è®¿é—®å…¬å…±å­˜å‚¨å¤±è´¥:', err)\n\t\t\t\t\tthis.fallbackImport()\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// ä»åº”ç”¨æ–‡æ¡£ç›®å½•å¯¼å…¥\n\t\t\tselectFromAppDocuments() {\n\t\t\t\tconsole.log('=== ä»åº”ç”¨æ–‡æ¡£ç›®å½•é€‰æ‹©æ–‡ä»¶ ===')\n\t\t\t\t\n\t\t\t\t// é¦–å…ˆå°è¯•è®¿é—®å¤–éƒ¨æ–‡æ¡£ç›®å½•\n\t\t\t\tconst externalPath = plus.io.convertLocalFileSystemURL(\"_documents/\")\n\t\t\t\tplus.io.resolveLocalFileSystemURL(externalPath, (externalEntry) => {\n\t\t\t\t\tconsole.log('æ‰¾åˆ°å¤–éƒ¨æ–‡æ¡£ç›®å½•')\n\t\t\t\t\texternalEntry.createReader().readEntries((entries) => {\n\t\t\t\t\t\tconst csvFiles = entries.filter(entry => \n\t\t\t\t\t\t\tentry.isFile && (\n\t\t\t\t\t\t\t\tentry.name.toLowerCase().endsWith('.csv') || \n\t\t\t\t\t\t\t\tentry.name.toLowerCase().endsWith('.txt')\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t).map(entry => ({\n\t\t\t\t\t\t\t...entry,\n\t\t\t\t\t\t\tdisplayName: `å¤–éƒ¨æ–‡æ¡£/${entry.name}`,\n\t\t\t\t\t\t\tisFromSubDir: false\n\t\t\t\t\t\t}))\n\t\t\t\t\t\t\n\t\t\t\t\t\t// åŒæ—¶æ£€æŸ¥ç§æœ‰æ–‡æ¡£ç›®å½•\n\t\t\t\t\t\tthis.checkPrivateDocuments((privateCsvFiles) => {\n\t\t\t\t\t\t\tconst allFiles = [...csvFiles, ...privateCsvFiles]\n\t\t\t\t\t\t\tthis.showFileSelectionDialog(allFiles, 'åº”ç”¨æ–‡æ¡£ç›®å½•')\n\t\t\t\t\t\t})\n\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\tconsole.log('å¤–éƒ¨æ–‡æ¡£ç›®å½•ä¸ºç©º:', err)\n\t\t\t\t\t\t// å›é€€åˆ°ç§æœ‰æ–‡æ¡£ç›®å½•\n\t\t\t\t\t\tthis.checkPrivateDocuments((privateCsvFiles) => {\n\t\t\t\t\t\t\tthis.showFileSelectionDialog(privateCsvFiles, 'åº”ç”¨æ–‡æ¡£ç›®å½•')\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t}, (err) => {\n\t\t\t\t\tconsole.log('å¤–éƒ¨æ–‡æ¡£ç›®å½•ä¸å­˜åœ¨:', err)\n\t\t\t\t\t// å›é€€åˆ°ç§æœ‰æ–‡æ¡£ç›®å½•\n\t\t\t\t\tthis.checkPrivateDocuments((privateCsvFiles) => {\n\t\t\t\t\t\tthis.showFileSelectionDialog(privateCsvFiles, 'åº”ç”¨æ–‡æ¡£ç›®å½•')\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// æ£€æŸ¥ç§æœ‰æ–‡æ¡£ç›®å½•\n\t\t\tcheckPrivateDocuments(callback) {\n\t\t\t\tplus.io.requestFileSystem(plus.io.PRIVATE_DOC, (fs) => {\n\t\t\t\t\tfs.root.createReader().readEntries((entries) => {\n\t\t\t\t\t\tconst csvFiles = entries.filter(entry => \n\t\t\t\t\t\t\tentry.isFile && (\n\t\t\t\t\t\t\t\tentry.name.toLowerCase().endsWith('.csv') || \n\t\t\t\t\t\t\t\tentry.name.toLowerCase().endsWith('.txt')\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t).map(entry => ({\n\t\t\t\t\t\t\t...entry,\n\t\t\t\t\t\t\tdisplayName: `ç§æœ‰æ–‡æ¡£/${entry.name}`,\n\t\t\t\t\t\t\tisFromSubDir: false\n\t\t\t\t\t\t}))\n\t\t\t\t\t\tcallback(csvFiles)\n\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\tconsole.log('ç§æœ‰æ–‡æ¡£ç›®å½•ä¸ºç©º:', err)\n\t\t\t\t\t\tcallback([])\n\t\t\t\t\t})\n\t\t\t\t}, (err) => {\n\t\t\t\t\tconsole.error('è®¿é—®ç§æœ‰æ–‡æ¡£ç›®å½•å¤±è´¥:', err)\n\t\t\t\t\tcallback([])\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// æ˜¾ç¤ºæ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†\n\t\t\tshowFileSelectionDialog(files, sourceDesc) {\n\t\t\t\tif (files.length === 0) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: `${sourceDesc}ä¸­æ²¡æœ‰æ‰¾åˆ°CSVæ–‡ä»¶`,\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconsole.log(`æ‰¾åˆ°${files.length}ä¸ªæ–‡ä»¶:`, files.map(f => f.displayName))\n\t\t\t\t\n\t\t\t\t// æ˜¾ç¤ºæ–‡ä»¶é€‰æ‹©åˆ—è¡¨\n\t\t\t\tconst fileNames = files.map(file => file.displayName)\n\t\t\t\tuni.showActionSheet({\n\t\t\t\t\titemList: fileNames,\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconst selectedFile = files[res.tapIndex]\n\t\t\t\t\t\tconsole.log('é€‰æ‹©çš„æ–‡ä»¶:', selectedFile.displayName)\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (selectedFile.isFromSubDir && selectedFile.parentDir) {\n\t\t\t\t\t\t\t// ä»å­ç›®å½•ä¸­è¯»å–æ–‡ä»¶\n\t\t\t\t\t\t\tselectedFile.parentDir.getFile(selectedFile.name, {create: false}, (fileEntry) => {\n\t\t\t\t\t\t\t\tthis.readFileContent(fileEntry)\n\t\t\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\t\t\tconsole.error('è·å–å­ç›®å½•æ–‡ä»¶å¤±è´¥:', err)\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: 'æ–‡ä»¶è®¿é—®å¤±è´¥',\n\t\t\t\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// ç›´æ¥è¯»å–æ–‡ä»¶\n\t\t\t\t\t\t\tthis.readFileContent(selectedFile)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tmanualInputPath() {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'è¾“å…¥æ–‡ä»¶è·¯å¾„',\n\t\t\t\t\tcontent: 'è¯·è¾“å…¥CSVæ–‡ä»¶çš„å®Œæ•´è·¯å¾„ï¼š',\n\t\t\t\t\teditable: true,\n\t\t\t\t\tplaceholderText: '/storage/emulated/0/Download/data.csv',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm && res.content && res.content.trim()) {\n\t\t\t\t\t\t\tthis.readFileFromPath(res.content.trim())\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\treadFileFromPath(filePath) {\n\t\t\t\tplus.io.resolveLocalFileSystemURL(filePath, (entry) => {\n\t\t\t\t\tthis.readFileContent(entry)\n\t\t\t\t}, (err) => {\n\t\t\t\t\tconsole.error('æ–‡ä»¶è·¯å¾„é”™è¯¯:', err)\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'æ–‡ä»¶ä¸å­˜åœ¨æˆ–è·¯å¾„é”™è¯¯',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\treadFileContent(fileEntry) {\n\t\t\t\t// æ£€æŸ¥æ˜¯å¦æ˜¯ä»çœŸæ­£çš„å…¬å…±ç›®å½•é€‰æ‹©çš„æ–‡ä»¶\n\t\t\t\tif (fileEntry.isFromPublicDir && fileEntry.nativeFile) {\n\t\t\t\t\tconsole.log('ä»å…¬å…±ç›®å½•è¯»å–æ–‡ä»¶:', fileEntry.fullPath)\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst FileInputStream = plus.android.importClass('java.io.FileInputStream')\n\t\t\t\t\t\tconst InputStreamReader = plus.android.importClass('java.io.InputStreamReader')\n\t\t\t\t\t\tconst BufferedReader = plus.android.importClass('java.io.BufferedReader')\n\t\t\t\t\t\tconst StringBuilder = plus.android.importClass('java.lang.StringBuilder')\n\t\t\t\t\t\t\n\t\t\t\t\t\tconst fis = new FileInputStream(fileEntry.nativeFile)\n\t\t\t\t\t\tconst isr = new InputStreamReader(fis, 'UTF-8')\n\t\t\t\t\t\tconst br = new BufferedReader(isr)\n\t\t\t\t\t\t\n\t\t\t\t\t\tconst sb = new StringBuilder()\n\t\t\t\t\t\tlet line\n\t\t\t\t\t\twhile ((line = br.readLine()) !== null) {\n\t\t\t\t\t\t\tsb.append(line).append('\\n')\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tbr.close()\n\t\t\t\t\t\tisr.close()\n\t\t\t\t\t\tfis.close()\n\t\t\t\t\t\t\n\t\t\t\t\t\tconst content = sb.toString()\n\t\t\t\t\t\tconsole.log('æ–‡ä»¶å†…å®¹è¯»å–å®Œæˆï¼Œé•¿åº¦:', content.length)\n\t\t\t\t\t\tthis.parseCsvData(content)\n\t\t\t\t\t\t\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.error('è¯»å–å…¬å…±ç›®å½•æ–‡ä»¶å¤±è´¥:', error)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'è¯»å–æ–‡ä»¶å¤±è´¥',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t// ä½¿ç”¨åŸæœ‰çš„æ–¹æ³•è¯»å–å…¶ä»–æ¥æºçš„æ–‡ä»¶\n\t\t\t\t\tfileEntry.file((file) => {\n\t\t\t\t\t\tconst reader = new plus.io.FileReader()\n\t\t\t\t\t\treader.onload = (e) => {\n\t\t\t\t\t\t\tthis.parseCsvData(e.target.result)\n\t\t\t\t\t\t}\n\t\t\t\t\t\treader.onerror = (err) => {\n\t\t\t\t\t\t\tconsole.error('è¯»å–æ–‡ä»¶å¤±è´¥:', err)\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: 'è¯»å–æ–‡ä»¶å¤±è´¥',\n\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\treader.readAsText(file, 'UTF-8')\n\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\tconsole.error('è·å–æ–‡ä»¶å†…å®¹å¤±è´¥:', err)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'è·å–æ–‡ä»¶å†…å®¹å¤±è´¥',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tfallbackImport() {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'å¯¼å…¥æç¤º',\n\t\t\t\t\tcontent: 'å½“å‰ç¯å¢ƒä¸æ”¯æŒæ–‡ä»¶é€‰æ‹©åŠŸèƒ½ï¼Œè¯·ä½¿ç”¨\"æ‰‹åŠ¨è¾“å…¥æ•°æ®\"æ–¹å¼å¯¼å…¥ã€‚',\n\t\t\t\t\tshowCancel: true,\n\t\t\t\t\tconfirmText: 'æ‰‹åŠ¨è¾“å…¥',\n\t\t\t\t\tcancelText: 'å–æ¶ˆ',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tthis.showCsvImportDialog()\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tparseCSVLine(line) {\n\t\t\t\tconsole.log('å¼€å§‹è§£æCSVè¡Œ:', line)\n\t\t\t\t// é˜²æ­¢ç©ºè¡Œæˆ–undefined\n\t\t\t\tif (!line || typeof line !== 'string') {\n\t\t\t\t\tconsole.log('CSVè¡Œæ— æ•ˆï¼Œè¿”å›ç©ºæ•°ç»„')\n\t\t\t\t\treturn []\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconst result = []\n\t\t\t\tlet current = ''\n\t\t\t\tlet inQuotes = false\n\t\t\t\tlet i = 0\n\t\t\t\t\n\t\t\t\tconsole.log('å¼€å§‹é€å­—ç¬¦è§£æï¼Œæ€»é•¿åº¦:', line.length)\n\t\t\t\twhile (i < line.length) {\n\t\t\t\t\tconst char = line[i]\n\t\t\t\t\t\n\t\t\t\t\tif (char === '\"') {\n\t\t\t\t\t\tinQuotes = !inQuotes\n\t\t\t\t\t\tconsole.log(`å­—ç¬¦${i}: å¼•å·ï¼ŒinQuotes=${inQuotes}`)\n\t\t\t\t\t} else if (char === ',' && !inQuotes) {\n\t\t\t\t\t\tresult.push(current.trim())\n\t\t\t\t\t\tconsole.log(`å­—ç¬¦${i}: é€—å·(éå¼•å·å†…)ï¼Œæ·»åŠ å­—æ®µ: \"${current.trim()}\"`)\n\t\t\t\t\t\tcurrent = ''\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcurrent += char\n\t\t\t\t\t}\n\t\t\t\t\ti++\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tresult.push(current.trim())\n\t\t\t\tconsole.log(`è§£æå®Œæˆï¼Œæœ€åæ·»åŠ å­—æ®µ: \"${current.trim()}\"`)\n\t\t\t\t\n\t\t\t\t// ç§»é™¤å¼•å·\n\t\t\t\tconst finalResult = result.map(field => field.replace(/^\"|\"$/g, ''))\n\t\t\t\tconsole.log('ç§»é™¤å¼•å·åçš„æœ€ç»ˆç»“æœ:', finalResult)\n\t\t\t\treturn finalResult\n\t\t\t},\n\t\t\t\n\t\t\tfindOrCreateCategory(categoryName, type, categoryIcon = '') {\n\t\t\t\tconsole.log('æŸ¥æ‰¾æˆ–åˆ›å»ºåˆ†ç±»:', categoryName, 'ç±»å‹:', type, 'å›¾æ ‡:', categoryIcon)\n\t\t\t\t\n\t\t\t\t// ä»å­˜å‚¨ä¸­åŠ è½½åˆ†ç±»æ•°æ®\n\t\t\t\tlet expenseCategories = uni.getStorageSync('expenseCategories') || [...this.defaultExpenseCategories]\n\t\t\t\tlet incomeCategories = uni.getStorageSync('incomeCategories') || [...this.defaultIncomeCategories]\n\t\t\t\tconst categories = type === 'expense' ? expenseCategories : incomeCategories\n\t\t\t\t\n\t\t\t\tconsole.log('å¯ç”¨åˆ†ç±»åˆ—è¡¨:', categories.map(cat => cat.name))\n\t\t\t\t\n\t\t\t\t// ç²¾ç¡®åŒ¹é…ç°æœ‰åˆ†ç±»\n\t\t\t\tlet category = categories.find(cat => cat.name === categoryName)\n\t\t\t\tif (category) {\n\t\t\t\t\tconsole.log('æ‰¾åˆ°ç°æœ‰åˆ†ç±»:', category)\n\t\t\t\t\treturn category\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// å¦‚æœæ²¡æ‰¾åˆ°ï¼Œåˆ›å»ºæ–°åˆ†ç±»\n\t\t\t\tconsole.log('æœªæ‰¾åˆ°åˆ†ç±»ï¼Œåˆ›å»ºæ–°åˆ†ç±»:', categoryName)\n\t\t\t\t\n\t\t\t\t// ç¡®å®šåˆ†ç±»å›¾æ ‡\n\t\t\t\tlet finalIcon = categoryIcon\n\t\t\t\tif (!finalIcon || finalIcon.trim() === '') {\n\t\t\t\t\t// ä½¿ç”¨é»˜è®¤å›¾æ ‡\n\t\t\t\t\tfinalIcon = type === 'expense' ? 'ğŸ“¦' : 'ğŸ’'\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// ç”Ÿæˆæ–°çš„åˆ†ç±»ID\n\t\t\t\tconst allCategories = [...expenseCategories, ...incomeCategories]\n\t\t\t\tconst maxId = allCategories.length > 0 ? Math.max(...allCategories.map(cat => cat.id || 0)) : 0\n\t\t\t\tconst newId = maxId + 1\n\t\t\t\t\n\t\t\t\t// åˆ›å»ºæ–°åˆ†ç±»å¯¹è±¡\n\t\t\t\tconst newCategory = {\n\t\t\t\t\tid: newId,\n\t\t\t\t\tname: categoryName,\n\t\t\t\t\ticon: finalIcon,\n\t\t\t\t\tisNewCategory: true // ä¸´æ—¶æ ‡è®°ï¼Œç”¨äºè¯†åˆ«æ–°åˆ›å»ºçš„åˆ†ç±»\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconsole.log('åˆ›å»ºçš„æ–°åˆ†ç±»:', newCategory)\n\t\t\t\t\n\t\t\t\t// æ·»åŠ åˆ°å¯¹åº”çš„åˆ†ç±»åˆ—è¡¨\n\t\t\t\tif (type === 'expense') {\n\t\t\t\t\texpenseCategories.push(newCategory)\n\t\t\t\t\tuni.setStorageSync('expenseCategories', expenseCategories)\n\t\t\t\t} else {\n\t\t\t\t\tincomeCategories.push(newCategory)\n\t\t\t\t\tuni.setStorageSync('incomeCategories', incomeCategories)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tconsole.log('æ–°åˆ†ç±»å·²ä¿å­˜åˆ°å­˜å‚¨')\n\t\t\t\treturn newCategory\n\t\t\t},\n\t\t\t\n\t\t\tcreateSampleData() {\n\t\t\t\tconsole.log('=== å¼€å§‹åˆ›å»ºç¤ºä¾‹æ•°æ® ===')\n\t\t\t\tconst existingRecords = uni.getStorageSync('records') || []\n\t\t\t\tconsole.log('å½“å‰å·²æœ‰è®°å½•æ•°:', existingRecords.length)\n\t\t\t\t\n\t\t\t\t// åˆ›å»ºä¸€äº›ç¤ºä¾‹æ•°æ®\n\t\t\t\tconst sampleData = [\n\t\t\t\t\t{\n\t\t\t\t\t\tid: Date.now().toString() + '_sample1',\n\t\t\t\t\t\ttype: 'expense',\n\t\t\t\t\t\tamount: '35.80',\n\t\t\t\t\t\tcategoryId: 1,\n\t\t\t\t\t\tcategoryName: 'é¤é¥®',\n\t\t\t\t\t\tcategoryIcon: 'ğŸ½ï¸',\n\t\t\t\t\t\tnote: 'åˆé¤ - ç¤ºä¾‹æ•°æ®',\n\t\t\t\t\t\ttime: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000).toISOString()\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: Date.now().toString() + '_sample2',\n\t\t\t\t\t\ttype: 'expense',\n\t\t\t\t\t\tamount: '12.00',\n\t\t\t\t\t\tcategoryId: 2,\n\t\t\t\t\t\tcategoryName: 'äº¤é€š',\n\t\t\t\t\t\tcategoryIcon: 'ğŸš—',\n\t\t\t\t\t\tnote: 'åœ°é“è´¹ - ç¤ºä¾‹æ•°æ®',\n\t\t\t\t\t\ttime: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString()\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: Date.now().toString() + '_sample3',\n\t\t\t\t\t\ttype: 'expense',\n\t\t\t\t\t\tamount: '199.00',\n\t\t\t\t\t\tcategoryId: 3,\n\t\t\t\t\t\tcategoryName: 'è´­ç‰©',\n\t\t\t\t\t\tcategoryIcon: 'ğŸ›ï¸',\n\t\t\t\t\t\tnote: 'ä¹°è¡£æœ - ç¤ºä¾‹æ•°æ®',\n\t\t\t\t\t\ttime: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString()\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: Date.now().toString() + '_sample4',\n\t\t\t\t\t\ttype: 'income',\n\t\t\t\t\t\tamount: '3000.00',\n\t\t\t\t\t\tcategoryId: 11,\n\t\t\t\t\t\tcategoryName: 'å·¥èµ„',\n\t\t\t\t\t\tcategoryIcon: 'ğŸ’°',\n\t\t\t\t\t\tnote: 'éƒ¨åˆ†å·¥èµ„ - ç¤ºä¾‹æ•°æ®',\n\t\t\t\t\t\ttime: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString()\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: Date.now().toString() + '_sample5',\n\t\t\t\t\t\ttype: 'expense',\n\t\t\t\t\t\tamount: '88.50',\n\t\t\t\t\t\tcategoryId: 4,\n\t\t\t\t\t\tcategoryName: 'å¨±ä¹',\n\t\t\t\t\t\tcategoryIcon: 'ğŸ¬',\n\t\t\t\t\t\tnote: 'ç”µå½±ç¥¨ - ç¤ºä¾‹æ•°æ®',\n\t\t\t\t\t\ttime: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString()\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tid: Date.now().toString() + '_sample6',\n\t\t\t\t\t\ttype: 'income',\n\t\t\t\t\t\tamount: '200.00',\n\t\t\t\t\t\tcategoryId: 15,\n\t\t\t\t\t\tcategoryName: 'çº¢åŒ…',\n\t\t\t\t\t\tcategoryIcon: 'ğŸ§§',\n\t\t\t\t\t\tnote: 'ç”Ÿæ—¥çº¢åŒ… - ç¤ºä¾‹æ•°æ®',\n\t\t\t\t\t\ttime: new Date(Date.now() - 10 * 24 * 60 * 60 * 1000).toISOString()\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t\t\n\t\t\t\tconsole.log('åˆ›å»ºçš„ç¤ºä¾‹æ•°æ®:', sampleData)\n\t\t\t\t\n\t\t\t\t// åˆå¹¶æ•°æ®\n\t\t\t\tconst allRecords = [...existingRecords, ...sampleData]\n\t\t\t\tconsole.log('åˆå¹¶åæ€»è®°å½•æ•°:', allRecords.length)\n\t\t\t\t\n\t\t\t\tuni.setStorageSync('records', allRecords)\n\t\t\t\tconsole.log('ç¤ºä¾‹æ•°æ®ä¿å­˜æˆåŠŸ')\n\t\t\t\t\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: `æˆåŠŸå¯¼å…¥${sampleData.length}æ¡ç¤ºä¾‹æ•°æ®`,\n\t\t\t\t\ticon: 'success',\n\t\t\t\t\tduration: 2000\n\t\t\t\t})\n\t\t\t\tconsole.log('=== ç¤ºä¾‹æ•°æ®åˆ›å»ºæµç¨‹å®Œæˆ ===')\n\t\t\t},\n\t\t\t\n\t\t\texportData() {\n\t\t\t\tconst records = uni.getStorageSync('records') || []\n\t\t\t\tif (records.length === 0) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'æš‚æ— æ•°æ®å¯å¯¼å‡º',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// è·å–åˆ†ç±»æ•°æ®\n\t\t\t\tconst expenseCategories = uni.getStorageSync('expenseCategories') || this.defaultExpenseCategories\n\t\t\t\tconst incomeCategories = uni.getStorageSync('incomeCategories') || this.defaultIncomeCategories\n\t\t\t\t\n\t\t\t\t// æ ¼å¼åŒ–æ•°æ®ä¸ºCSVæ ¼å¼ï¼ŒåŒ…å«åˆ†ç±»å›¾æ ‡ä¿¡æ¯\n\t\t\t\tlet csvContent = 'æ—¶é—´,ç±»å‹,åˆ†ç±»å,åˆ†ç±»å›¾æ ‡,é‡‘é¢,å¤‡æ³¨\\n'\n\t\t\t\trecords.forEach(record => {\n\t\t\t\t\tconst time = new Date(record.time).toLocaleString('zh-CN')\n\t\t\t\t\tconst type = record.type === 'expense' ? 'æ”¯å‡º' : 'æ”¶å…¥'\n\t\t\t\t\tconst categoryName = record.categoryName\n\t\t\t\t\tconst categoryIcon = record.categoryIcon || 'ğŸ“¦' // é»˜è®¤å›¾æ ‡\n\t\t\t\t\tconst amount = record.amount\n\t\t\t\t\tconst note = record.note || ''\n\t\t\t\t\tcsvContent += `\"${time}\",\"${type}\",\"${categoryName}\",\"${categoryIcon}\",\"${amount}\",\"${note}\"\\n`\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\t// æ£€æŸ¥å¹³å°æ”¯æŒ\n\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\tif (typeof plus === 'undefined') {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'å½“å‰ç¯å¢ƒä¸æ”¯æŒæ–‡ä»¶ç³»ç»Ÿè®¿é—®',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// æ˜¾ç¤ºé€‰æ‹©å¯¼å‡ºæ–¹å¼\n\t\t\t\tuni.showActionSheet({\n\t\t\t\t\titemList: ['ä¿å­˜ä¸ºæ–‡ä»¶', 'å¤åˆ¶åˆ°å‰ªè´´æ¿'],\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconst now = new Date()\n\t\t\t\t\t\tconst dateStr = now.toISOString().slice(0, 10).replace(/-/g, '')\n\t\t\t\t\t\tconst fileName = `è®°è´¦æ•°æ®_${dateStr}.csv`\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (res.tapIndex === 0) {\n\t\t\t\t\t\t\tthis.showFileSaveOptions(csvContent, records.length, fileName)\n\t\t\t\t\t\t} else if (res.tapIndex === 1) {\n\t\t\t\t\t\t\tthis.exportToClipboard(csvContent, records.length)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t// #endif\n\t\t\t\t\n\t\t\t\t// #ifndef APP-PLUS\n\t\t\t\tuni.showActionSheet({\n\t\t\t\t\titemList: ['å¤åˆ¶åˆ°å‰ªåˆ‡æ¿'],\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.tapIndex === 0) {\n\t\t\t\t\t\t\tthis.exportToClipboard(csvContent, records.length)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t// #endif\n\t\t\t},\n\t\t\t\n\t\t\t// æ˜¾ç¤ºæ–‡ä»¶ä¿å­˜é€‰é¡¹\n\t\t\tshowFileSaveOptions(csvContent, recordCount, fileName) {\n\t\t\t\tuni.showActionSheet({\n\t\t\t\t\titemList: ['ä¿å­˜åˆ°å…¬å…±å­˜å‚¨', 'ä¿å­˜åˆ°ä¸‹è½½ç›®å½•', 'ä¿å­˜åˆ°åº”ç”¨æ–‡æ¡£', 'è‡ªå®šä¹‰è·¯å¾„'],\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.tapIndex === 0) {\n\t\t\t\t\t\t\tthis.saveToDCIM(csvContent, recordCount, fileName)\n\t\t\t\t\t\t} else if (res.tapIndex === 1) {\n\t\t\t\t\t\t\tthis.saveToDownloads(csvContent, recordCount, fileName)\n\t\t\t\t\t\t} else if (res.tapIndex === 2) {\n\t\t\t\t\t\t\tthis.saveToPublicDocuments(csvContent, recordCount, fileName)\n\t\t\t\t\t\t} else if (res.tapIndex === 3) {\n\t\t\t\t\t\t\tthis.saveToCustomLocation(csvContent, recordCount, fileName)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tsaveToFile(csvContent, recordCount) {\n\t\t\t\t// ç”Ÿæˆæ–‡ä»¶åï¼ˆåŒ…å«å½“å‰æ—¥æœŸï¼‰\n\t\t\t\tconst now = new Date()\n\t\t\t\tconst dateStr = now.toISOString().slice(0, 10).replace(/-/g, '')\n\t\t\t\tconst fileName = `è®°è´¦æ•°æ®_${dateStr}.csv`\n\t\t\t\t\n\t\t\t\t// #ifdef H5\n\t\t\t\t// H5å¹³å°ç›´æ¥ä¸‹è½½\n\t\t\t\tthis.downloadFileH5(csvContent, fileName, recordCount)\n\t\t\t\t// #endif\n\t\t\t\t\n\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\t// Appå¹³å°é€‰æ‹©ä¿å­˜ä½ç½®\n\t\t\t\tthis.selectSaveLocationApp(csvContent, recordCount, fileName)\n\t\t\t\t// #endif\n\t\t\t\t\n\t\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\t// å¾®ä¿¡å°ç¨‹åºä¿å­˜åˆ°ç›¸å†Œæˆ–åˆ†äº«\n\t\t\t\tthis.saveFileWx(csvContent, recordCount, fileName)\n\t\t\t\t// #endif\n\t\t\t\t\n\t\t\t\t// #ifdef MP && !MP-WEIXIN\n\t\t\t\t// å…¶ä»–å°ç¨‹åºå¹³å°\n\t\t\t\tthis.fallbackExport(csvContent, recordCount)\n\t\t\t\t// #endif\n\t\t\t\t\n\t\t\t\t// #ifndef H5 || APP-PLUS || MP\n\t\t\t\t// å…¶ä»–å¹³å°é™çº§åˆ°å¤åˆ¶\n\t\t\t\tthis.fallbackExport(csvContent, recordCount)\n\t\t\t\t// #endif\n\t\t\t},\n\t\t\t\n\t\t\tselectSaveLocationApp(csvContent, recordCount, fileName) {\n\t\t\t\t// Appå¹³å°é€‰æ‹©ä¿å­˜ä½ç½®\n\t\t\t\tif (typeof plus !== 'undefined') {\n\t\t\t\t\tuni.showActionSheet({\n\t\t\t\t\t\titemList: ['ä¿å­˜åˆ°ä¸‹è½½ç›®å½•', 'ä¿å­˜åˆ°å…¬å…±å­˜å‚¨', 'ä¿å­˜åˆ°åº”ç”¨æ–‡æ¡£', 'é€‰æ‹©è‡ªå®šä¹‰ç›®å½•'],\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tif (res.tapIndex === 0) {\n\t\t\t\t\t\t\t\tthis.saveToDownloads(csvContent, recordCount, fileName)\n\t\t\t\t\t\t\t} else if (res.tapIndex === 1) {\n\t\t\t\t\t\t\t\tthis.saveToDCIM(csvContent, recordCount, fileName)\n\t\t\t\t\t\t\t} else if (res.tapIndex === 2) {\n\t\t\t\t\t\t\t\tthis.saveToPublicDocuments(csvContent, recordCount, fileName)\n\t\t\t\t\t\t\t} else if (res.tapIndex === 3) {\n\t\t\t\t\t\t\t\tthis.saveToCustomLocation(csvContent, recordCount, fileName)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tthis.fallbackExport(csvContent, recordCount)\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tsaveToDownloads(csvContent, recordCount, fileName) {\n\t\t\t\tconsole.log('=== å¼€å§‹ä¿å­˜åˆ°ä¸‹è½½ç›®å½• ===')\n\t\t\t\tconsole.log('æ–‡ä»¶å:', fileName)\n\t\t\t\tconsole.log('è®°å½•æ•°é‡:', recordCount)\n\t\t\t\tconsole.log('CSVå†…å®¹é•¿åº¦:', csvContent.length)\n\t\t\t\tconsole.log('CSVå†…å®¹é¢„è§ˆ:', csvContent.substring(0, 200))\n\t\t\t\t\n\t\t\t\tplus.io.requestFileSystem(plus.io.PUBLIC_DOWNLOADS, (fs) => {\n\t\t\t\t\tconsole.log('è·å–ä¸‹è½½ç›®å½•æ–‡ä»¶ç³»ç»ŸæˆåŠŸ')\n\t\t\t\t\tfs.root.getFile(fileName, {create: true}, (fileEntry) => {\n\t\t\t\t\t\tconsole.log('åˆ›å»ºæ–‡ä»¶æˆåŠŸ:', fileEntry.fullPath)\n\t\t\t\t\t\tfileEntry.createWriter((writer) => {\n\t\t\t\t\t\t\tconsole.log('åˆ›å»ºå†™å…¥å™¨æˆåŠŸ')\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\twriter.onwrite = (e) => {\n\t\t\t\t\t\t\t\tconsole.log('æ–‡ä»¶å†™å…¥å®Œæˆäº‹ä»¶:', e)\n\t\t\t\t\t\t\t\tconsole.log('å†™å…¥å™¨ä½ç½®:', writer.position)\n\t\t\t\t\t\t\t\tconsole.log('å†™å…¥å™¨é•¿åº¦:', writer.length)\n\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\ttitle: 'å¯¼å‡ºå®Œæˆ',\n\t\t\t\t\t\t\t\t\tcontent: `æ–‡ä»¶å·²æˆåŠŸä¿å­˜ï¼\\n\\nä½ç½®ï¼šä¸‹è½½ç›®å½•/${fileName}\\nè®°å½•æ•°ï¼š${recordCount} æ¡\\næ–‡ä»¶å¤§å°ï¼š${writer.length} å­—èŠ‚\\n\\næ‚¨å¯ä»¥é€šè¿‡æ–‡ä»¶ç®¡ç†å™¨åœ¨ä¸‹è½½æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°è¯¥æ–‡ä»¶ã€‚`,\n\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\tconfirmText: 'æˆ‘çŸ¥é“äº†'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\twriter.onerror = (err) => {\n\t\t\t\t\t\t\t\tconsole.error('å†™å…¥å¤±è´¥:', err)\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: 'æ–‡ä»¶å†™å…¥å¤±è´¥',\n\t\t\t\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\twriter.onwriteend = () => {\n\t\t\t\t\t\t\t\tconsole.log('å†™å…¥ç»“æŸï¼Œæœ€ç»ˆæ–‡ä»¶å¤§å°:', writer.length)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// åˆ›å»ºå¸¦BOMçš„UTF-8 CSVå†…å®¹\n\t\t\t\t\t\t\tconst bom = '\\ufeff'\n\t\t\t\t\t\t\tconst fullContent = bom + csvContent\n\t\t\t\t\t\t\tconsole.log('å®Œæ•´å†…å®¹é•¿åº¦(å«BOM):', fullContent.length)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// å†™å…¥æ•°æ®\n\t\t\t\t\t\t\tconsole.log('å¼€å§‹å†™å…¥æ•°æ®...')\n\t\t\t\t\t\t\twriter.write(fullContent)\n\t\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\t\tconsole.error('åˆ›å»ºå†™å…¥å™¨å¤±è´¥:', err)\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: 'åˆ›å»ºå†™å…¥å™¨å¤±è´¥',\n\t\t\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\tconsole.error('åˆ›å»ºæ–‡ä»¶å¤±è´¥:', err)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'åˆ›å»ºæ–‡ä»¶å¤±è´¥',\n\t\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t}, (err) => {\n\t\t\t\t\tconsole.error('è·å–ä¸‹è½½ç›®å½•å¤±è´¥:', err)\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'è·å–ä¸‹è½½ç›®å½•å¤±è´¥',\n\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tsaveToDocuments(csvContent, recordCount, fileName) {\n\t\t\t\tconsole.log('=== å¼€å§‹ä¿å­˜åˆ°æ–‡æ¡£ç›®å½• ===')\n\t\t\t\tconsole.log('æ–‡ä»¶å:', fileName)\n\t\t\t\tconsole.log('è®°å½•æ•°é‡:', recordCount)\n\t\t\t\tconsole.log('CSVå†…å®¹é•¿åº¦:', csvContent.length)\n\t\t\t\tconsole.log('CSVå†…å®¹é¢„è§ˆ:', csvContent.substring(0, 200))\n\t\t\t\t\n\t\t\t\tplus.io.requestFileSystem(plus.io.PRIVATE_DOC, (fs) => {\n\t\t\t\t\tconsole.log('è·å–æ–‡æ¡£ç›®å½•æ–‡ä»¶ç³»ç»ŸæˆåŠŸ')\n\t\t\t\t\tfs.root.getFile(fileName, {create: true}, (fileEntry) => {\n\t\t\t\t\t\tconsole.log('åˆ›å»ºæ–‡ä»¶æˆåŠŸ:', fileEntry.fullPath)\n\t\t\t\t\t\tfileEntry.createWriter((writer) => {\n\t\t\t\t\t\t\tconsole.log('åˆ›å»ºå†™å…¥å™¨æˆåŠŸ')\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\twriter.onwrite = (e) => {\n\t\t\t\t\t\t\t\tconsole.log('æ–‡ä»¶å†™å…¥å®Œæˆäº‹ä»¶:', e)\n\t\t\t\t\t\t\t\tconsole.log('å†™å…¥å™¨ä½ç½®:', writer.position)\n\t\t\t\t\t\t\t\tconsole.log('å†™å…¥å™¨é•¿åº¦:', writer.length)\n\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\ttitle: 'å¯¼å‡ºæˆåŠŸ',\n\t\t\t\t\t\t\t\t\tcontent: `æ–‡ä»¶å·²ä¿å­˜åˆ°åº”ç”¨æ–‡æ¡£ç›®å½•ï¼š\\n${fileName}\\n\\nå…±${recordCount}æ¡è®°å½•\\næ–‡ä»¶å¤§å°ï¼š${writer.length}å­—èŠ‚`,\n\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\tconfirmText: 'çŸ¥é“äº†'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\twriter.onerror = (err) => {\n\t\t\t\t\t\t\t\tconsole.error('å†™å…¥å¤±è´¥:', err)\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: 'æ–‡ä»¶å†™å…¥å¤±è´¥',\n\t\t\t\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\twriter.onwriteend = () => {\n\t\t\t\t\t\t\t\tconsole.log('å†™å…¥ç»“æŸï¼Œæœ€ç»ˆæ–‡ä»¶å¤§å°:', writer.length)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// åˆ›å»ºå¸¦BOMçš„UTF-8 CSVå†…å®¹\n\t\t\t\t\t\t\tconst bom = '\\ufeff'\n\t\t\t\t\t\t\tconst fullContent = bom + csvContent\n\t\t\t\t\t\t\tconsole.log('å®Œæ•´å†…å®¹é•¿åº¦(å«BOM):', fullContent.length)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// å†™å…¥æ•°æ®\n\t\t\t\t\t\t\tconsole.log('å¼€å§‹å†™å…¥æ•°æ®...')\n\t\t\t\t\t\t\twriter.write(fullContent)\n\t\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\t\tconsole.error('åˆ›å»ºå†™å…¥å™¨å¤±è´¥:', err)\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: 'åˆ›å»ºå†™å…¥å™¨å¤±è´¥',\n\t\t\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\tconsole.error('åˆ›å»ºæ–‡ä»¶å¤±è´¥:', err)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'åˆ›å»ºæ–‡ä»¶å¤±è´¥',\n\t\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t}, (err) => {\n\t\t\t\t\tconsole.error('è·å–æ–‡æ¡£ç›®å½•å¤±è´¥:', err)\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'è·å–æ–‡æ¡£ç›®å½•å¤±è´¥',\n\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tsaveToCustomLocation(csvContent, recordCount, fileName) {\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'è‡ªå®šä¹‰ä¿å­˜è·¯å¾„',\n\t\t\t\t\tcontent: 'è¯·è¾“å…¥ä¿å­˜è·¯å¾„ï¼ˆä¸åŒ…å«æ–‡ä»¶åï¼‰ï¼š',\n\t\t\t\t\teditable: true,\n\t\t\t\t\tplaceholderText: '/storage/emulated/0/Documents',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm && res.content && res.content.trim()) {\n\t\t\t\t\t\t\tconst customPath = res.content.trim()\n\t\t\t\t\t\t\tthis.saveToCustomPath(csvContent, recordCount, fileName, customPath)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tsaveToCustomPath(csvContent, recordCount, fileName, customPath) {\n\t\t\t\tconsole.log('=== å¼€å§‹ä¿å­˜åˆ°è‡ªå®šä¹‰è·¯å¾„ ===')\n\t\t\t\tconsole.log('è‡ªå®šä¹‰è·¯å¾„:', customPath)\n\t\t\t\tconsole.log('æ–‡ä»¶å:', fileName)\n\t\t\t\tconsole.log('è®°å½•æ•°é‡:', recordCount)\n\t\t\t\tconsole.log('CSVå†…å®¹é•¿åº¦:', csvContent.length)\n\t\t\t\tconsole.log('CSVå†…å®¹é¢„è§ˆ:', csvContent.substring(0, 200))\n\t\t\t\t\n\t\t\t\tplus.io.resolveLocalFileSystemURL(customPath, (dirEntry) => {\n\t\t\t\t\tconsole.log('è§£æè‡ªå®šä¹‰è·¯å¾„æˆåŠŸ:', dirEntry.fullPath)\n\t\t\t\t\tdirEntry.getFile(fileName, {create: true}, (fileEntry) => {\n\t\t\t\t\t\tconsole.log('åˆ›å»ºæ–‡ä»¶æˆåŠŸ:', fileEntry.fullPath)\n\t\t\t\t\t\tfileEntry.createWriter((writer) => {\n\t\t\t\t\t\t\tconsole.log('åˆ›å»ºå†™å…¥å™¨æˆåŠŸ')\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\twriter.onwrite = (e) => {\n\t\t\t\t\t\t\t\tconsole.log('æ–‡ä»¶å†™å…¥å®Œæˆäº‹ä»¶:', e)\n\t\t\t\t\t\t\t\tconsole.log('å†™å…¥å™¨ä½ç½®:', writer.position)\n\t\t\t\t\t\t\t\tconsole.log('å†™å…¥å™¨é•¿åº¦:', writer.length)\n\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\ttitle: 'å¯¼å‡ºæˆåŠŸ',\n\t\t\t\t\t\t\t\t\tcontent: `æ–‡ä»¶å·²ä¿å­˜åˆ°ï¼š\\n${customPath}/${fileName}\\n\\nå…±${recordCount}æ¡è®°å½•\\næ–‡ä»¶å¤§å°ï¼š${writer.length}å­—èŠ‚`,\n\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\tconfirmText: 'çŸ¥é“äº†'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\twriter.onerror = (err) => {\n\t\t\t\t\t\t\t\tconsole.error('å†™å…¥å¤±è´¥:', err)\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: 'æ–‡ä»¶å†™å…¥å¤±è´¥',\n\t\t\t\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\twriter.onwriteend = () => {\n\t\t\t\t\t\t\t\tconsole.log('å†™å…¥ç»“æŸï¼Œæœ€ç»ˆæ–‡ä»¶å¤§å°:', writer.length)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// åˆ›å»ºå¸¦BOMçš„UTF-8 CSVå†…å®¹\n\t\t\t\t\t\t\tconst bom = '\\ufeff'\n\t\t\t\t\t\t\tconst fullContent = bom + csvContent\n\t\t\t\t\t\t\tconsole.log('å®Œæ•´å†…å®¹é•¿åº¦(å«BOM):', fullContent.length)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// å†™å…¥æ•°æ®\n\t\t\t\t\t\t\tconsole.log('å¼€å§‹å†™å…¥æ•°æ®...')\n\t\t\t\t\t\t\twriter.write(fullContent)\n\t\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\t\tconsole.error('åˆ›å»ºå†™å…¥å™¨å¤±è´¥:', err)\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: 'åˆ›å»ºå†™å…¥å™¨å¤±è´¥',\n\t\t\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\tconsole.error('åˆ›å»ºæ–‡ä»¶å¤±è´¥:', err)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'ä¿å­˜å¤±è´¥ï¼Œè¯·æ£€æŸ¥è·¯å¾„æƒé™',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t}, (err) => {\n\t\t\t\t\tconsole.error('è·¯å¾„ä¸å­˜åœ¨:', err)\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'è·¯å¾„ä¸å­˜åœ¨æˆ–æ— æƒé™',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tsaveFileWx(csvContent, recordCount, fileName) {\n\t\t\t\t// å¾®ä¿¡å°ç¨‹åºä¿å­˜æ–‡ä»¶\n\t\t\t\tconst fs = wx.getFileSystemManager()\n\t\t\t\tconst filePath = `${wx.env.USER_DATA_PATH}/${fileName}`\n\t\t\t\t\n\t\t\t\tfs.writeFile({\n\t\t\t\t\tfilePath: filePath,\n\t\t\t\t\tdata: csvContent,\n\t\t\t\t\tencoding: 'utf8',\n\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\tuni.showActionSheet({\n\t\t\t\t\t\t\titemList: ['åˆ†äº«æ–‡ä»¶', 'ä¿å­˜åˆ°ç›¸å†Œ', 'æ˜¾ç¤ºè·¯å¾„'],\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tif (res.tapIndex === 0) {\n\t\t\t\t\t\t\t\t\tthis.shareFileWx(filePath, fileName, recordCount)\n\t\t\t\t\t\t\t\t} else if (res.tapIndex === 1) {\n\t\t\t\t\t\t\t\t\tthis.saveToPhotosWx(csvContent, fileName, recordCount)\n\t\t\t\t\t\t\t\t} else if (res.tapIndex === 2) {\n\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\ttitle: 'å¯¼å‡ºæˆåŠŸ',\n\t\t\t\t\t\t\t\t\t\tcontent: `æ–‡ä»¶å·²ä¿å­˜ï¼š\\n${filePath}\\n\\nå…±${recordCount}æ¡è®°å½•`,\n\t\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\t\tconfirmText: 'çŸ¥é“äº†'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.error('ä¿å­˜å¤±è´¥:', err)\n\t\t\t\t\t\tthis.fallbackExport(csvContent, recordCount)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tshareFileWx(filePath, fileName, recordCount) {\n\t\t\t\twx.shareFileMessage({\n\t\t\t\t\tfilePath: filePath,\n\t\t\t\t\tfileName: fileName,\n\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'åˆ†äº«æˆåŠŸ',\n\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\tconsole.error('åˆ†äº«å¤±è´¥:', err)\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: 'å¯¼å‡ºæˆåŠŸ',\n\t\t\t\t\t\t\tcontent: `æ–‡ä»¶å·²ä¿å­˜ï¼Œä½†åˆ†äº«å¤±è´¥\\nè·¯å¾„ï¼š${filePath}\\n\\nå…±${recordCount}æ¡è®°å½•`,\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tconfirmText: 'çŸ¥é“äº†'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tsaveToPhotosWx(csvContent, fileName, recordCount) {\n\t\t\t\t// å°†CSVå†…å®¹è½¬æ¢ä¸ºå›¾ç‰‡ä¿å­˜åˆ°ç›¸å†Œï¼ˆä½œä¸ºå¤‡é€‰æ–¹æ¡ˆï¼‰\n\t\t\t\tuni.showModal({\n\t\t\t\t\ttitle: 'æç¤º',\n\t\t\t\t\tcontent: 'å°ç¨‹åºæ— æ³•ç›´æ¥ä¿å­˜CSVæ–‡ä»¶åˆ°ç›¸å†Œï¼Œå»ºè®®ä½¿ç”¨åˆ†äº«åŠŸèƒ½æˆ–å¤åˆ¶åˆ°å‰ªè´´æ¿',\n\t\t\t\t\tshowCancel: true,\n\t\t\t\t\tconfirmText: 'å¤åˆ¶å†…å®¹',\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tthis.fallbackExport(csvContent, recordCount)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tdownloadDataFile(csvContent, recordCount) {\n\t\t\t\t// ç”Ÿæˆæ–‡ä»¶åï¼ˆåŒ…å«å½“å‰æ—¥æœŸï¼‰\n\t\t\t\tconst now = new Date()\n\t\t\t\tconst dateStr = now.toISOString().slice(0, 10).replace(/-/g, '')\n\t\t\t\tconst fileName = `è®°è´¦æ•°æ®_${dateStr}.csv`\n\t\t\t\t\n\t\t\t\t// #ifdef H5\n\t\t\t\t// H5å¹³å°ä½¿ç”¨blobä¸‹è½½\n\t\t\t\tthis.downloadFileH5(csvContent, fileName, recordCount)\n\t\t\t\t// #endif\n\t\t\t\t\n\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\t// Appå¹³å°ä½¿ç”¨plus.io\n\t\t\t\tthis.saveDataToFileApp(csvContent, recordCount, fileName)\n\t\t\t\t// #endif\n\t\t\t\t\n\t\t\t\t// #ifdef MP\n\t\t\t\t// å°ç¨‹åºå¹³å°å¤„ç†\n\t\t\t\tthis.saveDataToFileMp(csvContent, recordCount, fileName)\n\t\t\t\t// #endif\n\t\t\t\t\n\t\t\t\t// #ifndef H5 || APP-PLUS || MP\n\t\t\t\t// å…¶ä»–å¹³å°é™çº§åˆ°å¤åˆ¶\n\t\t\t\tthis.fallbackExport(csvContent, recordCount)\n\t\t\t\t// #endif\n\t\t\t},\n\t\t\t\n\t\t\tdownloadFileH5(csvContent, fileName, recordCount) {\n\t\t\t\ttry {\n\t\t\t\t\t// åˆ›å»ºBlobå¯¹è±¡\n\t\t\t\t\tconst blob = new Blob(['\\ufeff' + csvContent], { \n\t\t\t\t\t\ttype: 'text/csv;charset=utf-8' \n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\t// åˆ›å»ºä¸‹è½½é“¾æ¥\n\t\t\t\t\tconst url = window.URL.createObjectURL(blob)\n\t\t\t\t\tconst link = document.createElement('a')\n\t\t\t\t\tlink.href = url\n\t\t\t\t\tlink.download = fileName\n\t\t\t\t\tlink.style.display = 'none'\n\t\t\t\t\t\n\t\t\t\t\t// è§¦å‘ä¸‹è½½\n\t\t\t\t\tdocument.body.appendChild(link)\n\t\t\t\t\tlink.click()\n\t\t\t\t\t\n\t\t\t\t\t// æ¸…ç†\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tdocument.body.removeChild(link)\n\t\t\t\t\t\twindow.URL.revokeObjectURL(url)\n\t\t\t\t\t}, 100)\n\t\t\t\t\t\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: `æˆåŠŸå¯¼å‡º${recordCount}æ¡è®°å½•`,\n\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t})\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('ä¸‹è½½å¤±è´¥:', error)\n\t\t\t\t\t// é™çº§åˆ°å¤åˆ¶\n\t\t\t\t\tuni.setClipboardData({\n\t\t\t\t\t\tdata: csvContent,\n\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: 'ä¸‹è½½å¤±è´¥ï¼Œå·²å¤åˆ¶åˆ°å‰ªè´´æ¿',\n\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tsaveDataToFile(csvContent, recordCount, fileName) {\n\t\t\t\ttry {\n\t\t\t\t\t// è·å–æ–‡ä»¶ç³»ç»Ÿç®¡ç†å™¨\n\t\t\t\t\tconst fs = uni.getFileSystemManager()\n\t\t\t\t\t\n\t\t\t\t\t// å†™å…¥ä¸´æ—¶æ–‡ä»¶\n\t\t\t\t\tconst tempPath = `${uni.env.USER_DATA_PATH}/${fileName}`\n\t\t\t\t\t\n\t\t\t\t\tfs.writeFileSync(tempPath, csvContent, 'utf8')\n\t\t\t\t\t\n\t\t\t\t\t// ä¿å­˜æˆåŠŸåçš„æ“ä½œé€‰æ‹©\n\t\t\t\t\tuni.showActionSheet({\n\t\t\t\t\t\titemList: ['åˆ†äº«æ–‡ä»¶', 'æ˜¾ç¤ºæ–‡ä»¶ä½ç½®'],\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tif (res.tapIndex === 0) {\n\t\t\t\t\t\t\t\t// åˆ†äº«æ–‡ä»¶\n\t\t\t\t\t\t\t\tthis.shareFile(tempPath, fileName, recordCount)\n\t\t\t\t\t\t\t} else if (res.tapIndex === 1) {\n\t\t\t\t\t\t\t\t// æ˜¾ç¤ºæ–‡ä»¶ä½ç½®\n\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\ttitle: 'å¯¼å‡ºæˆåŠŸ',\n\t\t\t\t\t\t\t\t\tcontent: `æ–‡ä»¶å·²ä¿å­˜è‡³ï¼š\\n${tempPath}\\n\\nå…±${recordCount}æ¡è®°å½•`,\n\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\tconfirmText: 'çŸ¥é“äº†'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('æ–‡ä»¶å†™å…¥å¤±è´¥:', error)\n\t\t\t\t\t// é™çº§åˆ°å¤åˆ¶\n\t\t\t\t\tuni.setClipboardData({\n\t\t\t\t\t\tdata: csvContent,\n\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: 'æ–‡ä»¶ä¿å­˜å¤±è´¥ï¼Œå·²å¤åˆ¶åˆ°å‰ªè´´æ¿',\n\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tsaveDataToFileApp(csvContent, recordCount, fileName) {\n\t\t\t\t// Appå¹³å°ä½¿ç”¨plus.io\n\t\t\t\tif (typeof plus !== 'undefined') {\n\t\t\t\t\tplus.io.requestFileSystem(plus.io.PUBLIC_DOWNLOADS, (fs) => {\n\t\t\t\t\t\tfs.root.getFile(fileName, {create: true}, (fileEntry) => {\n\t\t\t\t\t\t\tfileEntry.createWriter((writer) => {\n\t\t\t\t\t\t\t\twriter.onwrite = () => {\n\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\ttitle: 'å¯¼å‡ºæˆåŠŸ',\n\t\t\t\t\t\t\t\t\t\tcontent: `æ–‡ä»¶å·²ä¿å­˜åˆ°ä¸‹è½½ç›®å½•ï¼š\\n${fileName}\\n\\nå…±${recordCount}æ¡è®°å½•`,\n\t\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\t\tconfirmText: 'çŸ¥é“äº†'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twriter.onerror = (err) => {\n\t\t\t\t\t\t\t\t\tconsole.error('å†™å…¥å¤±è´¥:', err)\n\t\t\t\t\t\t\t\t\tthis.fallbackExport(csvContent, recordCount)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\twriter.write(new Blob(['\\ufeff' + csvContent], {type: 'text/csv'}))\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\t\tconsole.error('åˆ›å»ºæ–‡ä»¶å¤±è´¥:', err)\n\t\t\t\t\t\t\tthis.fallbackExport(csvContent, recordCount)\n\t\t\t\t\t\t})\n\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\tconsole.error('è·å–æ–‡ä»¶ç³»ç»Ÿå¤±è´¥:', err)\n\t\t\t\t\t\tthis.fallbackExport(csvContent, recordCount)\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tthis.fallbackExport(csvContent, recordCount)\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tsaveDataToFileMp(csvContent, recordCount, fileName) {\n\t\t\t\t// å°ç¨‹åºå¹³å°åªèƒ½å¤åˆ¶åˆ°å‰ªè´´æ¿\n\t\t\t\tthis.fallbackExport(csvContent, recordCount)\n\t\t\t},\n\t\t\t\n\t\t\tfallbackExport(csvContent, recordCount) {\n\t\t\t\t// é™çº§åˆ°å¤åˆ¶å‰ªè´´æ¿\n\t\t\t\tuni.setClipboardData({\n\t\t\t\t\tdata: csvContent,\n\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: 'å¯¼å‡ºå®Œæˆ',\n\t\t\t\t\t\t\tcontent: `æ•°æ®å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼ˆå…± ${recordCount} æ¡è®°å½•ï¼‰\\n\\nç”±äºå¹³å°é™åˆ¶ï¼Œæ— æ³•ç›´æ¥ä¿å­˜æ–‡ä»¶ã€‚æ‚¨å¯ä»¥å°†æ•°æ®ç²˜è´´åˆ°ä»»æ„æ–‡æœ¬ç¼–è¾‘å™¨ä¸­ä¿å­˜ä¸ºCSVæ–‡ä»¶ã€‚`,\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tconfirmText: 'æˆ‘çŸ¥é“äº†'\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tfail: () => {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'å¯¼å‡ºå¤±è´¥ï¼Œè¯·é‡è¯•',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\tshareFile(filePath, fileName, recordCount) {\n\t\t\t\t// ä½¿ç”¨ç³»ç»Ÿåˆ†äº«åŠŸèƒ½\n\t\t\t\tif (typeof plus !== 'undefined' && plus.share) {\n\t\t\t\t\t// Appå¹³å°åˆ†äº«\n\t\t\t\t\tplus.share.sendWithSystem({\n\t\t\t\t\t\ttype: 'file',\n\t\t\t\t\t\tpath: filePath,\n\t\t\t\t\t\tsuccess: () => {\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: 'å¯¼å‡ºæˆåŠŸ',\n\t\t\t\t\t\t\t\ticon: 'success'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: (err) => {\n\t\t\t\t\t\t\tconsole.error('åˆ†äº«å¤±è´¥:', err)\n\t\t\t\t\t\t\t// é™çº§åˆ°æ˜¾ç¤ºæ–‡ä»¶è·¯å¾„\n\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\ttitle: 'å¯¼å‡ºæˆåŠŸ',\n\t\t\t\t\t\t\t\tcontent: `æ–‡ä»¶å·²ä¿å­˜è‡³ï¼š\\n${filePath}\\n\\nå…±${recordCount}æ¡è®°å½•`,\n\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\tconfirmText: 'çŸ¥é“äº†'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\t// å…¶ä»–å¹³å°é™çº§å¤„ç†\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: 'å¯¼å‡ºæˆåŠŸ',\n\t\t\t\t\t\tcontent: `æ–‡ä»¶å·²ä¿å­˜è‡³ï¼š\\n${filePath}\\n\\nå…±${recordCount}æ¡è®°å½•`,\n\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\tconfirmText: 'çŸ¥é“äº†'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// ä¿å­˜åˆ°å¤–éƒ¨å…¬å…±å­˜å‚¨ï¼ˆå…¼å®¹Android 10+ï¼‰\n\t\t\tsaveToDCIM(csvContent, recordCount, fileName) {\n\t\t\t\tconsole.log('=== å¼€å§‹ä¿å­˜åˆ°å¤–éƒ¨å…¬å…±å­˜å‚¨ ===')\n\t\t\t\tconsole.log('æ–‡ä»¶å:', fileName)\n\t\t\t\tconsole.log('è®°å½•æ•°é‡:', recordCount)\n\t\t\t\t\n\t\t\t\t// é¦–å…ˆæ£€æŸ¥å­˜å‚¨æƒé™\n\t\t\t\tthis.checkStoragePermission().then(() => {\n\t\t\t\t\t// ç›´æ¥ä½¿ç”¨ Android åŸç”Ÿ API æ“ä½œçœŸæ­£çš„å…¬å…±ç›®å½•\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst Environment = plus.android.importClass('android.os.Environment')\n\t\t\t\t\t\tconst File = plus.android.importClass('java.io.File')\n\t\t\t\t\t\tconst FileOutputStream = plus.android.importClass('java.io.FileOutputStream')\n\t\t\t\t\t\tconst OutputStreamWriter = plus.android.importClass('java.io.OutputStreamWriter')\n\t\t\t\t\t\t\n\t\t\t\t\t\t// æ£€æŸ¥å¤–éƒ¨å­˜å‚¨æ˜¯å¦å¯ç”¨\n\t\t\t\t\t\tconst state = Environment.getExternalStorageState()\n\t\t\t\t\t\tif (state !== Environment.MEDIA_MOUNTED) {\n\t\t\t\t\t\t\tthrow new Error('å¤–éƒ¨å­˜å‚¨ä¸å¯ç”¨')\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// è·å–å…¬å…±ä¸‹è½½ç›®å½• - è¿™æ˜¯çœŸæ­£çš„å…¬å…±ç›®å½•\n\t\t\t\t\t\tlet publicDownloadsDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)\n\t\t\t\t\t\t\n\t\t\t\t\t\t// æ£€æŸ¥æ˜¯å¦æˆåŠŸè·å–ä¸‹è½½ç›®å½•\n\t\t\t\t\t\tif (publicDownloadsDir === null || publicDownloadsDir === undefined) {\n\t\t\t\t\t\t\t// å°è¯•å¤‡ç”¨æ–¹æ¡ˆï¼šæ‰‹åŠ¨æ„å»ºä¸‹è½½ç›®å½•è·¯å¾„\n\t\t\t\t\t\t\tconst externalStorageDir = Environment.getExternalStorageDirectory()\n\t\t\t\t\t\t\tif (externalStorageDir !== null) {\n\t\t\t\t\t\t\t\tpublicDownloadsDir = new File(externalStorageDir, 'Download')\n\t\t\t\t\t\t\t\tconsole.log('ä½¿ç”¨å¤‡ç”¨ä¸‹è½½ç›®å½•è·¯å¾„:', publicDownloadsDir.getAbsolutePath())\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthrow new Error('æ— æ³•è·å–ä»»ä½•å¤–éƒ¨å­˜å‚¨ç›®å½•ï¼Œè®¾å¤‡å¯èƒ½ä¸æ”¯æŒ')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log('å…¬å…±ä¸‹è½½ç›®å½•:', publicDownloadsDir.getAbsolutePath())\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// æ£€æŸ¥ç›®å½•æ˜¯å¦å­˜åœ¨å’Œå¯å†™\n\t\t\t\t\t\tif (!publicDownloadsDir.exists()) {\n\t\t\t\t\t\t\t// å°è¯•åˆ›å»ºä¸‹è½½ç›®å½•\n\t\t\t\t\t\t\tconst created = publicDownloadsDir.mkdirs()\n\t\t\t\t\t\t\tif (!created) {\n\t\t\t\t\t\t\t\tthrow new Error('ä¸‹è½½ç›®å½•ä¸å­˜åœ¨ä¸”æ— æ³•åˆ›å»º')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (!publicDownloadsDir.canWrite()) {\n\t\t\t\t\t\t\tthrow new Error('ä¸‹è½½ç›®å½•ä¸å¯å†™ï¼Œè¯·æ£€æŸ¥æƒé™')\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// åˆ›å»º AccountData å­ç›®å½•\n\t\t\t\t\t\tconst accountDataDir = new File(publicDownloadsDir, 'AccountData')\n\t\t\t\t\t\tif (!accountDataDir.exists()) {\n\t\t\t\t\t\t\tconst created = accountDataDir.mkdirs()\n\t\t\t\t\t\t\tconsole.log('åˆ›å»ºAccountDataç›®å½•ç»“æœ:', created)\n\t\t\t\t\t\t\tif (!created) {\n\t\t\t\t\t\t\t\tthrow new Error('æ— æ³•åˆ›å»ºAccountDataç›®å½•')\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// åˆ›å»ºæ–‡ä»¶\n\t\t\t\t\t\tconst csvFile = new File(accountDataDir, fileName)\n\t\t\t\t\t\tconst absolutePath = csvFile.getAbsolutePath()\n\t\t\t\t\t\tconsole.log('ç›®æ ‡æ–‡ä»¶å®Œæ•´è·¯å¾„:', absolutePath)\n\t\t\t\t\t\t\n\t\t\t\t\t\t// æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å¯ä»¥åˆ›å»º\n\t\t\t\t\t\tif (csvFile.exists()) {\n\t\t\t\t\t\t\tcsvFile.delete() // åˆ é™¤å·²å­˜åœ¨çš„æ–‡ä»¶\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// å†™å…¥æ–‡ä»¶å†…å®¹\n\t\t\t\t\t\tconst fos = new FileOutputStream(csvFile)\n\t\t\t\t\t\tconst writer = new OutputStreamWriter(fos, 'UTF-8')\n\t\t\t\t\t\t\n\t\t\t\t\t\t// æ·»åŠ  BOM ç”¨äºæ­£ç¡®çš„ UTF-8 ç¼–ç \n\t\t\t\t\t\tconst bom = '\\ufeff'\n\t\t\t\t\t\tconst fullContent = bom + csvContent\n\t\t\t\t\t\t\n\t\t\t\t\t\twriter.write(fullContent)\n\t\t\t\t\t\twriter.flush()\n\t\t\t\t\t\twriter.close()\n\t\t\t\t\t\tfos.close()\n\t\t\t\t\t\t\n\t\t\t\t\t\t// è·å–æ–‡ä»¶å¤§å°\n\t\t\t\t\t\tconst fileSize = csvFile.length()\n\t\t\t\t\t\t\n\t\t\t\t\t\tconsole.log('æ–‡ä»¶å†™å…¥å®Œæˆï¼Œå¤§å°:', fileSize)\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: 'å¯¼å‡ºæˆåŠŸ',\n\t\t\t\t\t\t\tcontent: `æ–‡ä»¶å·²ä¿å­˜åˆ°çœŸæ­£çš„å…¬å…±ä¸‹è½½ç›®å½•ï¼š\\n\\n${absolutePath}\\n\\nå…±${recordCount}æ¡è®°å½•\\næ–‡ä»¶å¤§å°ï¼š${fileSize}å­—èŠ‚\\n\\nç°åœ¨å¯ä»¥é€šè¿‡ä»»ä½•æ–‡ä»¶ç®¡ç†å™¨åœ¨\"ä¸‹è½½\"æ–‡ä»¶å¤¹çš„\"AccountData\"å­ç›®å½•ä¸­æ‰¾åˆ°è¯¥æ–‡ä»¶`,\n\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\tconfirmText: 'çŸ¥é“äº†'\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.error('åŸç”Ÿæ–‡ä»¶æ“ä½œå¤±è´¥:', error)\n\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\ttitle: 'ä¿å­˜å¤±è´¥',\n\t\t\t\t\t\t\tcontent: `æ— æ³•ä¿å­˜åˆ°å…¬å…±ç›®å½•ï¼š${error.message}\\n\\nå°†å°è¯•å…¶ä»–æ–¹å¼ä¿å­˜`,\n\t\t\t\t\t\t\tshowCancel: true,\n\t\t\t\t\t\t\tconfirmText: 'å°è¯•å…¶ä»–æ–¹å¼',\n\t\t\t\t\t\t\tcancelText: 'å–æ¶ˆ',\n\t\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t\t// é™çº§å¤„ç†\n\t\t\t\t\t\t\t\t\tthis.fallbackToPublicDownloads(csvContent, recordCount, fileName)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}).catch((err) => {\n\t\t\t\t\tconsole.error('å­˜å‚¨æƒé™æ£€æŸ¥å¤±è´¥:', err)\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: 'æƒé™ä¸è¶³',\n\t\t\t\t\t\tcontent: 'éœ€è¦å­˜å‚¨æƒé™æ‰èƒ½ä¿å­˜åˆ°å…¬å…±ç›®å½•ã€‚è¯·åœ¨åº”ç”¨è®¾ç½®ä¸­æˆäºˆå­˜å‚¨æƒé™ã€‚',\n\t\t\t\t\t\tshowCancel: true,\n\t\t\t\t\t\tconfirmText: 'å»è®¾ç½®',\n\t\t\t\t\t\tcancelText: 'å–æ¶ˆ',\n\t\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t\t// æ‰“å¼€åº”ç”¨è®¾ç½®é¡µé¢\n\t\t\t\t\t\t\t\tconst Intent = plus.android.importClass('android.content.Intent')\n\t\t\t\t\t\t\t\tconst Settings = plus.android.importClass('android.provider.Settings')\n\t\t\t\t\t\t\t\tconst Uri = plus.android.importClass('android.net.Uri')\n\t\t\t\t\t\t\t\tconst main = plus.android.runtimeMainActivity()\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tconst intent = new Intent(Settings.ACTION_APPLICATION_DETAILS_SETTINGS)\n\t\t\t\t\t\t\t\tconst uri = Uri.fromParts('package', main.getPackageName(), null)\n\t\t\t\t\t\t\t\tintent.setData(uri)\n\t\t\t\t\t\t\t\tmain.startActivity(intent)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// æ£€æŸ¥å­˜å‚¨æƒé™\n\t\t\tcheckStoragePermission() {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\tconst Context = plus.android.importClass('android.content.Context')\n\t\t\t\t\tconst PackageManager = plus.android.importClass('android.content.pm.PackageManager')\n\t\t\t\t\tconst Manifest = plus.android.importClass('android.Manifest')\n\t\t\t\t\tconst main = plus.android.runtimeMainActivity()\n\t\t\t\t\t\n\t\t\t\t\t// æ£€æŸ¥å†™å…¥å¤–éƒ¨å­˜å‚¨æƒé™\n\t\t\t\t\tconst writePermission = main.checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE)\n\t\t\t\t\tconst readPermission = main.checkSelfPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\n\t\t\t\t\t\n\t\t\t\t\tif (writePermission === PackageManager.PERMISSION_GRANTED && \n\t\t\t\t\t\treadPermission === PackageManager.PERMISSION_GRANTED) {\n\t\t\t\t\t\tconsole.log('å­˜å‚¨æƒé™å·²æˆäºˆ')\n\t\t\t\t\t\tresolve()\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('å­˜å‚¨æƒé™æœªæˆäºˆï¼Œå°è¯•è¯·æ±‚æƒé™')\n\t\t\t\t\t\t// è¯·æ±‚æƒé™\n\t\t\t\t\t\tconst ActivityCompat = plus.android.importClass('androidx.core.app.ActivityCompat')\n\t\t\t\t\t\tActivityCompat.requestPermissions(main, [\n\t\t\t\t\t\t\tManifest.permission.WRITE_EXTERNAL_STORAGE,\n\t\t\t\t\t\t\tManifest.permission.READ_EXTERNAL_STORAGE\n\t\t\t\t\t\t], 1001)\n\t\t\t\t\t\t\n\t\t\t\t\t\t// ç­‰å¾…ç”¨æˆ·æˆæƒç»“æœ\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tconst newWritePermission = main.checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE)\n\t\t\t\t\t\t\tconst newReadPermission = main.checkSelfPermission(Manifest.permission.READ_EXTERNAL_STORAGE)\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif (newWritePermission === PackageManager.PERMISSION_GRANTED && \n\t\t\t\t\t\t\t\tnewReadPermission === PackageManager.PERMISSION_GRANTED) {\n\t\t\t\t\t\t\t\tresolve()\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treject(new Error('ç”¨æˆ·æœªæˆäºˆå­˜å‚¨æƒé™'))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 2000)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// åˆ›å»ºå…¬å…±ç›®å½•\n\t\t\tcreatePublicDirectory(targetPath, fileName, csvContent, recordCount) {\n\t\t\t\tconsole.log('å¼€å§‹åˆ›å»ºå…¬å…±ç›®å½•:', targetPath)\n\t\t\t\t\n\t\t\t\t// ä½¿ç”¨ Android åŸç”Ÿæ–‡ä»¶æ“ä½œæ¥åˆ›å»ºçœŸæ­£çš„å…¬å…±ç›®å½•\n\t\t\t\ttry {\n\t\t\t\t\tconst Environment = plus.android.importClass('android.os.Environment')\n\t\t\t\t\tconst File = plus.android.importClass('java.io.File')\n\t\t\t\t\tconst FileOutputStream = plus.android.importClass('java.io.FileOutputStream')\n\t\t\t\t\tconst OutputStreamWriter = plus.android.importClass('java.io.OutputStreamWriter')\n\t\t\t\t\t\n\t\t\t\t\t// è·å–å…¬å…±ä¸‹è½½ç›®å½•\n\t\t\t\t\tlet publicDownloadsDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)\n\t\t\t\t\t\n\t\t\t\t\t// æ£€æŸ¥æ˜¯å¦æˆåŠŸè·å–ä¸‹è½½ç›®å½•\n\t\t\t\t\tif (publicDownloadsDir === null || publicDownloadsDir === undefined) {\n\t\t\t\t\t\t// å°è¯•å¤‡ç”¨æ–¹æ¡ˆï¼šæ‰‹åŠ¨æ„å»ºä¸‹è½½ç›®å½•è·¯å¾„\n\t\t\t\t\t\tconst externalStorageDir = Environment.getExternalStorageDirectory()\n\t\t\t\t\t\tif (externalStorageDir !== null) {\n\t\t\t\t\t\t\tpublicDownloadsDir = new File(externalStorageDir, 'Download')\n\t\t\t\t\t\t\tconsole.log('ä½¿ç”¨å¤‡ç”¨ä¸‹è½½ç›®å½•è·¯å¾„:', publicDownloadsDir.getAbsolutePath())\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthrow new Error('æ— æ³•è·å–ä»»ä½•å¤–éƒ¨å­˜å‚¨ç›®å½•')\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('å…¬å…±ä¸‹è½½ç›®å½•:', publicDownloadsDir.getAbsolutePath())\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// åˆ›å»º AccountData å­ç›®å½•\n\t\t\t\t\tconst accountDataDir = new File(publicDownloadsDir, 'AccountData')\n\t\t\t\t\tif (!accountDataDir.exists()) {\n\t\t\t\t\t\tconst created = accountDataDir.mkdirs()\n\t\t\t\t\t\tconsole.log('åˆ›å»ºAccountDataç›®å½•:', created)\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// åˆ›å»ºæ–‡ä»¶\n\t\t\t\t\tconst csvFile = new File(accountDataDir, fileName)\n\t\t\t\t\tconsole.log('ç›®æ ‡æ–‡ä»¶è·¯å¾„:', csvFile.getAbsolutePath())\n\t\t\t\t\t\n\t\t\t\t\t// å†™å…¥æ–‡ä»¶å†…å®¹\n\t\t\t\t\tconst fos = new FileOutputStream(csvFile)\n\t\t\t\t\tconst writer = new OutputStreamWriter(fos, 'UTF-8')\n\t\t\t\t\t\n\t\t\t\t\t// æ·»åŠ  BOM ç”¨äºæ­£ç¡®çš„ UTF-8 ç¼–ç \n\t\t\t\t\tconst bom = '\\ufeff'\n\t\t\t\t\tconst fullContent = bom + csvContent\n\t\t\t\t\t\n\t\t\t\t\twriter.write(fullContent)\n\t\t\t\t\twriter.flush()\n\t\t\t\t\twriter.close()\n\t\t\t\t\tfos.close()\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('æ–‡ä»¶å†™å…¥å®Œæˆ')\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\ttitle: 'å¯¼å‡ºæˆåŠŸ',\n\t\t\t\t\t\tcontent: `æ–‡ä»¶å·²ä¿å­˜åˆ°çœŸæ­£çš„å…¬å…±ä¸‹è½½ç›®å½•ï¼š\\n${csvFile.getAbsolutePath()}\\n\\nå…±${recordCount}æ¡è®°å½•\\n\\nå¯é€šè¿‡ä»»ä½•æ–‡ä»¶ç®¡ç†å™¨åœ¨\"ä¸‹è½½\"æ–‡ä»¶å¤¹çš„\"AccountData\"å­ç›®å½•ä¸­æ‰¾åˆ°è¯¥æ–‡ä»¶`,\n\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\tconfirmText: 'çŸ¥é“äº†'\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('åŸç”Ÿæ–‡ä»¶æ“ä½œå¤±è´¥:', error)\n\t\t\t\t\t// é™çº§å¤„ç†\n\t\t\t\t\tthis.fallbackToPublicDownloads(csvContent, recordCount, fileName)\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// é™çº§åˆ° plus.io.PUBLIC_DOWNLOADS\n\t\t\tfallbackToPublicDownloads(csvContent, recordCount, fileName) {\n\t\t\t\tconsole.log('é™çº§ä½¿ç”¨ plus.io.PUBLIC_DOWNLOADS')\n\t\t\t\t\n\t\t\t\t// ä½¿ç”¨plus.io.PUBLIC_DOWNLOADSï¼Œè¿™æ˜¯Android 10+æ¨èçš„å…¬å…±ç›®å½•\n\t\t\t\tplus.io.requestFileSystem(plus.io.PUBLIC_DOWNLOADS, (fs) => {\n\t\t\t\t\tconsole.log('è·å–å…¬å…±ä¸‹è½½ç›®å½•æ–‡ä»¶ç³»ç»ŸæˆåŠŸ')\n\t\t\t\t\t\n\t\t\t\t\t// åœ¨ä¸‹è½½ç›®å½•åˆ›å»ºAccountDataå­ç›®å½•\n\t\t\t\t\tfs.root.getDirectory('AccountData', {create: true}, (accountDataEntry) => {\n\t\t\t\t\t\tconsole.log('åˆ›å»ºAccountDataç›®å½•æˆåŠŸ:', accountDataEntry.fullPath)\n\t\t\t\t\t\t\n\t\t\t\t\t\taccountDataEntry.getFile(fileName, {create: true}, (fileEntry) => {\n\t\t\t\t\t\t\tconsole.log('åˆ›å»ºæ–‡ä»¶æˆåŠŸ:', fileEntry.fullPath)\n\t\t\t\t\t\t\tfileEntry.createWriter((writer) => {\n\t\t\t\t\t\t\t\tconsole.log('åˆ›å»ºå†™å…¥å™¨æˆåŠŸ')\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\twriter.onwrite = (e) => {\n\t\t\t\t\t\t\t\t\tconsole.log('æ–‡ä»¶å†™å…¥å®Œæˆ')\n\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\ttitle: 'å¯¼å‡ºæˆåŠŸ',\n\t\t\t\t\t\t\t\t\t\tcontent: `æ–‡ä»¶å·²ä¿å­˜åˆ°ï¼š\\n${fileEntry.fullPath}\\n\\nå…±${recordCount}æ¡è®°å½•\\næ–‡ä»¶å¤§å°ï¼š${writer.length}å­—èŠ‚\\n\\nè¯·é€šè¿‡æ–‡ä»¶ç®¡ç†å™¨æŸ¥çœ‹ï¼Œè·¯å¾„å¯èƒ½åœ¨ï¼š\\nâ€¢ /storage/emulated/0/Download/AccountData/\\nâ€¢ æˆ–åº”ç”¨ç§æœ‰ç›®å½•ä¸­`,\n\t\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\t\tconfirmText: 'çŸ¥é“äº†'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\twriter.onerror = (err) => {\n\t\t\t\t\t\t\t\t\tconsole.error('å†™å…¥å¤±è´¥:', err)\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: 'æ–‡ä»¶å†™å…¥å¤±è´¥',\n\t\t\t\t\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// åˆ›å»ºå¸¦BOMçš„UTF-8 CSVå†…å®¹\n\t\t\t\t\t\t\t\tconst bom = '\\ufeff'\n\t\t\t\t\t\t\t\tconst fullContent = bom + csvContent\n\t\t\t\t\t\t\t\tconsole.log('å¼€å§‹å†™å…¥æ•°æ®...')\n\t\t\t\t\t\t\t\twriter.write(fullContent)\n\t\t\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\t\t\tconsole.error('åˆ›å»ºå†™å…¥å™¨å¤±è´¥:', err)\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: 'åˆ›å»ºå†™å…¥å™¨å¤±è´¥',\n\t\t\t\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\t\tconsole.error('åˆ›å»ºæ–‡ä»¶å¤±è´¥:', err)\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: 'åˆ›å»ºæ–‡ä»¶å¤±è´¥',\n\t\t\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t})\n\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\tconsole.error('åˆ›å»ºAccountDataç›®å½•å¤±è´¥:', err)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'åˆ›å»ºç›®å½•å¤±è´¥',\n\t\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t}, (err) => {\n\t\t\t\t\tconsole.error('è·å–å…¬å…±å­˜å‚¨å¤±è´¥:', err)\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'è·å–å…¬å…±å­˜å‚¨å¤±è´¥',\n\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// å†™å…¥æ–‡ä»¶åˆ°æŒ‡å®šçš„ç›®å½•æ¡ç›®\n\t\t\twriteFileToEntry(dirEntry, fileName, csvContent, recordCount, targetPath) {\n\t\t\t\tdirEntry.getFile(fileName, {create: true}, (fileEntry) => {\n\t\t\t\t\tconsole.log('åˆ›å»ºæ–‡ä»¶æˆåŠŸ:', fileEntry.fullPath)\n\t\t\t\t\tfileEntry.createWriter((writer) => {\n\t\t\t\t\t\tconsole.log('åˆ›å»ºå†™å…¥å™¨æˆåŠŸ')\n\t\t\t\t\t\t\n\t\t\t\t\t\twriter.onwrite = (e) => {\n\t\t\t\t\t\t\tconsole.log('æ–‡ä»¶å†™å…¥å®Œæˆ')\n\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\ttitle: 'å¯¼å‡ºæˆåŠŸ',\n\t\t\t\t\t\t\t\tcontent: `æ–‡ä»¶å·²ä¿å­˜åˆ°çœŸå®å…¬å…±ç›®å½•ï¼š\\n${targetPath}${fileName}\\n\\nå…±${recordCount}æ¡è®°å½•\\næ–‡ä»¶å¤§å°ï¼š${writer.length}å­—èŠ‚\\n\\nå¯é€šè¿‡æ–‡ä»¶ç®¡ç†å™¨çš„\"ä¸‹è½½\"ç›®å½• > \"AccountData\"æ–‡ä»¶å¤¹æŸ¥çœ‹`,\n\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\tconfirmText: 'çŸ¥é“äº†'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\twriter.onerror = (err) => {\n\t\t\t\t\t\t\tconsole.error('å†™å…¥å¤±è´¥:', err)\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ttitle: 'æ–‡ä»¶å†™å…¥å¤±è´¥',\n\t\t\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\t// åˆ›å»ºå¸¦BOMçš„UTF-8 CSVå†…å®¹\n\t\t\t\t\t\tconst bom = '\\ufeff'\n\t\t\t\t\t\tconst fullContent = bom + csvContent\n\t\t\t\t\t\tconsole.log('å¼€å§‹å†™å…¥æ•°æ®...')\n\t\t\t\t\t\twriter.write(fullContent)\n\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\tconsole.error('åˆ›å»ºå†™å…¥å™¨å¤±è´¥:', err)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: 'åˆ›å»ºå†™å…¥å™¨å¤±è´¥',\n\t\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t}, (err) => {\n\t\t\t\t\tconsole.error('åˆ›å»ºæ–‡ä»¶å¤±è´¥:', err)\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: 'åˆ›å»ºæ–‡ä»¶å¤±è´¥',\n\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t},\n\t\t\t\n\t\t\t// ä¿å­˜åˆ°åº”ç”¨å¤–éƒ¨å­˜å‚¨ç›®å½•ï¼ˆå…¼å®¹Android 10+ï¼‰\n\t\t\tsaveToPublicDocuments(csvContent, recordCount, fileName) {\n\t\t\t\tconsole.log('=== å¼€å§‹ä¿å­˜åˆ°åº”ç”¨å¤–éƒ¨å­˜å‚¨ ===')\n\t\t\t\tconsole.log('æ–‡ä»¶å:', fileName)\n\t\t\t\tconsole.log('è®°å½•æ•°é‡:', recordCount)\n\t\t\t\t\n\t\t\t\t// ä½¿ç”¨åº”ç”¨çš„å¤–éƒ¨å­˜å‚¨ç›®å½•ï¼Œè¿™åœ¨Android 10+ä¸­æ˜¯å…è®¸çš„\n\t\t\t\tplus.io.requestFileSystem(plus.io.PRIVATE_WWW, (fs) => {\n\t\t\t\t\tconsole.log('è·å–åº”ç”¨å­˜å‚¨æˆåŠŸï¼Œå°è¯•è®¿é—®å¤–éƒ¨ç›®å½•')\n\t\t\t\t\t\n\t\t\t\t\t// è·å–åº”ç”¨çš„å¤–éƒ¨æ–‡ä»¶ç›®å½•\n\t\t\t\t\tconst externalPath = plus.io.convertLocalFileSystemURL(\"_documents/\")\n\t\t\t\t\tconsole.log('å¤–éƒ¨è·¯å¾„:', externalPath)\n\t\t\t\t\t\n\t\t\t\t\tplus.io.resolveLocalFileSystemURL(externalPath, (entry) => {\n\t\t\t\t\t\tconsole.log('è§£æå¤–éƒ¨è·¯å¾„æˆåŠŸ:', entry.fullPath)\n\t\t\t\t\t\t\n\t\t\t\t\t\tentry.getFile(fileName, {create: true}, (fileEntry) => {\n\t\t\t\t\t\t\tconsole.log('åˆ›å»ºæ–‡ä»¶æˆåŠŸ:', fileEntry.fullPath)\n\t\t\t\t\t\t\tfileEntry.createWriter((writer) => {\n\t\t\t\t\t\t\t\tconsole.log('åˆ›å»ºå†™å…¥å™¨æˆåŠŸ')\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\twriter.onwrite = (e) => {\n\t\t\t\t\t\t\t\t\tconsole.log('æ–‡ä»¶å†™å…¥å®Œæˆ')\n\t\t\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\t\t\ttitle: 'å¯¼å‡ºæˆåŠŸ',\n\t\t\t\t\t\t\t\t\t\tcontent: `æ–‡ä»¶å·²ä¿å­˜åˆ°åº”ç”¨æ–‡æ¡£ç›®å½•ï¼š\\n${fileName}\\n\\nå…±${recordCount}æ¡è®°å½•\\næ–‡ä»¶å¤§å°ï¼š${writer.length}å­—èŠ‚\\n\\nå¯é€šè¿‡æ–‡ä»¶ç®¡ç†å™¨çš„åº”ç”¨æ–‡æ¡£ç›®å½•è®¿é—®`,\n\t\t\t\t\t\t\t\t\t\tshowCancel: false,\n\t\t\t\t\t\t\t\t\t\tconfirmText: 'çŸ¥é“äº†'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\twriter.onerror = (err) => {\n\t\t\t\t\t\t\t\t\tconsole.error('å†™å…¥å¤±è´¥:', err)\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: 'æ–‡ä»¶å†™å…¥å¤±è´¥',\n\t\t\t\t\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t// åˆ›å»ºå¸¦BOMçš„UTF-8 CSVå†…å®¹\n\t\t\t\t\t\t\t\tconst bom = '\\ufeff'\n\t\t\t\t\t\t\t\tconst fullContent = bom + csvContent\n\t\t\t\t\t\t\t\tconsole.log('å¼€å§‹å†™å…¥æ•°æ®...')\n\t\t\t\t\t\t\t\twriter.write(fullContent)\n\t\t\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\t\t\tconsole.error('åˆ›å»ºå†™å…¥å™¨å¤±è´¥:', err)\n\t\t\t\t\t\t\t\t// å¦‚æœå¤–éƒ¨å­˜å‚¨å¤±è´¥ï¼Œå›é€€åˆ°ç§æœ‰æ–‡æ¡£ç›®å½•\n\t\t\t\t\t\t\t\tthis.saveToDocuments(csvContent, recordCount, fileName)\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\t\tconsole.error('åˆ›å»ºæ–‡ä»¶å¤±è´¥:', err)\n\t\t\t\t\t\t\t// å›é€€åˆ°ç§æœ‰æ–‡æ¡£ç›®å½•\n\t\t\t\t\t\t\tthis.saveToDocuments(csvContent, recordCount, fileName)\n\t\t\t\t\t\t})\n\t\t\t\t\t}, (err) => {\n\t\t\t\t\t\tconsole.error('è§£æå¤–éƒ¨è·¯å¾„å¤±è´¥:', err)\n\t\t\t\t\t\t// å›é€€åˆ°ç§æœ‰æ–‡æ¡£ç›®å½•\n\t\t\t\t\t\tthis.saveToDocuments(csvContent, recordCount, fileName)\n\t\t\t\t\t})\n\t\t\t\t}, (err) => {\n\t\t\t\t\tconsole.error('è·å–åº”ç”¨å­˜å‚¨å¤±è´¥:', err)\n\t\t\t\t\t// å›é€€åˆ°ç§æœ‰æ–‡æ¡£ç›®å½•\n\t\t\t\t\tthis.saveToDocuments(csvContent, recordCount, fileName)\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t.container {\n\t\tbackground-color: #f5f5f5;\n\t\tmin-height: 100vh;\n\t\tpadding: 0 0 40rpx 0;\n\t}\n\t\n\t/* ç”¨æˆ·ä¿¡æ¯åŒºåŸŸ */\n\t.user-info {\n\t\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\t\tpadding: 40rpx 30rpx 60rpx;\n\t\tposition: relative;\n\t\tborder-radius: 0 0 40rpx 40rpx;\n\t}\n\t\n\t.avatar-section {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tcolor: white;\n\t}\n\t\n\t.avatar {\n\t\twidth: 120rpx;\n\t\theight: 120rpx;\n\t\tborder-radius: 60rpx;\n\t\tborder: 4rpx solid rgba(255, 255, 255, 0.3);\n\t\tmargin-bottom: 20rpx;\n\t}\n\t\n\t.username {\n\t\tfont-size: 36rpx;\n\t\tfont-weight: bold;\n\t\tmargin-bottom: 10rpx;\n\t}\n\t\n\t.user-desc {\n\t\tfont-size: 28rpx;\n\t\topacity: 0.8;\n\t}\n\t\n\t/* æ•°æ®ç®¡ç†åŒºåŸŸ */\n\t.data-management {\n\t\tbackground: white;\n\t\tmargin: 30rpx 30rpx 40rpx;\n\t\tborder-radius: 20rpx;\n\t\toverflow: hidden;\n\t\tbox-shadow: 0 2rpx 20rpx rgba(0, 0, 0, 0.08);\n\t}\n\t\n\t.management-title {\n\t\tdisplay: block;\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t\tpadding: 30rpx 30rpx 20rpx;\n\t\tborder-bottom: 1rpx solid #f0f0f0;\n\t}\n\t\n\t.management-item {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tpadding: 30rpx;\n\t\tborder-bottom: 1rpx solid #f8f8f8;\n\t\ttransition: background-color 0.2s;\n\t}\n\t\n\t.management-item:last-child {\n\t\tborder-bottom: none;\n\t}\n\t\n\t.management-item:active {\n\t\tbackground-color: #f8f8f8;\n\t}\n\t\n\t.management-left {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\t\n\t.management-icon {\n\t\tfont-size: 36rpx;\n\t\tmargin-right: 20rpx;\n\t\twidth: 50rpx;\n\t\ttext-align: center;\n\t}\n\t\n\t.management-text {\n\t\tfont-size: 30rpx;\n\t\tcolor: #333;\n\t}\n\t\n\t.management-arrow {\n\t\tfont-size: 28rpx;\n\t\tcolor: #999;\n\t}\n\t\n\t/* ç‰¹æ®Šé¡¹ç›®æ ·å¼ */\n\t.ai-chat-item .management-icon {\n\t\tbackground: linear-gradient(45deg, #FF6B6B, #FF8E53);\n\t\tborder-radius: 50%;\n\t\tcolor: white;\n\t\tline-height: 1;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\twidth: 50rpx;\n\t\theight: 50rpx;\n\t}\n\t\n\t.ai-config-item .management-icon {\n\t\tbackground: linear-gradient(45deg, #4ECDC4, #44A08D);\n\t\tborder-radius: 50%;\n\t\tcolor: white;\n\t\tline-height: 1;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\twidth: 50rpx;\n\t\theight: 50rpx;\n\t}\n\t\n\t.danger-item .management-text {\n\t\tcolor: #ff4d4f;\n\t}\n\t\n\t.danger-item .management-icon {\n\t\tcolor: #ff4d4f;\n\t}\n\t\n\t/* åº”ç”¨ä¿¡æ¯åŒºåŸŸ */\n\t.app-info {\n\t\tbackground: white;\n\t\tmargin: 0 30rpx 40rpx;\n\t\tborder-radius: 20rpx;\n\t\toverflow: hidden;\n\t\tbox-shadow: 0 2rpx 20rpx rgba(0, 0, 0, 0.08);\n\t}\n\t\n\t.info-title {\n\t\tdisplay: block;\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t\tpadding: 30rpx 30rpx 20rpx;\n\t\tborder-bottom: 1rpx solid #f0f0f0;\n\t}\n\t\n\t.info-item {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 25rpx 30rpx;\n\t\tborder-bottom: 1rpx solid #f8f8f8;\n\t}\n\t\n\t.info-item:last-child {\n\t\tborder-bottom: none;\n\t}\n\t\n\t.info-label {\n\t\tfont-size: 28rpx;\n\t\tcolor: #666;\n\t}\n\t\n\t.info-value {\n\t\tfont-size: 28rpx;\n\t\tcolor: #333;\n\t\tfont-weight: 500;\n\t}\n\t\n\t/* å“åº”å¼é€‚é… */\n\t@media (max-width: 750rpx) {\n\t\t.container {\n\t\t\tpadding: 0;\n\t\t}\n\t\t\n\t\t.data-management,\n\t\t.app-info {\n\t\t\tmargin-left: 20rpx;\n\t\t\tmargin-right: 20rpx;\n\t\t}\n\t}\n</style>\n","import MiniProgramPage from 'D:/simple-account-v1.0.4/pages/profile/profile.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","wx"],"mappings":"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"}