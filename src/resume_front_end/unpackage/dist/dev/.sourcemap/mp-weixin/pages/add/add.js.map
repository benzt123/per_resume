{"version":3,"file":"add.js","sources":["pages/add/add.vue","../Edgedownload/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvYWRkL2FkZC52dWU"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<!-- 页面标题 -->\n\t\t<view class=\"page-header\">\n\t\t\t<text class=\"page-title\">{{isEditMode ? '编辑记录' : '记一笔'}}</text>\n\t\t</view>\n\t\t\n\t\t<!-- 类型切换 -->\n\t\t<view class=\"type-tabs\">\n\t\t\t<view class=\"tab-item\" :class=\"{active: currentType == 'expense'}\" @click=\"switchType('expense')\">\n\t\t\t\t<text class=\"tab-text\">支出</text>\n\t\t\t</view>\n\t\t\t<view class=\"tab-item\" :class=\"{active: currentType == 'income'}\" @click=\"switchType('income')\">\n\t\t\t\t<text class=\"tab-text\">收入</text>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 金额输入 -->\n\t\t<view class=\"amount-section\">\n\t\t\t<text class=\"amount-symbol\">¥</text>\n\t\t\t<input class=\"amount-input\" \n\t\t\t\t   type=\"digit\" \n\t\t\t\t   v-model=\"amount\" \n\t\t\t\t   placeholder=\"0.00\" \n\t\t\t\t   @input=\"onAmountInput\"/>\n\t\t</view>\n\t\t\n\t\t<!-- 分类选择 -->\n\t\t<view class=\"category-section\">\n\t\t\t<text class=\"section-title\">选择分类</text>\n\t\t\t<view class=\"category-grid\">\n\t\t\t\t<view v-for=\"category in currentCategories\" \n\t\t\t\t\t  :key=\"category.id\" \n\t\t\t\t\t  class=\"category-item\" \n\t\t\t\t\t  :class=\"{active: selectedCategory && selectedCategory.id == category.id}\"\n\t\t\t\t\t  @click=\"selectCategory(category)\">\n\t\t\t\t\t<text class=\"category-icon\">{{category.icon}}</text>\n\t\t\t\t\t<text class=\"category-name\">{{category.name}}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 时间选择 -->\n\t\t<view class=\"time-section\">\n\t\t\t<text class=\"section-title\">时间</text>\n\t\t\t<view class=\"time-container\">\n\t\t\t\t<!-- 日期选择 -->\n\t\t\t\t<picker class=\"date-picker\" mode=\"date\" :value=\"dateValue\" @change=\"onDateChange\" :start=\"getMinDate().split(' ')[0]\" :end=\"getMaxDate().split(' ')[0]\">\n\t\t\t\t\t<view class=\"time-picker\">\n\t\t\t\t\t\t<text class=\"time-text\">{{dateValue || '选择日期'}}</text>\n\t\t\t\t\t\t<text class=\"time-arrow\">📅</text>\n\t\t\t\t\t</view>\n\t\t\t\t</picker>\n\t\t\t\t\n\t\t\t\t<!-- 时间选择 -->\n\t\t\t\t<picker class=\"time-picker-only\" mode=\"time\" :value=\"timeValue\" @change=\"onTimeChange\">\n\t\t\t\t\t<view class=\"time-picker\">\n\t\t\t\t\t\t<text class=\"time-text\">{{timeValue || '选择时间'}}</text>\n\t\t\t\t\t\t<text class=\"time-arrow\">🕐</text>\n\t\t\t\t\t</view>\n\t\t\t\t</picker>\n\t\t\t</view>\n\t\t</view>\n\t\t\n\t\t<!-- 备注输入 -->\n\t\t<view class=\"note-section\">\n\t\t\t<text class=\"section-title\">备注</text>\n\t\t\t<textarea class=\"note-input\" \n\t\t\t\t\t  v-model=\"note\" \n\t\t\t\t\t  placeholder=\"添加备注信息（可选）\" \n\t\t\t\t\t  maxlength=\"100\"/>\n\t\t</view>\n\t\t\n\t\t<!-- 保存按钮 -->\n\t\t<view class=\"save-section\">\n\t\t\t<button class=\"save-btn\" @click=\"saveRecord\" :disabled=\"!canSave\">\n\t\t\t\t{{isEditMode ? '更新记录' : '保存记录'}}\n\t\t\t</button>\n\t\t</view>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tcurrentType: 'expense',\n\t\t\t\tamount: '',\n\t\t\t\tselectedCategory: null,\n\t\t\t\tdatetime: '',\n\t\t\t\tdateValue: '',\n\t\t\t\ttimeValue: '',\n\t\t\t\tnote: '',\n\t\t\t\texpenseCategories: [],\n\t\t\t\tincomeCategories: [],\n\t\t\t\tisEditMode: false, // 是否为编辑模式\n\t\t\t\teditingRecordId: null, // 正在编辑的记录ID\n\t\t\t\t// 金额计算工具函数，解决浮点数精度问题\n\t\t\t\tmoneyCalculator: {\n\t\t\t\t\t// 金额加法\n\t\t\t\t\tadd(a, b) {\n\t\t\t\t\t\tconst factor = 100\n\t\t\t\t\t\treturn Math.round((parseFloat(a) * factor + parseFloat(b) * factor)) / factor\n\t\t\t\t\t},\n\t\t\t\t\t\n\t\t\t\t\t// 金额减法\n\t\t\t\t\tsubtract(a, b) {\n\t\t\t\t\t\tconst factor = 100\n\t\t\t\t\t\treturn Math.round((parseFloat(a) * factor - parseFloat(b) * factor)) / factor\n\t\t\t\t\t},\n\t\t\t\t\t\n\t\t\t\t\t// 金额乘法\n\t\t\t\t\tmultiply(a, b) {\n\t\t\t\t\t\tconst factor = 100\n\t\t\t\t\t\treturn Math.round(parseFloat(a) * parseFloat(b) * factor) / factor\n\t\t\t\t\t},\n\t\t\t\t\t\n\t\t\t\t\t// 金额除法\n\t\t\t\t\tdivide(a, b) {\n\t\t\t\t\t\tif (parseFloat(b) === 0) return 0\n\t\t\t\t\t\tconst factor = 100\n\t\t\t\t\t\treturn Math.round((parseFloat(a) / parseFloat(b)) * factor) / factor\n\t\t\t\t\t},\n\t\t\t\t\t\n\t\t\t\t\t// 格式化金额，保留两位小数\n\t\t\t\t\tformat(amount) {\n\t\t\t\t\t\treturn parseFloat(amount).toFixed(2)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\n\t\tcomputed: {\n\t\t\tcurrentCategories() {\n\t\t\t\treturn this.currentType == 'expense' ? this.expenseCategories : this.incomeCategories\n\t\t\t},\n\t\t\t\n\t\t\tcanSave() {\n\t\t\t\treturn this.amount && parseFloat(this.amount) > 0 && this.selectedCategory\n\t\t\t}\n\t\t},\n\t\t\n\t\tonLoad(options) {\n\t\t\t// 加载分类数据\n\t\t\tthis.loadCategories()\n\t\t\t\n\t\t\t// 检查是否为编辑模式\n\t\t\tif (options && options.editId) {\n\t\t\t\tthis.isEditMode = true\n\t\t\t\tthis.editingRecordId = options.editId\n\t\t\t\t// 设置导航标题\n\t\t\t\tuni.setNavigationBarTitle({\n\t\t\t\t\ttitle: '编辑记录'\n\t\t\t\t})\n\t\t\t\tthis.loadEditRecord(options.editId)\n\t\t\t} else {\n\t\t\t\t// 新增模式：设置默认时间为当前时间\n\t\t\t\tuni.setNavigationBarTitle({\n\t\t\t\t\ttitle: '记一笔'\n\t\t\t\t})\n\t\t\t\tconst now = new Date()\n\t\t\t\tthis.dateValue = this.formatDateForPicker(now)\n\t\t\t\tthis.timeValue = this.formatTimeForPicker(now)\n\t\t\t\tthis.datetime = this.formatDatetimeForPicker(now)\n\t\t\t\tconsole.log('初始化日期:', this.dateValue, '时间:', this.timeValue)\n\t\t\t}\n\t\t\t\n\t\t\t// 处理预设分类参数（仅在新增模式下有效）\n\t\t\tif (!this.isEditMode && options && options.presetCategory) {\n\t\t\t\ttry {\n\t\t\t\t\tconst presetCategory = JSON.parse(decodeURIComponent(options.presetCategory))\n\t\t\t\t\tconsole.log('预设分类:', presetCategory)\n\t\t\t\t\t\n\t\t\t\t\t// 设置类型\n\t\t\t\t\tthis.currentType = presetCategory.type\n\t\t\t\t\t\n\t\t\t\t\t// 延迟设置分类，确保分类列表已经计算完成\n\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\tconst category = this.currentCategories.find(cat => cat.id == presetCategory.id)\n\t\t\t\t\t\tif (category) {\n\t\t\t\t\t\t\tthis.selectedCategory = category\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('解析预设分类参数失败:', error)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t\n\t\tmethods: {\n\t\t\t// 加载分类数据\n\t\t\tloadCategories() {\n\t\t\t\t// 默认分类数据\n\t\t\t\tconst defaultExpenseCategories = [\n\t\t\t\t\t{id: 1, name: '餐饮', icon: '🍽️'},\n\t\t\t\t\t{id: 2, name: '交通', icon: '🚗'},\n\t\t\t\t\t{id: 3, name: '购物', icon: '🛍️'},\n\t\t\t\t\t{id: 4, name: '娱乐', icon: '🎬'},\n\t\t\t\t\t{id: 5, name: '住房', icon: '🏠'},\n\t\t\t\t\t{id: 6, name: '医疗', icon: '💊'},\n\t\t\t\t\t{id: 7, name: '教育', icon: '📚'},\n\t\t\t\t\t{id: 8, name: '通讯', icon: '📱'},\n\t\t\t\t\t{id: 9, name: '服装', icon: '👕'},\n\t\t\t\t\t{id: 10, name: '其他', icon: '📦'}\n\t\t\t\t]\n\t\t\t\t\n\t\t\t\tconst defaultIncomeCategories = [\n\t\t\t\t\t{id: 11, name: '工资', icon: '💰'},\n\t\t\t\t\t{id: 12, name: '奖金', icon: '🎁'},\n\t\t\t\t\t{id: 13, name: '投资', icon: '📈'},\n\t\t\t\t\t{id: 14, name: '兼职', icon: '💼'},\n\t\t\t\t\t{id: 15, name: '红包', icon: '🧧'},\n\t\t\t\t\t{id: 16, name: '退款', icon: '↩️'},\n\t\t\t\t\t{id: 17, name: '其他', icon: '💎'}\n\t\t\t\t]\n\t\t\t\t\n\t\t\t\t// 从本地存储加载，如果没有则使用默认数据\n\t\t\t\tlet expenseCategories = uni.getStorageSync('expenseCategories')\n\t\t\t\tlet incomeCategories = uni.getStorageSync('incomeCategories')\n\t\t\t\t\n\t\t\t\tif (!expenseCategories || expenseCategories.length == 0) {\n\t\t\t\t\texpenseCategories = defaultExpenseCategories\n\t\t\t\t\tuni.setStorageSync('expenseCategories', expenseCategories)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (!incomeCategories || incomeCategories.length == 0) {\n\t\t\t\t\tincomeCategories = defaultIncomeCategories\n\t\t\t\t\tuni.setStorageSync('incomeCategories', incomeCategories)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tthis.expenseCategories = expenseCategories\n\t\t\t\tthis.incomeCategories = incomeCategories\n\t\t\t},\n\t\t\t\n\t\t\t// 加载编辑的记录数据\n\t\t\tloadEditRecord(recordId) {\n\t\t\t\tconsole.log('加载编辑记录ID:', recordId)\n\t\t\t\tconst records = uni.getStorageSync('records') || []\n\t\t\t\tconst record = records.find(item => item.id == recordId)\n\t\t\t\t\n\t\t\t\tif (record) {\n\t\t\t\t\t// 加载记录数据到表单\n\t\t\t\t\tthis.currentType = record.type\n\t\t\t\t\tthis.amount = record.amount\n\t\t\t\t\tthis.note = record.note || ''\n\t\t\t\t\t\n\t\t\t\t\t// 设置时间\n\t\t\t\t\tconst recordDate = new Date(record.time)\n\t\t\t\t\tthis.dateValue = this.formatDateForPicker(recordDate)\n\t\t\t\t\tthis.timeValue = this.formatTimeForPicker(recordDate)\n\t\t\t\t\tthis.datetime = this.formatDatetimeForPicker(recordDate)\n\t\t\t\t\t\n\t\t\t\t\t// 设置分类（需要等待分类数据加载完成）\n\t\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\t\tconst category = this.currentCategories.find(cat => cat.id == record.categoryId)\n\t\t\t\t\t\tif (category) {\n\t\t\t\t\t\t\tthis.selectedCategory = category\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// 如果找不到对应分类，可能是分类已被删除，创建一个临时分类对象\n\t\t\t\t\t\t\tthis.selectedCategory = {\n\t\t\t\t\t\t\t\tid: record.categoryId,\n\t\t\t\t\t\t\t\tname: record.categoryName,\n\t\t\t\t\t\t\t\ticon: record.categoryIcon\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\tconsole.log('加载编辑记录:', record)\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error('找不到要编辑的记录:', recordId)\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '记录不存在',\n\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t})\n\t\t\t\t\t// 返回上一页\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tuni.navigateBack()\n\t\t\t\t\t}, 1500)\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tswitchType(type) {\n\t\t\t\tthis.currentType = type\n\t\t\t\tthis.selectedCategory = null // 切换类型时清除已选分类\n\t\t\t},\n\t\t\t\n\t\t\tonAmountInput(e) {\n\t\t\t\tlet value = e.detail.value\n\t\t\t\t// 确保只有数字和小数点\n\t\t\t\tvalue = value.replace(/[^\\d.]/g, '')\n\t\t\t\t// 确保只有一个小数点\n\t\t\t\tconst dotIndex = value.indexOf('.')\n\t\t\t\tif (dotIndex !== -1) {\n\t\t\t\t\tvalue = value.slice(0, dotIndex + 1) + value.slice(dotIndex + 1).replace(/\\./g, '')\n\t\t\t\t\t// 限制小数点后两位\n\t\t\t\t\tif (value.length > dotIndex + 3) {\n\t\t\t\t\t\tvalue = value.slice(0, dotIndex + 3)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.amount = value\n\t\t\t},\n\t\t\t\n\t\t\tselectCategory(category) {\n\t\t\t\tthis.selectedCategory = category\n\t\t\t},\n\t\t\t\n\t\t\tonDatetimeChange(e) {\n\t\t\t\tconsole.log('时间选择变更:', e.detail.value) // 调试信息\n\t\t\t\tthis.datetime = e.detail.value\n\t\t\t},\n\t\t\t\n\t\t\tonDateChange(e) {\n\t\t\t\tconsole.log('日期选择变更:', e.detail.value)\n\t\t\t\tthis.dateValue = e.detail.value\n\t\t\t\tthis.updateDateTime()\n\t\t\t},\n\t\t\t\n\t\t\tonTimeChange(e) {\n\t\t\t\tconsole.log('时间选择变更:', e.detail.value)\n\t\t\t\tthis.timeValue = e.detail.value\n\t\t\t\tthis.updateDateTime()\n\t\t\t},\n\t\t\t\n\t\t\tupdateDateTime() {\n\t\t\t\tif (this.dateValue && this.timeValue) {\n\t\t\t\t\tthis.datetime = `${this.dateValue} ${this.timeValue}`\n\t\t\t\t\tconsole.log('合并后的时间:', this.datetime)\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\tformatDateTime(datetime) {\n\t\t\t\tif (!datetime) return ''\n\t\t\t\tconst date = new Date(datetime)\n\t\t\t\tconst year = date.getFullYear()\n\t\t\t\tconst month = (date.getMonth() + 1).toString().padStart(2, '0')\n\t\t\t\tconst day = date.getDate().toString().padStart(2, '0')\n\t\t\t\tconst hours = date.getHours().toString().padStart(2, '0')\n\t\t\t\tconst minutes = date.getMinutes().toString().padStart(2, '0')\n\t\t\t\treturn `${year}-${month}-${day} ${hours}:${minutes}`\n\t\t\t},\n\t\t\t\n\t\t\tformatDatetimeForPicker(date) {\n\t\t\t\tconst year = date.getFullYear()\n\t\t\t\tconst month = (date.getMonth() + 1).toString().padStart(2, '0')\n\t\t\t\tconst day = date.getDate().toString().padStart(2, '0')\n\t\t\t\tconst hours = date.getHours().toString().padStart(2, '0')\n\t\t\t\tconst minutes = date.getMinutes().toString().padStart(2, '0')\n\t\t\t\t// uni-app picker需要这种格式：YYYY-MM-DD HH:mm\n\t\t\t\treturn `${year}-${month}-${day} ${hours}:${minutes}`\n\t\t\t},\n\t\t\t\n\t\t\tformatDateForPicker(date) {\n\t\t\t\tconst year = date.getFullYear()\n\t\t\t\tconst month = (date.getMonth() + 1).toString().padStart(2, '0')\n\t\t\t\tconst day = date.getDate().toString().padStart(2, '0')\n\t\t\t\treturn `${year}-${month}-${day}`\n\t\t\t},\n\t\t\t\n\t\t\tformatTimeForPicker(date) {\n\t\t\t\tconst hours = date.getHours().toString().padStart(2, '0')\n\t\t\t\tconst minutes = date.getMinutes().toString().padStart(2, '0')\n\t\t\t\treturn `${hours}:${minutes}`\n\t\t\t},\n\t\t\t\n\t\t\tgetMinDate() {\n\t\t\t\t// 设置最早时间为1年前\n\t\t\t\tconst date = new Date()\n\t\t\t\tdate.setFullYear(date.getFullYear() - 1)\n\t\t\t\treturn this.formatDatetimeForPicker(date)\n\t\t\t},\n\t\t\t\n\t\t\tgetMaxDate() {\n\t\t\t\t// 设置最晚时间为当前时间\n\t\t\t\tconst date = new Date()\n\t\t\t\treturn this.formatDatetimeForPicker(date)\n\t\t\t},\n\t\t\t\n\t\t\tsaveRecord() {\n\t\t\t\tif (!this.canSave) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '请填写完整信息',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (this.isEditMode) {\n\t\t\t\t\t// 编辑模式：更新现有记录\n\t\t\t\t\tthis.updateRecord()\n\t\t\t\t} else {\n\t\t\t\t\t// 新增模式：创建新记录\n\t\t\t\t\tthis.createRecord()\n\t\t\t\t}\n\t\t\t},\n\t\t\t\n\t\t\t// 创建新记录\n\t\t\tcreateRecord() {\n\t\t\t\tconst record = {\n\t\t\t\t\tid: Date.now().toString(),\n\t\t\t\t\ttype: this.currentType,\n\t\t\t\t\tamount: this.moneyCalculator.format(parseFloat(this.amount)),\n\t\t\t\t\tcategoryId: this.selectedCategory.id,\n\t\t\t\t\tcategoryName: this.selectedCategory.name,\n\t\t\t\t\tcategoryIcon: this.selectedCategory.icon,\n\t\t\t\t\tnote: this.note.trim(),\n\t\t\t\t\ttime: new Date(this.datetime).toISOString()\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 保存到本地存储\n\t\t\t\tconst records = uni.getStorageSync('records') || []\n\t\t\t\trecords.push(record)\n\t\t\t\tuni.setStorageSync('records', records)\n\t\t\t\t\n\t\t\t\t// 显示成功提示\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '记录已保存',\n\t\t\t\t\ticon: 'success'\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\t// 返回首页\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tuni.navigateBack()\n\t\t\t\t}, 1500)\n\t\t\t},\n\t\t\t\n\t\t\t// 更新现有记录\n\t\t\tupdateRecord() {\n\t\t\t\tconst records = uni.getStorageSync('records') || []\n\t\t\t\tconst recordIndex = records.findIndex(item => item.id == this.editingRecordId)\n\t\t\t\t\n\t\t\t\tif (recordIndex == -1) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '记录不存在',\n\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t})\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// 更新记录数据\n\t\t\t\tconst updatedRecord = {\n\t\t\t\t\t...records[recordIndex], // 保持原有的id和创建时间等信息\n\t\t\t\t\ttype: this.currentType,\n\t\t\t\t\tamount: this.moneyCalculator.format(parseFloat(this.amount)),\n\t\t\t\t\tcategoryId: this.selectedCategory.id,\n\t\t\t\t\tcategoryName: this.selectedCategory.name,\n\t\t\t\t\tcategoryIcon: this.selectedCategory.icon,\n\t\t\t\t\tnote: this.note.trim(),\n\t\t\t\t\ttime: new Date(this.datetime).toISOString()\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\trecords[recordIndex] = updatedRecord\n\t\t\t\tuni.setStorageSync('records', records)\n\t\t\t\t\n\t\t\t\t// 显示成功提示\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '记录已更新',\n\t\t\t\t\ticon: 'success'\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\t// 返回首页\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tuni.navigateBack()\n\t\t\t\t}, 1500)\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t.container {\n\t\tbackground-color: #F5F5F5;\n\t\tmin-height: 100vh;\n\t\tpadding: 20rpx;\n\t}\n\t\n\t.page-header {\n\t\ttext-align: center;\n\t\tpadding: 20rpx 0 30rpx 0;\n\t}\n\t\n\t.page-title {\n\t\tfont-size: 36rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t}\n\t\n\t.type-tabs {\n\t\tdisplay: flex;\n\t\tbackground-color: white;\n\t\tborder-radius: 50rpx;\n\t\tpadding: 10rpx;\n\t\tmargin-bottom: 40rpx;\n\t}\n\t\n\t.tab-item {\n\t\tflex: 1;\n\t\ttext-align: center;\n\t\tpadding: 20rpx;\n\t\tborder-radius: 40rpx;\n\t\ttransition: all 0.3s;\n\t}\n\t\n\t.tab-item.active {\n\t\tbackground: linear-gradient(45deg, #667eea, #764ba2);\n\t}\n\t\n\t.tab-text {\n\t\tfont-size: 30rpx;\n\t\tcolor: #666;\n\t}\n\t\n\t.tab-item.active .tab-text {\n\t\tcolor: white;\n\t\tfont-weight: bold;\n\t}\n\t\n\t.amount-section {\n\t\tbackground-color: white;\n\t\tborder-radius: 20rpx;\n\t\tpadding: 60rpx 40rpx;\n\t\tmargin-bottom: 30rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\t\n\t.amount-symbol {\n\t\tfont-size: 60rpx;\n\t\tcolor: #333;\n\t\tmargin-right: 20rpx;\n\t}\n\t\n\t.amount-input {\n\t\tfont-size: 60rpx;\n\t\tcolor: #333;\n\t\ttext-align: left;\n\t\tborder: none;\n\t\toutline: none;\n\t\tbackground: transparent;\n\t}\n\t\n\t.category-section, .time-section, .note-section {\n\t\tbackground-color: white;\n\t\tborder-radius: 20rpx;\n\t\tpadding: 30rpx;\n\t\tmargin-bottom: 30rpx;\n\t}\n\t\n\t.section-title {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #333;\n\t\tmargin-bottom: 30rpx;\n\t\tdisplay: block;\n\t}\n\t\n\t.category-grid {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: 20rpx;\n\t}\n\t\n\t.category-item {\n\t\twidth: calc(20% - 16rpx);\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tpadding: 20rpx 10rpx;\n\t\tborder-radius: 15rpx;\n\t\ttransition: all 0.3s;\n\t}\n\t\n\t.category-item.active {\n\t\tbackground: linear-gradient(45deg, #667eea, #764ba2);\n\t}\n\t\n\t.category-icon {\n\t\tfont-size: 40rpx;\n\t\tmargin-bottom: 10rpx;\n\t}\n\t\n\t.category-name {\n\t\tfont-size: 24rpx;\n\t\tcolor: #333;\n\t\ttext-align: center;\n\t}\n\t\n\t.category-item.active .category-name {\n\t\tcolor: white;\n\t}\n\t\n\t.time-container {\n\t\tdisplay: flex;\n\t\tgap: 15rpx;\n\t\twidth: 100%;\n\t}\n\t\n\t/* picker组件的宽度控制 */\n\t.date-picker {\n\t\tflex: 3;\n\t\tmax-width: none;\n\t}\n\t\n\t.time-picker-only {\n\t\tflex: 2;\n\t\tmax-width: none;\n\t}\n\t\n\t.time-picker {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 25rpx 20rpx;\n\t\tbackground-color: #F8F8F8;\n\t\tborder-radius: 15rpx;\n\t\tborder: 2rpx solid #E0E0E0;\n\t\ttransition: all 0.3s ease;\n\t\tbox-sizing: border-box;\n\t\twidth: 100%;\n\t}\n\t\n\t.time-picker:active {\n\t\tbackground-color: #F0F0F0;\n\t\tborder-color: #667eea;\n\t\ttransform: scale(0.98);\n\t}\n\t\n\t.time-text {\n\t\tfont-size: 28rpx;\n\t\tcolor: #333;\n\t\tfont-weight: 500;\n\t}\n\t\n\t.time-arrow {\n\t\tfont-size: 28rpx;\n\t\tcolor: #667eea;\n\t\tfont-weight: bold;\n\t}\n\t\n\t.note-input {\n\t\twidth: 100%;\n\t\tmin-height: 120rpx;\n\t\tfont-size: 28rpx;\n\t\tline-height: 1.5;\n\t\tborder: none;\n\t\tresize: none;\n\t\toutline: none;\n\t\tbackground: transparent;\n\t}\n\t\n\t.save-section {\n\t\tmargin-top: 40rpx;\n\t}\n\t\n\t.save-btn {\n\t\twidth: 100%;\n\t\tbackground: linear-gradient(45deg, #4ECDC4, #44A08D);\n\t\tcolor: white;\n\t\tborder: none;\n\t\tborder-radius: 50rpx;\n\t\tpadding: 30rpx;\n\t\tfont-size: 32rpx;\n\t\tfont-weight: bold;\n\t}\n\t\n\t.save-btn[disabled] {\n\t\tbackground: #CCC;\n\t\tcolor: #999;\n\t}\n</style>\n","import MiniProgramPage from 'D:/simple-account-v1.0.4/pages/add/add.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":"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"}